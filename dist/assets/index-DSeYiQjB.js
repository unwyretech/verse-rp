function Qy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ix={exports:{}},va={},ox={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=Symbol.for("react.element"),Xy=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),e1=Symbol.for("react.provider"),t1=Symbol.for("react.context"),r1=Symbol.for("react.forward_ref"),n1=Symbol.for("react.suspense"),s1=Symbol.for("react.memo"),i1=Symbol.for("react.lazy"),Bd=Symbol.iterator;function o1(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var ax={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lx=Object.assign,cx={};function gs(e,t,r){this.props=e,this.context=t,this.refs=cx,this.updater=r||ax}gs.prototype.isReactComponent={};gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ux(){}ux.prototype=gs.prototype;function Yu(e,t,r){this.props=e,this.context=t,this.refs=cx,this.updater=r||ax}var Ju=Yu.prototype=new ux;Ju.constructor=Yu;lx(Ju,gs.prototype);Ju.isPureReactComponent=!0;var Fd=Array.isArray,dx=Object.prototype.hasOwnProperty,Zu={current:null},hx={key:!0,ref:!0,__self:!0,__source:!0};function fx(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)dx.call(t,n)&&!hx.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ai,type:e,key:i,ref:o,props:s,_owner:Zu.current}}function a1(e,t){return{$$typeof:Ai,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function e0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ai}function l1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Td=/\/+/g;function tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?l1(""+e.key):t.toString(36)}function yo(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ai:case Xy:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+tl(o,0):n,Fd(s)?(r="",e!=null&&(r=e.replace(Td,"$&/")+"/"),yo(s,t,r,"",function(u){return u})):s!=null&&(e0(s)&&(s=a1(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Td,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Fd(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+tl(i,a);o+=yo(i,t,r,l,s)}else if(l=o1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+tl(i,a++),o+=yo(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qi(e,t,r){if(e==null)return e;var n=[],s=0;return yo(e,n,"","",function(i){return t.call(r,i,s++)}),n}function c1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},wo={transition:null},u1={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:wo,ReactCurrentOwner:Zu};function px(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:qi,forEach:function(e,t,r){qi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qi(e,function(){t++}),t},toArray:function(e){return qi(e,function(t){return t})||[]},only:function(e){if(!e0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=gs;ae.Fragment=Yy;ae.Profiler=Zy;ae.PureComponent=Yu;ae.StrictMode=Jy;ae.Suspense=n1;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u1;ae.act=px;ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lx({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Zu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)dx.call(t,l)&&!hx.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ai,type:e.type,key:s,ref:i,props:n,_owner:o}};ae.createContext=function(e){return e={$$typeof:t1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e1,_context:e},e.Consumer=e};ae.createElement=fx;ae.createFactory=function(e){var t=fx.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:r1,render:e}};ae.isValidElement=e0;ae.lazy=function(e){return{$$typeof:i1,_payload:{_status:-1,_result:e},_init:c1}};ae.memo=function(e,t){return{$$typeof:s1,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=wo.transition;wo.transition={};try{e()}finally{wo.transition=t}};ae.unstable_act=px;ae.useCallback=function(e,t){return et.current.useCallback(e,t)};ae.useContext=function(e){return et.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return et.current.useDeferredValue(e)};ae.useEffect=function(e,t){return et.current.useEffect(e,t)};ae.useId=function(){return et.current.useId()};ae.useImperativeHandle=function(e,t,r){return et.current.useImperativeHandle(e,t,r)};ae.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return et.current.useMemo(e,t)};ae.useReducer=function(e,t,r){return et.current.useReducer(e,t,r)};ae.useRef=function(e){return et.current.useRef(e)};ae.useState=function(e){return et.current.useState(e)};ae.useSyncExternalStore=function(e,t,r){return et.current.useSyncExternalStore(e,t,r)};ae.useTransition=function(){return et.current.useTransition()};ae.version="18.3.1";ox.exports=ae;var N=ox.exports;const t0=nx(N),d1=Qy({__proto__:null,default:t0},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1=N,f1=Symbol.for("react.element"),p1=Symbol.for("react.fragment"),x1=Object.prototype.hasOwnProperty,m1=h1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g1={key:!0,ref:!0,__self:!0,__source:!0};function xx(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)x1.call(t,n)&&!g1.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:f1,type:e,key:i,ref:o,props:s,_owner:m1.current}}va.Fragment=p1;va.jsx=xx;va.jsxs=xx;ix.exports=va;var c=ix.exports,mx={exports:{}},wt={},gx={exports:{}},vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,K){var H=M.length;M.push(K);e:for(;0<H;){var B=H-1>>>1,L=M[B];if(0<s(L,K))M[B]=K,M[H]=L,H=B;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var K=M[0],H=M.pop();if(H!==K){M[0]=H;e:for(var B=0,L=M.length,$=L>>>1;B<$;){var U=2*(B+1)-1,le=M[U],ne=U+1,J=M[ne];if(0>s(le,H))ne<L&&0>s(J,le)?(M[B]=J,M[ne]=H,B=ne):(M[B]=le,M[U]=H,B=U);else if(ne<L&&0>s(J,H))M[B]=J,M[ne]=H,B=ne;else break e}}return K}function s(M,K){var H=M.sortIndex-K.sortIndex;return H!==0?H:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=M)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function w(M){if(y=!1,x(M),!g)if(r(l)!==null)g=!0,E(C);else{var K=r(u);K!==null&&q(w,K.startTime-M)}}function C(M,K){g=!1,y&&(y=!1,v(_),_=-1),p=!0;var H=f;try{for(x(K),h=r(l);h!==null&&(!(h.expirationTime>K)||M&&!D());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var L=B(h.expirationTime<=K);K=e.unstable_now(),typeof L=="function"?h.callback=L:h===r(l)&&n(l),x(K)}else n(l);h=r(l)}if(h!==null)var $=!0;else{var U=r(u);U!==null&&q(w,U.startTime-K),$=!1}return $}finally{h=null,f=H,p=!1}}var k=!1,j=null,_=-1,F=5,S=-1;function D(){return!(e.unstable_now()-S<F)}function R(){if(j!==null){var M=e.unstable_now();S=M;var K=!0;try{K=j(!0,M)}finally{K?O():(k=!1,j=null)}}else k=!1}var O;if(typeof m=="function")O=function(){m(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,I=z.port2;z.port1.onmessage=R,O=function(){I.postMessage(null)}}else O=function(){b(R,0)};function E(M){j=M,k||(k=!0,O())}function q(M,K){_=b(function(){M(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,E(C))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var H=f;f=K;try{return M()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=f;f=M;try{return K()}finally{f=H}},e.unstable_scheduleCallback=function(M,K,H){var B=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,M={id:d++,callback:K,priorityLevel:M,startTime:H,expirationTime:L,sortIndex:-1},H>B?(M.sortIndex=H,t(u,M),r(l)===null&&M===r(u)&&(y?(v(_),_=-1):y=!0,q(w,H-B))):(M.sortIndex=L,t(l,M),g||p||(g=!0,E(C))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var K=f;return function(){var H=f;f=K;try{return M.apply(this,arguments)}finally{f=H}}}})(vx);gx.exports=vx;var v1=gx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=N,vt=v1;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yx=new Set,ii={};function wn(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(ii[e]=t,e=0;e<t.length;e++)yx.add(t[e])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,w1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rd={},Od={};function b1(e){return Pc.call(Od,e)?!0:Pc.call(Rd,e)?!1:w1.test(e)?Od[e]=!0:(Rd[e]=!0,!1)}function _1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C1(e,t,r,n){if(t===null||typeof t>"u"||_1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var r0=/[\-:]([a-z])/g;function n0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(r0,n0);Me[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(r0,n0);Me[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(r0,n0);Me[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function s0(e,t,r,n){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C1(t,r,s,n)&&(r=null),n||s===null?b1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var dr=y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ki=Symbol.for("react.element"),On=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),i0=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),wx=Symbol.for("react.provider"),bx=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),Fc=Symbol.for("react.suspense"),Tc=Symbol.for("react.suspense_list"),a0=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),_x=Symbol.for("react.offscreen"),Ld=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,rl;function Os(e){if(rl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rl=t&&t[1]||""}return`
`+rl+e}var nl=!1;function sl(e,t){if(!e||nl)return"";nl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{nl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Os(e):""}function k1(e){switch(e.tag){case 5:return Os(e.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return e=sl(e.type,!1),e;case 11:return e=sl(e.type.render,!1),e;case 1:return e=sl(e.type,!0),e;default:return""}}function Rc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case On:return"Portal";case Bc:return"Profiler";case i0:return"StrictMode";case Fc:return"Suspense";case Tc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bx:return(e.displayName||"Context")+".Consumer";case wx:return(e._context.displayName||"Context")+".Provider";case o0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case a0:return t=e.displayName||null,t!==null?t:Rc(e.type)||"Memo";case mr:t=e._payload,e=e._init;try{return Rc(e(t))}catch{}}return null}function j1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rc(t);case 8:return t===i0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E1(e){var t=Cx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){e._valueTracker||(e._valueTracker=E1(e))}function kx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Cx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oc(e,t){var r=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Id(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Or(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jx(e,t){t=t.checked,t!=null&&s0(e,"checked",t,!1)}function Lc(e,t){jx(e,t);var r=Or(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ic(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ic(e,t.type,Or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Md(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ic(e,t,r){(t!=="number"||Fo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ls=Array.isArray;function Zn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Or(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ud(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(Ls(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Or(r)}}function Ex(e,t){var r=Or(t.value),n=Or(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $d(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qi,Nx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S1=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(e){S1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vs[t]=Vs[e]})});function Ax(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vs.hasOwnProperty(e)&&Vs[e]?(""+t).trim():t+"px"}function Dx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ax(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var N1=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $c(e,t){if(t){if(N1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Vc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function l0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hc=null,es=null,ts=null;function Vd(e){if(e=Bi(e)){if(typeof Hc!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Ca(t),Hc(e.stateNode,e.type,t))}}function Px(e){es?ts?ts.push(e):ts=[e]:es=e}function Bx(){if(es){var e=es,t=ts;if(ts=es=null,Vd(e),t)for(e=0;e<t.length;e++)Vd(t[e])}}function Fx(e,t){return e(t)}function Tx(){}var il=!1;function Rx(e,t,r){if(il)return e(t,r);il=!0;try{return Fx(e,t,r)}finally{il=!1,(es!==null||ts!==null)&&(Tx(),Bx())}}function ai(e,t){var r=e.stateNode;if(r===null)return null;var n=Ca(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var Wc=!1;if(or)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Wc=!1}function A1(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var zs=!1,To=null,Ro=!1,qc=null,D1={onError:function(e){zs=!0,To=e}};function P1(e,t,r,n,s,i,o,a,l){zs=!1,To=null,A1.apply(D1,arguments)}function B1(e,t,r,n,s,i,o,a,l){if(P1.apply(this,arguments),zs){if(zs){var u=To;zs=!1,To=null}else throw Error(V(198));Ro||(Ro=!0,qc=u)}}function bn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ox(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zd(e){if(bn(e)!==e)throw Error(V(188))}function F1(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return zd(s),e;if(i===n)return zd(s),t;i=i.sibling}throw Error(V(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function Lx(e){return e=F1(e),e!==null?Ix(e):null}function Ix(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ix(e);if(t!==null)return t;e=e.sibling}return null}var Mx=vt.unstable_scheduleCallback,Hd=vt.unstable_cancelCallback,T1=vt.unstable_shouldYield,R1=vt.unstable_requestPaint,Ce=vt.unstable_now,O1=vt.unstable_getCurrentPriorityLevel,c0=vt.unstable_ImmediatePriority,Ux=vt.unstable_UserBlockingPriority,Oo=vt.unstable_NormalPriority,L1=vt.unstable_LowPriority,$x=vt.unstable_IdlePriority,ya=null,Wt=null;function I1(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:$1,M1=Math.log,U1=Math.LN2;function $1(e){return e>>>=0,e===0?32:31-(M1(e)/U1|0)|0}var Xi=64,Yi=4194304;function Is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Is(a):(i&=o,i!==0&&(n=Is(i)))}else o=r&~s,o!==0?n=Is(o):i!==0&&(n=Is(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-It(t),s=1<<r,n|=e[r],t&=~s;return n}function V1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z1(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-It(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=V1(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vx(){var e=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),e}function ol(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Di(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=r}function H1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-It(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function u0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-It(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var de=0;function zx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hx,d0,Wx,qx,Kx,Gc=!1,Ji=[],Sr=null,Nr=null,Ar=null,li=new Map,ci=new Map,wr=[],W1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wd(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function Ss(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Bi(t),t!==null&&d0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function q1(e,t,r,n,s){switch(t){case"focusin":return Sr=Ss(Sr,e,t,r,n,s),!0;case"dragenter":return Nr=Ss(Nr,e,t,r,n,s),!0;case"mouseover":return Ar=Ss(Ar,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return li.set(i,Ss(li.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ci.set(i,Ss(ci.get(i)||null,e,t,r,n,s)),!0}return!1}function Gx(e){var t=on(e.target);if(t!==null){var r=bn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ox(r),t!==null){e.blockedOn=t,Kx(e.priority,function(){Wx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zc=n,r.target.dispatchEvent(n),zc=null}else return t=Bi(r),t!==null&&d0(t),e.blockedOn=r,!1;t.shift()}return!0}function qd(e,t,r){bo(e)&&r.delete(t)}function K1(){Gc=!1,Sr!==null&&bo(Sr)&&(Sr=null),Nr!==null&&bo(Nr)&&(Nr=null),Ar!==null&&bo(Ar)&&(Ar=null),li.forEach(qd),ci.forEach(qd)}function Ns(e,t){e.blockedOn===t&&(e.blockedOn=null,Gc||(Gc=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,K1)))}function ui(e){function t(s){return Ns(s,e)}if(0<Ji.length){Ns(Ji[0],e);for(var r=1;r<Ji.length;r++){var n=Ji[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sr!==null&&Ns(Sr,e),Nr!==null&&Ns(Nr,e),Ar!==null&&Ns(Ar,e),li.forEach(t),ci.forEach(t),r=0;r<wr.length;r++)n=wr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<wr.length&&(r=wr[0],r.blockedOn===null);)Gx(r),r.blockedOn===null&&wr.shift()}var rs=dr.ReactCurrentBatchConfig,Io=!0;function G1(e,t,r,n){var s=de,i=rs.transition;rs.transition=null;try{de=1,h0(e,t,r,n)}finally{de=s,rs.transition=i}}function Q1(e,t,r,n){var s=de,i=rs.transition;rs.transition=null;try{de=4,h0(e,t,r,n)}finally{de=s,rs.transition=i}}function h0(e,t,r,n){if(Io){var s=Qc(e,t,r,n);if(s===null)ml(e,t,n,Mo,r),Wd(e,n);else if(q1(s,e,t,r,n))n.stopPropagation();else if(Wd(e,n),t&4&&-1<W1.indexOf(e)){for(;s!==null;){var i=Bi(s);if(i!==null&&Hx(i),i=Qc(e,t,r,n),i===null&&ml(e,t,n,Mo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ml(e,t,n,null,r)}}var Mo=null;function Qc(e,t,r,n){if(Mo=null,e=l0(n),e=on(e),e!==null)if(t=bn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ox(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mo=e,null}function Qx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O1()){case c0:return 1;case Ux:return 4;case Oo:case L1:return 16;case $x:return 536870912;default:return 16}default:return 16}}var Cr=null,f0=null,_o=null;function Xx(){if(_o)return _o;var e,t=f0,r=t.length,n,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return _o=s.slice(e,1<n?1-n:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function Kd(){return!1}function bt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zi:Kd,this.isPropagationStopped=Kd,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p0=bt(vs),Pi=be({},vs,{view:0,detail:0}),X1=bt(Pi),al,ll,As,wa=be({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(al=e.screenX-As.screenX,ll=e.screenY-As.screenY):ll=al=0,As=e),al)},movementY:function(e){return"movementY"in e?e.movementY:ll}}),Gd=bt(wa),Y1=be({},wa,{dataTransfer:0}),J1=bt(Y1),Z1=be({},Pi,{relatedTarget:0}),cl=bt(Z1),ew=be({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),tw=bt(ew),rw=be({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nw=bt(rw),sw=be({},vs,{data:0}),Qd=bt(sw),iw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aw[e])?!!t[e]:!1}function x0(){return lw}var cw=be({},Pi,{key:function(e){if(e.key){var t=iw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ow[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x0,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uw=bt(cw),dw=be({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=bt(dw),hw=be({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x0}),fw=bt(hw),pw=be({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),xw=bt(pw),mw=be({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gw=bt(mw),vw=[9,13,27,32],m0=or&&"CompositionEvent"in window,Hs=null;or&&"documentMode"in document&&(Hs=document.documentMode);var yw=or&&"TextEvent"in window&&!Hs,Yx=or&&(!m0||Hs&&8<Hs&&11>=Hs),Yd=" ",Jd=!1;function Jx(e,t){switch(e){case"keyup":return vw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function ww(e,t){switch(e){case"compositionend":return Zx(t);case"keypress":return t.which!==32?null:(Jd=!0,Yd);case"textInput":return e=t.data,e===Yd&&Jd?null:e;default:return null}}function bw(e,t){if(In)return e==="compositionend"||!m0&&Jx(e,t)?(e=Xx(),_o=f0=Cr=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yx&&t.locale!=="ko"?null:t.data;default:return null}}var _w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_w[e.type]:t==="textarea"}function em(e,t,r,n){Px(n),t=Uo(t,"onChange"),0<t.length&&(r=new p0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ws=null,di=null;function Cw(e){dm(e,0)}function ba(e){var t=$n(e);if(kx(t))return e}function kw(e,t){if(e==="change")return t}var tm=!1;if(or){var ul;if(or){var dl="oninput"in document;if(!dl){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),dl=typeof eh.oninput=="function"}ul=dl}else ul=!1;tm=ul&&(!document.documentMode||9<document.documentMode)}function th(){Ws&&(Ws.detachEvent("onpropertychange",rm),di=Ws=null)}function rm(e){if(e.propertyName==="value"&&ba(di)){var t=[];em(t,di,e,l0(e)),Rx(Cw,t)}}function jw(e,t,r){e==="focusin"?(th(),Ws=t,di=r,Ws.attachEvent("onpropertychange",rm)):e==="focusout"&&th()}function Ew(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(di)}function Sw(e,t){if(e==="click")return ba(t)}function Nw(e,t){if(e==="input"||e==="change")return ba(t)}function Aw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Aw;function hi(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pc.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nh(e,t){var r=rh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rh(r)}}function nm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sm(){for(var e=window,t=Fo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fo(e.document)}return t}function g0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dw(e){var t=sm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&nm(r.ownerDocument.documentElement,r)){if(n!==null&&g0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=nh(r,i);var o=nh(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pw=or&&"documentMode"in document&&11>=document.documentMode,Mn=null,Xc=null,qs=null,Yc=!1;function sh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yc||Mn==null||Mn!==Fo(n)||(n=Mn,"selectionStart"in n&&g0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qs&&hi(qs,n)||(qs=n,n=Uo(Xc,"onSelect"),0<n.length&&(t=new p0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mn)))}function eo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Un={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},hl={},im={};or&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function _a(e){if(hl[e])return hl[e];if(!Un[e])return e;var t=Un[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in im)return hl[e]=t[r];return e}var om=_a("animationend"),am=_a("animationiteration"),lm=_a("animationstart"),cm=_a("transitionend"),um=new Map,ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){um.set(e,t),wn(t,[e])}for(var fl=0;fl<ih.length;fl++){var pl=ih[fl],Bw=pl.toLowerCase(),Fw=pl[0].toUpperCase()+pl.slice(1);Ur(Bw,"on"+Fw)}Ur(om,"onAnimationEnd");Ur(am,"onAnimationIteration");Ur(lm,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(cm,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function oh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,B1(n,t,void 0,e),e.currentTarget=null}function dm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;oh(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;oh(s,a,u),i=l}}}if(Ro)throw e=qc,Ro=!1,qc=null,e}function xe(e,t){var r=t[ru];r===void 0&&(r=t[ru]=new Set);var n=e+"__bubble";r.has(n)||(hm(t,e,2,!1),r.add(n))}function xl(e,t,r){var n=0;t&&(n|=4),hm(r,e,n,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[to]){e[to]=!0,yx.forEach(function(r){r!=="selectionchange"&&(Tw.has(r)||xl(r,!1,e),xl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,xl("selectionchange",!1,t))}}function hm(e,t,r,n){switch(Qx(t)){case 1:var s=G1;break;case 4:s=Q1;break;default:s=h0}r=s.bind(null,t,r,e),s=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ml(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=on(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Rx(function(){var u=i,d=l0(r),h=[];e:{var f=um.get(e);if(f!==void 0){var p=p0,g=e;switch(e){case"keypress":if(Co(r)===0)break e;case"keydown":case"keyup":p=uw;break;case"focusin":g="focus",p=cl;break;case"focusout":g="blur",p=cl;break;case"beforeblur":case"afterblur":p=cl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=J1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fw;break;case om:case am:case lm:p=tw;break;case cm:p=xw;break;case"scroll":p=X1;break;case"wheel":p=gw;break;case"copy":case"cut":case"paste":p=nw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xd}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,x;m!==null;){x=m;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,v!==null&&(w=ai(m,v),w!=null&&y.push(pi(m,w,x)))),b)break;m=m.return}0<y.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==zc&&(g=r.relatedTarget||r.fromElement)&&(on(g)||g[ar]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?on(g):null,g!==null&&(b=bn(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=Gd,w="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Xd,w="onPointerLeave",v="onPointerEnter",m="pointer"),b=p==null?f:$n(p),x=g==null?f:$n(g),f=new y(w,m+"leave",p,r,d),f.target=b,f.relatedTarget=x,w=null,on(d)===u&&(y=new y(v,m+"enter",g,r,d),y.target=x,y.relatedTarget=b,w=y),b=w,p&&g)t:{for(y=p,v=g,m=0,x=y;x;x=Dn(x))m++;for(x=0,w=v;w;w=Dn(w))x++;for(;0<m-x;)y=Dn(y),m--;for(;0<x-m;)v=Dn(v),x--;for(;m--;){if(y===v||v!==null&&y===v.alternate)break t;y=Dn(y),v=Dn(v)}y=null}else y=null;p!==null&&ah(h,f,p,y,!1),g!==null&&b!==null&&ah(h,b,g,y,!0)}}e:{if(f=u?$n(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=kw;else if(Zd(f))if(tm)C=Nw;else{C=Ew;var k=jw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Sw);if(C&&(C=C(e,u))){em(h,C,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Ic(f,"number",f.value)}switch(k=u?$n(u):window,e){case"focusin":(Zd(k)||k.contentEditable==="true")&&(Mn=k,Xc=u,qs=null);break;case"focusout":qs=Xc=Mn=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,sh(h,r,d);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":sh(h,r,d)}var j;if(m0)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else In?Jx(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Yx&&r.locale!=="ko"&&(In||_!=="onCompositionStart"?_==="onCompositionEnd"&&In&&(j=Xx()):(Cr=d,f0="value"in Cr?Cr.value:Cr.textContent,In=!0)),k=Uo(u,_),0<k.length&&(_=new Qd(_,e,null,r,d),h.push({event:_,listeners:k}),j?_.data=j:(j=Zx(r),j!==null&&(_.data=j)))),(j=yw?ww(e,r):bw(e,r))&&(u=Uo(u,"onBeforeInput"),0<u.length&&(d=new Qd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}dm(h,t)})}function pi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Uo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ai(e,r),i!=null&&n.unshift(pi(e,i,s)),i=ai(e,t),i!=null&&n.push(pi(e,i,s))),e=e.return}return n}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ah(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=ai(r,i),l!=null&&o.unshift(pi(r,l,a))):s||(l=ai(r,i),l!=null&&o.push(pi(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Rw=/\r\n?/g,Ow=/\u0000|\uFFFD/g;function lh(e){return(typeof e=="string"?e:""+e).replace(Rw,`
`).replace(Ow,"")}function ro(e,t,r){if(t=lh(t),lh(e)!==t&&r)throw Error(V(425))}function $o(){}var Jc=null,Zc=null;function eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tu=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(Mw)}:tu;function Mw(e){setTimeout(function(){throw e})}function gl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ui(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ui(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ys,xi="__reactProps$"+ys,ar="__reactContainer$"+ys,ru="__reactEvents$"+ys,Uw="__reactListeners$"+ys,$w="__reactHandles$"+ys;function on(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ar]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uh(e);e!==null;){if(r=e[Ht])return r;e=uh(e)}return t}e=r,r=e.parentNode}return null}function Bi(e){return e=e[Ht]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Ca(e){return e[xi]||null}var nu=[],Vn=-1;function $r(e){return{current:e}}function me(e){0>Vn||(e.current=nu[Vn],nu[Vn]=null,Vn--)}function fe(e,t){Vn++,nu[Vn]=e.current,e.current=t}var Lr={},Ge=$r(Lr),lt=$r(!1),xn=Lr;function ls(e,t){var r=e.type.contextTypes;if(!r)return Lr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ct(e){return e=e.childContextTypes,e!=null}function Vo(){me(lt),me(Ge)}function dh(e,t,r){if(Ge.current!==Lr)throw Error(V(168));fe(Ge,t),fe(lt,r)}function fm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(V(108,j1(e)||"Unknown",s));return be({},r,n)}function zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lr,xn=Ge.current,fe(Ge,e),fe(lt,lt.current),!0}function hh(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=fm(e,t,xn),n.__reactInternalMemoizedMergedChildContext=e,me(lt),me(Ge),fe(Ge,e)):me(lt),fe(lt,r)}var Zt=null,ka=!1,vl=!1;function pm(e){Zt===null?Zt=[e]:Zt.push(e)}function Vw(e){ka=!0,pm(e)}function Vr(){if(!vl&&Zt!==null){vl=!0;var e=0,t=de;try{var r=Zt;for(de=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zt=null,ka=!1}catch(s){throw Zt!==null&&(Zt=Zt.slice(e+1)),Mx(c0,Vr),s}finally{de=t,vl=!1}}return null}var zn=[],Hn=0,Ho=null,Wo=0,kt=[],jt=0,mn=null,er=1,tr="";function Jr(e,t){zn[Hn++]=Wo,zn[Hn++]=Ho,Ho=e,Wo=t}function xm(e,t,r){kt[jt++]=er,kt[jt++]=tr,kt[jt++]=mn,mn=e;var n=er;e=tr;var s=32-It(n)-1;n&=~(1<<s),r+=1;var i=32-It(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,er=1<<32-It(t)+s|r<<s|n,tr=i+e}else er=1<<i|r<<s|n,tr=e}function v0(e){e.return!==null&&(Jr(e,1),xm(e,1,0))}function y0(e){for(;e===Ho;)Ho=zn[--Hn],zn[Hn]=null,Wo=zn[--Hn],zn[Hn]=null;for(;e===mn;)mn=kt[--jt],kt[jt]=null,tr=kt[--jt],kt[jt]=null,er=kt[--jt],kt[jt]=null}var gt=null,mt=null,ge=!1,Lt=null;function mm(e,t){var r=Et(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function fh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mn!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Et(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gt=e,mt=null,!0):!1;default:return!1}}function su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iu(e){if(ge){var t=mt;if(t){var r=t;if(!fh(e,t)){if(su(e))throw Error(V(418));t=Dr(r.nextSibling);var n=gt;t&&fh(e,t)?mm(n,r):(e.flags=e.flags&-4097|2,ge=!1,gt=e)}}else{if(su(e))throw Error(V(418));e.flags=e.flags&-4097|2,ge=!1,gt=e}}}function ph(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function no(e){if(e!==gt)return!1;if(!ge)return ph(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eu(e.type,e.memoizedProps)),t&&(t=mt)){if(su(e))throw gm(),Error(V(418));for(;t;)mm(e,t),t=Dr(t.nextSibling)}if(ph(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mt=Dr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?Dr(e.stateNode.nextSibling):null;return!0}function gm(){for(var e=mt;e;)e=Dr(e.nextSibling)}function cs(){mt=gt=null,ge=!1}function w0(e){Lt===null?Lt=[e]:Lt.push(e)}var zw=dr.ReactCurrentBatchConfig;function Ds(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function so(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xh(e){var t=e._init;return t(e._payload)}function vm(e){function t(v,m){if(e){var x=v.deletions;x===null?(v.deletions=[m],v.flags|=16):x.push(m)}}function r(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Tr(v,m),v.index=0,v.sibling=null,v}function i(v,m,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<m?(v.flags|=2,m):x):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,m,x,w){return m===null||m.tag!==6?(m=jl(x,v.mode,w),m.return=v,m):(m=s(m,x),m.return=v,m)}function l(v,m,x,w){var C=x.type;return C===Ln?d(v,m,x.props.children,w,x.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===mr&&xh(C)===m.type)?(w=s(m,x.props),w.ref=Ds(v,m,x),w.return=v,w):(w=Do(x.type,x.key,x.props,null,v.mode,w),w.ref=Ds(v,m,x),w.return=v,w)}function u(v,m,x,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=El(x,v.mode,w),m.return=v,m):(m=s(m,x.children||[]),m.return=v,m)}function d(v,m,x,w,C){return m===null||m.tag!==7?(m=hn(x,v.mode,w,C),m.return=v,m):(m=s(m,x),m.return=v,m)}function h(v,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=jl(""+m,v.mode,x),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ki:return x=Do(m.type,m.key,m.props,null,v.mode,x),x.ref=Ds(v,null,m),x.return=v,x;case On:return m=El(m,v.mode,x),m.return=v,m;case mr:var w=m._init;return h(v,w(m._payload),x)}if(Ls(m)||js(m))return m=hn(m,v.mode,x,null),m.return=v,m;so(v,m)}return null}function f(v,m,x,w){var C=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(v,m,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ki:return x.key===C?l(v,m,x,w):null;case On:return x.key===C?u(v,m,x,w):null;case mr:return C=x._init,f(v,m,C(x._payload),w)}if(Ls(x)||js(x))return C!==null?null:d(v,m,x,w,null);so(v,x)}return null}function p(v,m,x,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(x)||null,a(m,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ki:return v=v.get(w.key===null?x:w.key)||null,l(m,v,w,C);case On:return v=v.get(w.key===null?x:w.key)||null,u(m,v,w,C);case mr:var k=w._init;return p(v,m,x,k(w._payload),C)}if(Ls(w)||js(w))return v=v.get(x)||null,d(m,v,w,C,null);so(m,w)}return null}function g(v,m,x,w){for(var C=null,k=null,j=m,_=m=0,F=null;j!==null&&_<x.length;_++){j.index>_?(F=j,j=null):F=j.sibling;var S=f(v,j,x[_],w);if(S===null){j===null&&(j=F);break}e&&j&&S.alternate===null&&t(v,j),m=i(S,m,_),k===null?C=S:k.sibling=S,k=S,j=F}if(_===x.length)return r(v,j),ge&&Jr(v,_),C;if(j===null){for(;_<x.length;_++)j=h(v,x[_],w),j!==null&&(m=i(j,m,_),k===null?C=j:k.sibling=j,k=j);return ge&&Jr(v,_),C}for(j=n(v,j);_<x.length;_++)F=p(j,v,_,x[_],w),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?_:F.key),m=i(F,m,_),k===null?C=F:k.sibling=F,k=F);return e&&j.forEach(function(D){return t(v,D)}),ge&&Jr(v,_),C}function y(v,m,x,w){var C=js(x);if(typeof C!="function")throw Error(V(150));if(x=C.call(x),x==null)throw Error(V(151));for(var k=C=null,j=m,_=m=0,F=null,S=x.next();j!==null&&!S.done;_++,S=x.next()){j.index>_?(F=j,j=null):F=j.sibling;var D=f(v,j,S.value,w);if(D===null){j===null&&(j=F);break}e&&j&&D.alternate===null&&t(v,j),m=i(D,m,_),k===null?C=D:k.sibling=D,k=D,j=F}if(S.done)return r(v,j),ge&&Jr(v,_),C;if(j===null){for(;!S.done;_++,S=x.next())S=h(v,S.value,w),S!==null&&(m=i(S,m,_),k===null?C=S:k.sibling=S,k=S);return ge&&Jr(v,_),C}for(j=n(v,j);!S.done;_++,S=x.next())S=p(j,v,_,S.value,w),S!==null&&(e&&S.alternate!==null&&j.delete(S.key===null?_:S.key),m=i(S,m,_),k===null?C=S:k.sibling=S,k=S);return e&&j.forEach(function(R){return t(v,R)}),ge&&Jr(v,_),C}function b(v,m,x,w){if(typeof x=="object"&&x!==null&&x.type===Ln&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ki:e:{for(var C=x.key,k=m;k!==null;){if(k.key===C){if(C=x.type,C===Ln){if(k.tag===7){r(v,k.sibling),m=s(k,x.props.children),m.return=v,v=m;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===mr&&xh(C)===k.type){r(v,k.sibling),m=s(k,x.props),m.ref=Ds(v,k,x),m.return=v,v=m;break e}r(v,k);break}else t(v,k);k=k.sibling}x.type===Ln?(m=hn(x.props.children,v.mode,w,x.key),m.return=v,v=m):(w=Do(x.type,x.key,x.props,null,v.mode,w),w.ref=Ds(v,m,x),w.return=v,v=w)}return o(v);case On:e:{for(k=x.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(v,m.sibling),m=s(m,x.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else t(v,m);m=m.sibling}m=El(x,v.mode,w),m.return=v,v=m}return o(v);case mr:return k=x._init,b(v,m,k(x._payload),w)}if(Ls(x))return g(v,m,x,w);if(js(x))return y(v,m,x,w);so(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(v,m.sibling),m=s(m,x),m.return=v,v=m):(r(v,m),m=jl(x,v.mode,w),m.return=v,v=m),o(v)):r(v,m)}return b}var us=vm(!0),ym=vm(!1),qo=$r(null),Ko=null,Wn=null,b0=null;function _0(){b0=Wn=Ko=null}function C0(e){var t=qo.current;me(qo),e._currentValue=t}function ou(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ns(e,t){Ko=e,b0=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(b0!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(Ko===null)throw Error(V(308));Wn=e,Ko.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var an=null;function k0(e){an===null?an=[e]:an.push(e)}function wm(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,k0(t)):(r.next=s.next,s.next=r),t.interleaved=r,lr(e,n)}function lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gr=!1;function j0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ue&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,lr(e,r)}return s=n.interleaved,s===null?(t.next=t,k0(n)):(t.next=s.next,s.next=t),n.interleaved=t,lr(e,r)}function ko(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,u0(e,r)}}function mh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Go(e,t,r,n){var s=e.updateQueue;gr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(f=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=be({},h,f);break e;case 2:gr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vn|=o,e.lanes=o,e.memoizedState=h}}function gh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(V(191,s));s.call(n)}}}var Fi={},qt=$r(Fi),mi=$r(Fi),gi=$r(Fi);function ln(e){if(e===Fi)throw Error(V(174));return e}function E0(e,t){switch(fe(gi,t),fe(mi,e),fe(qt,Fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uc(t,e)}me(qt),fe(qt,t)}function ds(){me(qt),me(mi),me(gi)}function _m(e){ln(gi.current);var t=ln(qt.current),r=Uc(t,e.type);t!==r&&(fe(mi,e),fe(qt,r))}function S0(e){mi.current===e&&(me(qt),me(mi))}var ve=$r(0);function Qo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yl=[];function N0(){for(var e=0;e<yl.length;e++)yl[e]._workInProgressVersionPrimary=null;yl.length=0}var jo=dr.ReactCurrentDispatcher,wl=dr.ReactCurrentBatchConfig,gn=0,we=null,Ne=null,Be=null,Xo=!1,Ks=!1,vi=0,Hw=0;function He(){throw Error(V(321))}function A0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ut(e[r],t[r]))return!1;return!0}function D0(e,t,r,n,s,i){if(gn=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=e===null||e.memoizedState===null?Gw:Qw,e=r(n,s),Ks){i=0;do{if(Ks=!1,vi=0,25<=i)throw Error(V(301));i+=1,Be=Ne=null,t.updateQueue=null,jo.current=Xw,e=r(n,s)}while(Ks)}if(jo.current=Yo,t=Ne!==null&&Ne.next!==null,gn=0,Be=Ne=we=null,Xo=!1,t)throw Error(V(300));return e}function P0(){var e=vi!==0;return vi=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?we.memoizedState=Be=e:Be=Be.next=e,Be}function At(){if(Ne===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Be===null?we.memoizedState:Be.next;if(t!==null)Be=t,Ne=e;else{if(e===null)throw Error(V(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Be===null?we.memoizedState=Be=e:Be=Be.next=e}return Be}function yi(e,t){return typeof t=="function"?t(e):t}function bl(e){var t=At(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=Ne,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((gn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,we.lanes|=d,vn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Ut(n,t.memoizedState)||(at=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,vn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _l(e){var t=At(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ut(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Cm(){}function km(e,t){var r=we,n=At(),s=t(),i=!Ut(n.memoizedState,s);if(i&&(n.memoizedState=s,at=!0),n=n.queue,B0(Sm.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,wi(9,Em.bind(null,r,n,s,t),void 0,null),Fe===null)throw Error(V(349));gn&30||jm(r,t,s)}return s}function jm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Em(e,t,r,n){t.value=r,t.getSnapshot=n,Nm(t)&&Am(e)}function Sm(e,t,r){return r(function(){Nm(t)&&Am(e)})}function Nm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ut(e,r)}catch{return!0}}function Am(e){var t=lr(e,1);t!==null&&Mt(t,e,1,-1)}function vh(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Kw.bind(null,we,e),[t.memoizedState,e]}function wi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Dm(){return At().memoizedState}function Eo(e,t,r,n){var s=zt();we.flags|=e,s.memoizedState=wi(1|t,r,void 0,n===void 0?null:n)}function ja(e,t,r,n){var s=At();n=n===void 0?null:n;var i=void 0;if(Ne!==null){var o=Ne.memoizedState;if(i=o.destroy,n!==null&&A0(n,o.deps)){s.memoizedState=wi(t,r,i,n);return}}we.flags|=e,s.memoizedState=wi(1|t,r,i,n)}function yh(e,t){return Eo(8390656,8,e,t)}function B0(e,t){return ja(2048,8,e,t)}function Pm(e,t){return ja(4,2,e,t)}function Bm(e,t){return ja(4,4,e,t)}function Fm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tm(e,t,r){return r=r!=null?r.concat([e]):null,ja(4,4,Fm.bind(null,t,e),r)}function F0(){}function Rm(e,t){var r=At();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&A0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Om(e,t){var r=At();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&A0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Lm(e,t,r){return gn&21?(Ut(r,t)||(r=Vx(),we.lanes|=r,vn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=r)}function Ww(e,t){var r=de;de=r!==0&&4>r?r:4,e(!0);var n=wl.transition;wl.transition={};try{e(!1),t()}finally{de=r,wl.transition=n}}function Im(){return At().memoizedState}function qw(e,t,r){var n=Fr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mm(e))Um(t,r);else if(r=wm(e,t,r,n),r!==null){var s=Ze();Mt(r,e,n,s),$m(r,t,n)}}function Kw(e,t,r){var n=Fr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mm(e))Um(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ut(a,o)){var l=t.interleaved;l===null?(s.next=s,k0(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=wm(e,t,s,n),r!==null&&(s=Ze(),Mt(r,e,n,s),$m(r,t,n))}}function Mm(e){var t=e.alternate;return e===we||t!==null&&t===we}function Um(e,t){Ks=Xo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $m(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,u0(e,r)}}var Yo={readContext:Nt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Gw={readContext:Nt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:yh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Eo(4194308,4,Fm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eo(4,2,e,t)},useMemo:function(e,t){var r=zt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qw.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:vh,useDebugValue:F0,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=vh(!1),t=e[0];return e=Ww.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,s=zt();if(ge){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),Fe===null)throw Error(V(349));gn&30||jm(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,yh(Sm.bind(null,n,i,e),[e]),n.flags|=2048,wi(9,Em.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=zt(),t=Fe.identifierPrefix;if(ge){var r=tr,n=er;r=(n&~(1<<32-It(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qw={readContext:Nt,useCallback:Rm,useContext:Nt,useEffect:B0,useImperativeHandle:Tm,useInsertionEffect:Pm,useLayoutEffect:Bm,useMemo:Om,useReducer:bl,useRef:Dm,useState:function(){return bl(yi)},useDebugValue:F0,useDeferredValue:function(e){var t=At();return Lm(t,Ne.memoizedState,e)},useTransition:function(){var e=bl(yi)[0],t=At().memoizedState;return[e,t]},useMutableSource:Cm,useSyncExternalStore:km,useId:Im,unstable_isNewReconciler:!1},Xw={readContext:Nt,useCallback:Rm,useContext:Nt,useEffect:B0,useImperativeHandle:Tm,useInsertionEffect:Pm,useLayoutEffect:Bm,useMemo:Om,useReducer:_l,useRef:Dm,useState:function(){return _l(yi)},useDebugValue:F0,useDeferredValue:function(e){var t=At();return Ne===null?t.memoizedState=e:Lm(t,Ne.memoizedState,e)},useTransition:function(){var e=_l(yi)[0],t=At().memoizedState;return[e,t]},useMutableSource:Cm,useSyncExternalStore:km,useId:Im,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function au(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ea={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ze(),s=Fr(e),i=nr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Pr(e,i,s),t!==null&&(Mt(t,e,s,n),ko(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ze(),s=Fr(e),i=nr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Pr(e,i,s),t!==null&&(Mt(t,e,s,n),ko(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ze(),n=Fr(e),s=nr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Pr(e,s,n),t!==null&&(Mt(t,e,n,r),ko(t,e,n))}};function wh(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!hi(r,n)||!hi(s,i):!0}function Vm(e,t,r){var n=!1,s=Lr,i=t.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(s=ct(t)?xn:Ge.current,n=t.contextTypes,i=(n=n!=null)?ls(e,s):Lr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ea,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function bh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ea.enqueueReplaceState(t,t.state,null)}function lu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},j0(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Nt(i):(i=ct(t)?xn:Ge.current,s.context=ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(au(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ea.enqueueReplaceState(s,s.state,null),Go(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hs(e,t){try{var r="",n=t;do r+=k1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Cl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Yw=typeof WeakMap=="function"?WeakMap:Map;function zm(e,t,r){r=nr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zo||(Zo=!0,yu=n),cu(e,t)},r}function Hm(e,t,r){r=nr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){cu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cu(e,t),typeof n!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _h(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Yw;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=d2.bind(null,e,t,r),t.then(e,e))}function Ch(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nr(-1,1),t.tag=2,Pr(r,t,1))),r.lanes|=1),e)}var Jw=dr.ReactCurrentOwner,at=!1;function Je(e,t,r,n){t.child=e===null?ym(t,null,r,n):us(t,e.child,r,n)}function jh(e,t,r,n,s){r=r.render;var i=t.ref;return ns(t,s),n=D0(e,t,r,n,i,s),r=P0(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(ge&&r&&v0(t),t.flags|=1,Je(e,t,n,s),t.child)}function Eh(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!$0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Wm(e,t,i,n,s)):(e=Do(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:hi,r(o,n)&&e.ref===t.ref)return cr(e,t,s)}return t.flags|=1,e=Tr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Wm(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(hi(i,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,cr(e,t,s)}return uu(e,t,r,n,s)}function qm(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Kn,xt),xt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Kn,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,fe(Kn,xt),xt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,fe(Kn,xt),xt|=n;return Je(e,t,s,r),t.child}function Km(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uu(e,t,r,n,s){var i=ct(r)?xn:Ge.current;return i=ls(t,i),ns(t,s),r=D0(e,t,r,n,i,s),n=P0(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(ge&&n&&v0(t),t.flags|=1,Je(e,t,r,s),t.child)}function Sh(e,t,r,n,s){if(ct(r)){var i=!0;zo(t)}else i=!1;if(ns(t,s),t.stateNode===null)So(e,t),Vm(t,r,n),lu(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=ct(r)?xn:Ge.current,u=ls(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&bh(t,o,n,u),gr=!1;var f=t.memoizedState;o.state=f,Go(t,n,o,s),l=t.memoizedState,a!==n||f!==l||lt.current||gr?(typeof d=="function"&&(au(t,r,d,n),l=t.memoizedState),(a=gr||wh(t,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,bm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Tt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=ct(r)?xn:Ge.current,l=ls(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&bh(t,o,n,l),gr=!1,f=t.memoizedState,o.state=f,Go(t,n,o,s);var g=t.memoizedState;a!==h||f!==g||lt.current||gr?(typeof p=="function"&&(au(t,r,p,n),g=t.memoizedState),(u=gr||wh(t,r,u,n,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return du(e,t,r,n,i,s)}function du(e,t,r,n,s,i){Km(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&hh(t,r,!1),cr(e,t,i);n=t.stateNode,Jw.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=us(t,e.child,null,i),t.child=us(t,null,a,i)):Je(e,t,a,i),t.memoizedState=n.state,s&&hh(t,r,!0),t.child}function Gm(e){var t=e.stateNode;t.pendingContext?dh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dh(e,t.context,!1),E0(e,t.containerInfo)}function Nh(e,t,r,n,s){return cs(),w0(s),t.flags|=256,Je(e,t,r,n),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qm(e,t,r){var n=t.pendingProps,s=ve.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),fe(ve,s&1),e===null)return iu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Aa(o,n,0,null),e=hn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fu(r),t.memoizedState=hu,e):T0(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Zw(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Tr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Tr(a,i):(i=hn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?fu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=hu,n}return i=e.child,e=i.sibling,n=Tr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function T0(e,t){return t=Aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function io(e,t,r,n){return n!==null&&w0(n),us(t,e.child,null,r),e=T0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zw(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Cl(Error(V(422))),io(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Aa({mode:"visible",children:n.children},s,0,null),i=hn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&us(t,e.child,null,o),t.child.memoizedState=fu(o),t.memoizedState=hu,i);if(!(t.mode&1))return io(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(V(419)),n=Cl(i,n,void 0),io(e,t,o,n)}if(a=(o&e.childLanes)!==0,at||a){if(n=Fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,lr(e,s),Mt(n,e,s,-1))}return U0(),n=Cl(Error(V(421))),io(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=h2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mt=Dr(s.nextSibling),gt=t,ge=!0,Lt=null,e!==null&&(kt[jt++]=er,kt[jt++]=tr,kt[jt++]=mn,er=e.id,tr=e.overflow,mn=t),t=T0(t,n.children),t.flags|=4096,t)}function Ah(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ou(e.return,t,r)}function kl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Xm(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Je(e,t,n.children,r),n=ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,r,t);else if(e.tag===19)Ah(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fe(ve,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),kl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}kl(t,!0,r,null,i);break;case"together":kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function So(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=Tr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function e2(e,t,r){switch(t.tag){case 3:Gm(t),cs();break;case 5:_m(t);break;case 1:ct(t.type)&&zo(t);break;case 4:E0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;fe(qo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fe(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?Qm(e,t,r):(fe(ve,ve.current&1),e=cr(e,t,r),e!==null?e.sibling:null);fe(ve,ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Xm(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(ve,ve.current),n)break;return null;case 22:case 23:return t.lanes=0,qm(e,t,r)}return cr(e,t,r)}var Ym,pu,Jm,Zm;Ym=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pu=function(){};Jm=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ln(qt.current);var i=null;switch(r){case"input":s=Oc(e,s),n=Oc(e,n),i=[];break;case"select":s=be({},s,{value:void 0}),n=be({},n,{value:void 0}),i=[];break;case"textarea":s=Mc(e,s),n=Mc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$o)}$c(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ii.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ii.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Zm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ps(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function t2(e,t,r){var n=t.pendingProps;switch(y0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return ct(t.type)&&Vo(),We(t),null;case 3:return n=t.stateNode,ds(),me(lt),me(Ge),N0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(no(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(_u(Lt),Lt=null))),pu(e,t),We(t),null;case 5:S0(t);var s=ln(gi.current);if(r=t.type,e!==null&&t.stateNode!=null)Jm(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return We(t),null}if(e=ln(qt.current),no(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ht]=t,n[xi]=i,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(s=0;s<Ms.length;s++)xe(Ms[s],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Id(n,i),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xe("invalid",n);break;case"textarea":Ud(n,i),xe("invalid",n)}$c(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ro(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ro(n.textContent,a,e),s=["children",""+a]):ii.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",n)}switch(r){case"input":Gi(n),Md(n,i,!0);break;case"textarea":Gi(n),$d(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$o)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ht]=t,e[xi]=n,Ym(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vc(r,n),r){case"dialog":xe("cancel",e),xe("close",e),s=n;break;case"iframe":case"object":case"embed":xe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ms.length;s++)xe(Ms[s],e);s=n;break;case"source":xe("error",e),s=n;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=n;break;case"details":xe("toggle",e),s=n;break;case"input":Id(e,n),s=Oc(e,n),xe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=be({},n,{value:void 0}),xe("invalid",e);break;case"textarea":Ud(e,n),s=Mc(e,n),xe("invalid",e);break;default:s=n}$c(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Dx(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nx(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oi(e,l):typeof l=="number"&&oi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ii.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xe("scroll",e):l!=null&&s0(e,i,l,o))}switch(r){case"input":Gi(e),Md(e,n,!1);break;case"textarea":Gi(e),$d(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Or(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Zn(e,!!n.multiple,i,!1):n.defaultValue!=null&&Zn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$o)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Zm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=ln(gi.current),ln(qt.current),no(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ht]=t,(i=n.nodeValue!==r)&&(e=gt,e!==null))switch(e.tag){case 3:ro(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ro(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ht]=t,t.stateNode=n}return We(t),null;case 13:if(me(ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&mt!==null&&t.mode&1&&!(t.flags&128))gm(),cs(),t.flags|=98560,i=!1;else if(i=no(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Ht]=t}else cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else Lt!==null&&(_u(Lt),Lt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ae===0&&(Ae=3):U0())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return ds(),pu(e,t),e===null&&fi(t.stateNode.containerInfo),We(t),null;case 10:return C0(t.type._context),We(t),null;case 17:return ct(t.type)&&Vo(),We(t),null;case 19:if(me(ve),i=t.memoizedState,i===null)return We(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ps(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qo(e),o!==null){for(t.flags|=128,Ps(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fe(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>fs&&(t.flags|=128,n=!0,Ps(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ps(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return We(t),null}else 2*Ce()-i.renderingStartTime>fs&&r!==1073741824&&(t.flags|=128,n=!0,Ps(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,r=ve.current,fe(ve,n?r&1|2:r&1),t):(We(t),null);case 22:case 23:return M0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?xt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function r2(e,t){switch(y0(t),t.tag){case 1:return ct(t.type)&&Vo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ds(),me(lt),me(Ge),N0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return S0(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return ds(),null;case 10:return C0(t.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var oo=!1,Ke=!1,n2=typeof WeakSet=="function"?WeakSet:Set,G=null;function qn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(e,t,n)}else r.current=null}function xu(e,t,r){try{r()}catch(n){_e(e,t,n)}}var Dh=!1;function s2(e,t){if(Jc=Io,e=sm(),g0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zc={focusedElem:e,selectionRange:r},Io=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Tt(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(w){_e(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return g=Dh,Dh=!1,g}function Gs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xu(t,r,i)}s=s.next}while(s!==n)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function eg(e){var t=e.alternate;t!==null&&(e.alternate=null,eg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[xi],delete t[ru],delete t[Uw],delete t[$w])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tg(e){return e.tag===5||e.tag===3||e.tag===4}function Ph(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$o));else if(n!==4&&(e=e.child,e!==null))for(gu(e,t,r),e=e.sibling;e!==null;)gu(e,t,r),e=e.sibling}function vu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vu(e,t,r),e=e.sibling;e!==null;)vu(e,t,r),e=e.sibling}var Le=null,Rt=!1;function fr(e,t,r){for(r=r.child;r!==null;)rg(e,t,r),r=r.sibling}function rg(e,t,r){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ya,r)}catch{}switch(r.tag){case 5:Ke||qn(r,t);case 6:var n=Le,s=Rt;Le=null,fr(e,t,r),Le=n,Rt=s,Le!==null&&(Rt?(e=Le,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(Rt?(e=Le,r=r.stateNode,e.nodeType===8?gl(e.parentNode,r):e.nodeType===1&&gl(e,r),ui(e)):gl(Le,r.stateNode));break;case 4:n=Le,s=Rt,Le=r.stateNode.containerInfo,Rt=!0,fr(e,t,r),Le=n,Rt=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xu(r,t,o),s=s.next}while(s!==n)}fr(e,t,r);break;case 1:if(!Ke&&(qn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){_e(r,t,a)}fr(e,t,r);break;case 21:fr(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,fr(e,t,r),Ke=n):fr(e,t,r);break;default:fr(e,t,r)}}function Bh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new n2),t.forEach(function(n){var s=f2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Bt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Rt=!1;break e;case 3:Le=a.stateNode.containerInfo,Rt=!0;break e;case 4:Le=a.stateNode.containerInfo,Rt=!0;break e}a=a.return}if(Le===null)throw Error(V(160));rg(i,o,s),Le=null,Rt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){_e(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ng(t,e),t=t.sibling}function ng(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),Vt(e),n&4){try{Gs(3,e,e.return),Sa(3,e)}catch(y){_e(e,e.return,y)}try{Gs(5,e,e.return)}catch(y){_e(e,e.return,y)}}break;case 1:Bt(t,e),Vt(e),n&512&&r!==null&&qn(r,r.return);break;case 5:if(Bt(t,e),Vt(e),n&512&&r!==null&&qn(r,r.return),e.flags&32){var s=e.stateNode;try{oi(s,"")}catch(y){_e(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&jx(s,i),Vc(a,o);var u=Vc(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Dx(s,h):d==="dangerouslySetInnerHTML"?Nx(s,h):d==="children"?oi(s,h):s0(s,d,h,u)}switch(a){case"input":Lc(s,i);break;case"textarea":Ex(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Zn(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Zn(s,!!i.multiple,i.defaultValue,!0):Zn(s,!!i.multiple,i.multiple?[]:"",!1))}s[xi]=i}catch(y){_e(e,e.return,y)}}break;case 6:if(Bt(t,e),Vt(e),n&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){_e(e,e.return,y)}}break;case 3:if(Bt(t,e),Vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(y){_e(e,e.return,y)}break;case 4:Bt(t,e),Vt(e);break;case 13:Bt(t,e),Vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(L0=Ce())),n&4&&Bh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||d,Bt(t,e),Ke=u):Bt(t,e),Vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,p=f.child,f.tag){case 0:case 11:case 14:case 15:Gs(4,f,f.return);break;case 1:qn(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){_e(n,r,y)}}break;case 5:qn(f,f.return);break;case 22:if(f.memoizedState!==null){Th(h);continue}}p!==null?(p.return=f,G=p):Th(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ax("display",o))}catch(y){_e(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){_e(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bt(t,e),Vt(e),n&4&&Bh(e);break;case 21:break;default:Bt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tg(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(oi(s,""),n.flags&=-33);var i=Ph(e);vu(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Ph(e);gu(e,a,o);break;default:throw Error(V(161))}}catch(l){_e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i2(e,t,r){G=e,sg(e)}function sg(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||oo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=oo;var u=Ke;if(oo=o,(Ke=l)&&!u)for(G=s;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?Rh(s):l!==null?(l.return=o,G=l):Rh(s);for(;i!==null;)G=i,sg(i),i=i.sibling;G=s,oo=a,Ke=u}Fh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Fh(e)}}function Fh(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Sa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Tt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gh(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gh(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ui(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ke||t.flags&512&&mu(t)}catch(f){_e(t,t.return,f)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function Th(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function Rh(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sa(4,t)}catch(l){_e(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){_e(t,s,l)}}var i=t.return;try{mu(t)}catch(l){_e(t,i,l)}break;case 5:var o=t.return;try{mu(t)}catch(l){_e(t,o,l)}}}catch(l){_e(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var o2=Math.ceil,Jo=dr.ReactCurrentDispatcher,R0=dr.ReactCurrentOwner,St=dr.ReactCurrentBatchConfig,ue=0,Fe=null,Ee=null,Ie=0,xt=0,Kn=$r(0),Ae=0,bi=null,vn=0,Na=0,O0=0,Qs=null,it=null,L0=0,fs=1/0,Yt=null,Zo=!1,yu=null,Br=null,ao=!1,kr=null,ea=0,Xs=0,wu=null,No=-1,Ao=0;function Ze(){return ue&6?Ce():No!==-1?No:No=Ce()}function Fr(e){return e.mode&1?ue&2&&Ie!==0?Ie&-Ie:zw.transition!==null?(Ao===0&&(Ao=Vx()),Ao):(e=de,e!==0||(e=window.event,e=e===void 0?16:Qx(e.type)),e):1}function Mt(e,t,r,n){if(50<Xs)throw Xs=0,wu=null,Error(V(185));Di(e,r,n),(!(ue&2)||e!==Fe)&&(e===Fe&&(!(ue&2)&&(Na|=r),Ae===4&&br(e,Ie)),ut(e,n),r===1&&ue===0&&!(t.mode&1)&&(fs=Ce()+500,ka&&Vr()))}function ut(e,t){var r=e.callbackNode;z1(e,t);var n=Lo(e,e===Fe?Ie:0);if(n===0)r!==null&&Hd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hd(r),t===1)e.tag===0?Vw(Oh.bind(null,e)):pm(Oh.bind(null,e)),Iw(function(){!(ue&6)&&Vr()}),r=null;else{switch(zx(n)){case 1:r=c0;break;case 4:r=Ux;break;case 16:r=Oo;break;case 536870912:r=$x;break;default:r=Oo}r=hg(r,ig.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ig(e,t){if(No=-1,Ao=0,ue&6)throw Error(V(327));var r=e.callbackNode;if(ss()&&e.callbackNode!==r)return null;var n=Lo(e,e===Fe?Ie:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ta(e,n);else{t=n;var s=ue;ue|=2;var i=ag();(Fe!==e||Ie!==t)&&(Yt=null,fs=Ce()+500,dn(e,t));do try{c2();break}catch(a){og(e,a)}while(!0);_0(),Jo.current=i,ue=s,Ee!==null?t=0:(Fe=null,Ie=0,t=Ae)}if(t!==0){if(t===2&&(s=Kc(e),s!==0&&(n=s,t=bu(e,s))),t===1)throw r=bi,dn(e,0),br(e,n),ut(e,Ce()),r;if(t===6)br(e,n);else{if(s=e.current.alternate,!(n&30)&&!a2(s)&&(t=ta(e,n),t===2&&(i=Kc(e),i!==0&&(n=i,t=bu(e,i))),t===1))throw r=bi,dn(e,0),br(e,n),ut(e,Ce()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:Zr(e,it,Yt);break;case 3:if(br(e,n),(n&130023424)===n&&(t=L0+500-Ce(),10<t)){if(Lo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tu(Zr.bind(null,e,it,Yt),t);break}Zr(e,it,Yt);break;case 4:if(br(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-It(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o2(n/1960))-n,10<n){e.timeoutHandle=tu(Zr.bind(null,e,it,Yt),n);break}Zr(e,it,Yt);break;case 5:Zr(e,it,Yt);break;default:throw Error(V(329))}}}return ut(e,Ce()),e.callbackNode===r?ig.bind(null,e):null}function bu(e,t){var r=Qs;return e.current.memoizedState.isDehydrated&&(dn(e,t).flags|=256),e=ta(e,t),e!==2&&(t=it,it=r,t!==null&&_u(t)),e}function _u(e){it===null?it=e:it.push.apply(it,e)}function a2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function br(e,t){for(t&=~O0,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-It(t),n=1<<r;e[r]=-1,t&=~n}}function Oh(e){if(ue&6)throw Error(V(327));ss();var t=Lo(e,0);if(!(t&1))return ut(e,Ce()),null;var r=ta(e,t);if(e.tag!==0&&r===2){var n=Kc(e);n!==0&&(t=n,r=bu(e,n))}if(r===1)throw r=bi,dn(e,0),br(e,t),ut(e,Ce()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,it,Yt),ut(e,Ce()),null}function I0(e,t){var r=ue;ue|=1;try{return e(t)}finally{ue=r,ue===0&&(fs=Ce()+500,ka&&Vr())}}function yn(e){kr!==null&&kr.tag===0&&!(ue&6)&&ss();var t=ue;ue|=1;var r=St.transition,n=de;try{if(St.transition=null,de=1,e)return e()}finally{de=n,St.transition=r,ue=t,!(ue&6)&&Vr()}}function M0(){xt=Kn.current,me(Kn)}function dn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Lw(r)),Ee!==null)for(r=Ee.return;r!==null;){var n=r;switch(y0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vo();break;case 3:ds(),me(lt),me(Ge),N0();break;case 5:S0(n);break;case 4:ds();break;case 13:me(ve);break;case 19:me(ve);break;case 10:C0(n.type._context);break;case 22:case 23:M0()}r=r.return}if(Fe=e,Ee=e=Tr(e.current,null),Ie=xt=t,Ae=0,bi=null,O0=Na=vn=0,it=Qs=null,an!==null){for(t=0;t<an.length;t++)if(r=an[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}an=null}return e}function og(e,t){do{var r=Ee;try{if(_0(),jo.current=Yo,Xo){for(var n=we.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xo=!1}if(gn=0,Be=Ne=we=null,Ks=!1,vi=0,R0.current=null,r===null||r.return===null){Ae=1,bi=t,Ee=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ch(o);if(p!==null){p.flags&=-257,kh(p,o,a,i,t),p.mode&1&&_h(i,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){_h(i,u,t),U0();break e}l=Error(V(426))}}else if(ge&&a.mode&1){var b=Ch(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),kh(b,o,a,i,t),w0(hs(l,a));break e}}i=l=hs(l,a),Ae!==4&&(Ae=2),Qs===null?Qs=[i]:Qs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=zm(i,l,t);mh(i,v);break e;case 1:a=l;var m=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Br===null||!Br.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Hm(i,a,t);mh(i,w);break e}}i=i.return}while(i!==null)}cg(r)}catch(C){t=C,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(!0)}function ag(){var e=Jo.current;return Jo.current=Yo,e===null?Yo:e}function U0(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Fe===null||!(vn&268435455)&&!(Na&268435455)||br(Fe,Ie)}function ta(e,t){var r=ue;ue|=2;var n=ag();(Fe!==e||Ie!==t)&&(Yt=null,dn(e,t));do try{l2();break}catch(s){og(e,s)}while(!0);if(_0(),ue=r,Jo.current=n,Ee!==null)throw Error(V(261));return Fe=null,Ie=0,Ae}function l2(){for(;Ee!==null;)lg(Ee)}function c2(){for(;Ee!==null&&!T1();)lg(Ee)}function lg(e){var t=dg(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?cg(e):Ee=t,R0.current=null}function cg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=r2(r,t),r!==null){r.flags&=32767,Ee=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ee=null;return}}else if(r=t2(r,t,xt),r!==null){Ee=r;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ae===0&&(Ae=5)}function Zr(e,t,r){var n=de,s=St.transition;try{St.transition=null,de=1,u2(e,t,r,n)}finally{St.transition=s,de=n}return null}function u2(e,t,r,n){do ss();while(kr!==null);if(ue&6)throw Error(V(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(H1(e,i),e===Fe&&(Ee=Fe=null,Ie=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ao||(ao=!0,hg(Oo,function(){return ss(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=St.transition,St.transition=null;var o=de;de=1;var a=ue;ue|=4,R0.current=null,s2(e,r),ng(r,e),Dw(Zc),Io=!!Jc,Zc=Jc=null,e.current=r,i2(r),R1(),ue=a,de=o,St.transition=i}else e.current=r;if(ao&&(ao=!1,kr=e,ea=s),i=e.pendingLanes,i===0&&(Br=null),I1(r.stateNode),ut(e,Ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Zo)throw Zo=!1,e=yu,yu=null,e;return ea&1&&e.tag!==0&&ss(),i=e.pendingLanes,i&1?e===wu?Xs++:(Xs=0,wu=e):Xs=0,Vr(),null}function ss(){if(kr!==null){var e=zx(ea),t=St.transition,r=de;try{if(St.transition=null,de=16>e?16:e,kr===null)var n=!1;else{if(e=kr,kr=null,ea=0,ue&6)throw Error(V(331));var s=ue;for(ue|=4,G=e.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Gs(8,d,i)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,p=d.return;if(eg(d),d===u){G=null;break}if(f!==null){f.return=p,G=f;break}G=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gs(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,G=v;break e}G=i.return}}var m=e.current;for(G=m;G!==null;){o=G;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,G=x;else e:for(o=m;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sa(9,a)}}catch(C){_e(a,a.return,C)}if(a===o){G=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,G=w;break e}G=a.return}}if(ue=s,Vr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ya,e)}catch{}n=!0}return n}finally{de=r,St.transition=t}}return!1}function Lh(e,t,r){t=hs(r,t),t=zm(e,t,1),e=Pr(e,t,1),t=Ze(),e!==null&&(Di(e,1,t),ut(e,t))}function _e(e,t,r){if(e.tag===3)Lh(e,e,r);else for(;t!==null;){if(t.tag===3){Lh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Br===null||!Br.has(n))){e=hs(r,e),e=Hm(t,e,1),t=Pr(t,e,1),e=Ze(),t!==null&&(Di(t,1,e),ut(t,e));break}}t=t.return}}function d2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&r,Fe===e&&(Ie&r)===r&&(Ae===4||Ae===3&&(Ie&130023424)===Ie&&500>Ce()-L0?dn(e,0):O0|=r),ut(e,t)}function ug(e,t){t===0&&(e.mode&1?(t=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):t=1);var r=Ze();e=lr(e,t),e!==null&&(Di(e,t,r),ut(e,r))}function h2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ug(e,r)}function f2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),ug(e,r)}var dg;dg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)at=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return at=!1,e2(e,t,r);at=!!(e.flags&131072)}else at=!1,ge&&t.flags&1048576&&xm(t,Wo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;So(e,t),e=t.pendingProps;var s=ls(t,Ge.current);ns(t,r),s=D0(null,t,n,e,s,r);var i=P0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(n)?(i=!0,zo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,j0(t),s.updater=Ea,t.stateNode=s,s._reactInternals=t,lu(t,n,e,r),t=du(null,t,n,!0,i,r)):(t.tag=0,ge&&i&&v0(t),Je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(So(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=x2(n),e=Tt(n,e),s){case 0:t=uu(null,t,n,e,r);break e;case 1:t=Sh(null,t,n,e,r);break e;case 11:t=jh(null,t,n,e,r);break e;case 14:t=Eh(null,t,n,Tt(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),uu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),Sh(e,t,n,s,r);case 3:e:{if(Gm(t),e===null)throw Error(V(387));n=t.pendingProps,i=t.memoizedState,s=i.element,bm(e,t),Go(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hs(Error(V(423)),t),t=Nh(e,t,n,r,s);break e}else if(n!==s){s=hs(Error(V(424)),t),t=Nh(e,t,n,r,s);break e}else for(mt=Dr(t.stateNode.containerInfo.firstChild),gt=t,ge=!0,Lt=null,r=ym(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cs(),n===s){t=cr(e,t,r);break e}Je(e,t,n,r)}t=t.child}return t;case 5:return _m(t),e===null&&iu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,eu(n,s)?o=null:i!==null&&eu(n,i)&&(t.flags|=32),Km(e,t),Je(e,t,o,r),t.child;case 6:return e===null&&iu(t),null;case 13:return Qm(e,t,r);case 4:return E0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=us(t,null,n,r):Je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),jh(e,t,n,s,r);case 7:return Je(e,t,t.pendingProps,r),t.child;case 8:return Je(e,t,t.pendingProps.children,r),t.child;case 12:return Je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,fe(qo,n._currentValue),n._currentValue=o,i!==null)if(Ut(i.value,o)){if(i.children===s.children&&!lt.current){t=cr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=nr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ou(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ou(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ns(t,r),s=Nt(s),n=n(s),t.flags|=1,Je(e,t,n,r),t.child;case 14:return n=t.type,s=Tt(n,t.pendingProps),s=Tt(n.type,s),Eh(e,t,n,s,r);case 15:return Wm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),So(e,t),t.tag=1,ct(n)?(e=!0,zo(t)):e=!1,ns(t,r),Vm(t,n,s),lu(t,n,s,r),du(null,t,n,!0,e,r);case 19:return Xm(e,t,r);case 22:return qm(e,t,r)}throw Error(V(156,t.tag))};function hg(e,t){return Mx(e,t)}function p2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,r,n){return new p2(e,t,r,n)}function $0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function x2(e){if(typeof e=="function")return $0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===o0)return 11;if(e===a0)return 14}return 2}function Tr(e,t){var r=e.alternate;return r===null?(r=Et(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Do(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")$0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ln:return hn(r.children,s,i,t);case i0:o=8,s|=8;break;case Bc:return e=Et(12,r,t,s|2),e.elementType=Bc,e.lanes=i,e;case Fc:return e=Et(13,r,t,s),e.elementType=Fc,e.lanes=i,e;case Tc:return e=Et(19,r,t,s),e.elementType=Tc,e.lanes=i,e;case _x:return Aa(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wx:o=10;break e;case bx:o=9;break e;case o0:o=11;break e;case a0:o=14;break e;case mr:o=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Et(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function hn(e,t,r,n){return e=Et(7,e,n,t),e.lanes=r,e}function Aa(e,t,r,n){return e=Et(22,e,n,t),e.elementType=_x,e.lanes=r,e.stateNode={isHidden:!1},e}function jl(e,t,r){return e=Et(6,e,null,t),e.lanes=r,e}function El(e,t,r){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function V0(e,t,r,n,s,i,o,a,l){return e=new m2(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Et(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},j0(i),e}function g2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function fg(e){if(!e)return Lr;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(ct(r))return fm(e,r,t)}return t}function pg(e,t,r,n,s,i,o,a,l){return e=V0(r,n,!0,e,s,i,o,a,l),e.context=fg(null),r=e.current,n=Ze(),s=Fr(r),i=nr(n,s),i.callback=t??null,Pr(r,i,s),e.current.lanes=s,Di(e,s,n),ut(e,n),e}function Da(e,t,r,n){var s=t.current,i=Ze(),o=Fr(s);return r=fg(r),t.context===null?t.context=r:t.pendingContext=r,t=nr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Pr(s,t,o),e!==null&&(Mt(e,s,o,i),ko(e,s,o)),o}function ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ih(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function z0(e,t){Ih(e,t),(e=e.alternate)&&Ih(e,t)}function v2(){return null}var xg=typeof reportError=="function"?reportError:function(e){console.error(e)};function H0(e){this._internalRoot=e}Pa.prototype.render=H0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Da(e,t,null,null)};Pa.prototype.unmount=H0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){Da(null,e,null,null)}),t[ar]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=qx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wr.length&&t!==0&&t<wr[r].priority;r++);wr.splice(r,0,e),r===0&&Gx(e)}};function W0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mh(){}function y2(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ra(o);i.call(u)}}var o=pg(t,n,e,0,null,!1,!1,"",Mh);return e._reactRootContainer=o,e[ar]=o.current,fi(e.nodeType===8?e.parentNode:e),yn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ra(l);a.call(u)}}var l=V0(e,0,!1,null,null,!1,!1,"",Mh);return e._reactRootContainer=l,e[ar]=l.current,fi(e.nodeType===8?e.parentNode:e),yn(function(){Da(t,l,r,n)}),l}function Fa(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ra(o);a.call(l)}}Da(t,o,e,s)}else o=y2(r,t,e,s,n);return ra(o)}Hx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Is(t.pendingLanes);r!==0&&(u0(t,r|1),ut(t,Ce()),!(ue&6)&&(fs=Ce()+500,Vr()))}break;case 13:yn(function(){var n=lr(e,1);if(n!==null){var s=Ze();Mt(n,e,1,s)}}),z0(e,1)}};d0=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var r=Ze();Mt(t,e,134217728,r)}z0(e,134217728)}};Wx=function(e){if(e.tag===13){var t=Fr(e),r=lr(e,t);if(r!==null){var n=Ze();Mt(r,e,t,n)}z0(e,t)}};qx=function(){return de};Kx=function(e,t){var r=de;try{return de=e,t()}finally{de=r}};Hc=function(e,t,r){switch(t){case"input":if(Lc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ca(n);if(!s)throw Error(V(90));kx(n),Lc(n,s)}}}break;case"textarea":Ex(e,r);break;case"select":t=r.value,t!=null&&Zn(e,!!r.multiple,t,!1)}};Fx=I0;Tx=yn;var w2={usingClientEntryPoint:!1,Events:[Bi,$n,Ca,Px,Bx,I0]},Bs={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b2={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lx(e),e===null?null:e.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||v2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{ya=lo.inject(b2),Wt=lo}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w2;wt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(t))throw Error(V(200));return g2(e,t,null,r)};wt.createRoot=function(e,t){if(!W0(e))throw Error(V(299));var r=!1,n="",s=xg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=V0(e,1,!1,null,null,r,!1,n,s),e[ar]=t.current,fi(e.nodeType===8?e.parentNode:e),new H0(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Lx(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return yn(e)};wt.hydrate=function(e,t,r){if(!Ba(t))throw Error(V(200));return Fa(null,e,t,!0,r)};wt.hydrateRoot=function(e,t,r){if(!W0(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=xg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=pg(t,null,e,1,r??null,s,!1,i,o),e[ar]=t.current,fi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pa(t)};wt.render=function(e,t,r){if(!Ba(t))throw Error(V(200));return Fa(null,e,t,!1,r)};wt.unmountComponentAtNode=function(e){if(!Ba(e))throw Error(V(40));return e._reactRootContainer?(yn(function(){Fa(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};wt.unstable_batchedUpdates=I0;wt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ba(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Fa(e,t,r,!1,n)};wt.version="18.3.1-next-f1338f8080-20240426";function mg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mg)}catch(e){console.error(e)}}mg(),mx.exports=wt;var _2=mx.exports,gg,Uh=_2;gg=Uh.createRoot,Uh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}var jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jr||(jr={}));const $h="popstate";function C2(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Cu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yg(s)}return j2(t,r,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function k2(){return Math.random().toString(36).substr(2,8)}function Vh(e,t){return{usr:e.state,key:e.key,idx:t}}function Cu(e,t,r,n){return r===void 0&&(r=null),_i({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ws(t):t,{state:r,key:t&&t.key||n||k2()})}function yg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ws(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function j2(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=jr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(_i({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=jr.Pop;let b=d(),v=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:v})}function f(b,v){a=jr.Push;let m=Cu(y.location,b,v);u=d()+1;let x=Vh(m,u),w=y.createHref(m);try{o.pushState(x,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(w)}i&&l&&l({action:a,location:y.location,delta:1})}function p(b,v){a=jr.Replace;let m=Cu(y.location,b,v);u=d();let x=Vh(m,u),w=y.createHref(m);o.replaceState(x,"",w),i&&l&&l({action:a,location:y.location,delta:0})}function g(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:yg(b);return m=m.replace(/ $/,"%20"),Se(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let y={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($h,h),l=b,()=>{s.removeEventListener($h,h),l=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}var zh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zh||(zh={}));function E2(e,t,r){return r===void 0&&(r="/"),S2(e,t,r,!1)}function S2(e,t,r,n){let s=typeof t=="string"?ws(t):t,i=_g(s.pathname||"/",r);if(i==null)return null;let o=wg(e);N2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=M2(i);a=L2(o[l],u,n)}return a}function wg(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=fn([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wg(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:R2(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of bg(i.path))s(i,o,l)}),t}function bg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=bg(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function N2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:O2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const A2=/^:[\w-]+$/,D2=3,P2=2,B2=1,F2=10,T2=-2,Hh=e=>e==="*";function R2(e,t){let r=e.split("/"),n=r.length;return r.some(Hh)&&(n+=T2),t&&(n+=P2),r.filter(s=>!Hh(s)).reduce((s,i)=>s+(A2.test(i)?D2:i===""?B2:F2),n)}function O2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function L2(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Wh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Wh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:fn([i,h.pathname]),pathnameBase:z2(fn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=fn([i,h.pathnameBase]))}return o}function Wh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=I2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function I2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),vg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function M2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _g(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function U2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ws(e):e;return{pathname:r?r.startsWith("/")?r:$2(r,t):t,search:H2(n),hash:W2(s)}}function $2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Sl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cg(e,t){let r=V2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ws(e):(s=_i({},e),Se(!s.pathname||!s.pathname.includes("?"),Sl("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),Sl("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),Sl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=U2(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const fn=e=>e.join("/").replace(/\/\/+/g,"/"),z2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jg=["post","put","patch","delete"];new Set(jg);const K2=["get",...jg];new Set(K2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}const q0=N.createContext(null),G2=N.createContext(null),Ti=N.createContext(null),Ta=N.createContext(null),_n=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Eg=N.createContext(null);function Ri(){return N.useContext(Ta)!=null}function Ra(){return Ri()||Se(!1),N.useContext(Ta).location}function Sg(e){N.useContext(Ti).static||N.useLayoutEffect(e)}function Ng(){let{isDataRoute:e}=N.useContext(_n);return e?ab():Q2()}function Q2(){Ri()||Se(!1);let e=N.useContext(q0),{basename:t,future:r,navigator:n}=N.useContext(Ti),{matches:s}=N.useContext(_n),{pathname:i}=Ra(),o=JSON.stringify(Cg(s,r.v7_relativeSplatPath)),a=N.useRef(!1);return Sg(()=>{a.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=kg(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:fn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function X2(e,t){return Y2(e,t)}function Y2(e,t,r,n){Ri()||Se(!1);let{navigator:s}=N.useContext(Ti),{matches:i}=N.useContext(_n),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ra(),d;if(t){var h;let b=typeof t=="string"?ws(t):t;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Se(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=E2(e,{pathname:p}),y=rb(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:fn([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:fn([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&y?N.createElement(Ta.Provider,{value:{location:Ci({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jr.Pop}},y):y}function J2(){let e=ob(),t=q2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const Z2=N.createElement(J2,null);class eb extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(_n.Provider,{value:this.props.routeContext},N.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tb(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(q0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(_n.Provider,{value:t},n)}function rb(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Se(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,g=!1,y=null,b=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Z2,l&&(u<0&&f===0?(g=!0,b=null):u===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),m=()=>{let x;return p?x=y:g?x=b:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,N.createElement(tb,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(eb,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Ag=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ag||{}),na=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(na||{});function nb(e){let t=N.useContext(q0);return t||Se(!1),t}function sb(e){let t=N.useContext(G2);return t||Se(!1),t}function ib(e){let t=N.useContext(_n);return t||Se(!1),t}function Dg(e){let t=ib(),r=t.matches[t.matches.length-1];return r.route.id||Se(!1),r.route.id}function ob(){var e;let t=N.useContext(Eg),r=sb(na.UseRouteError),n=Dg(na.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ab(){let{router:e}=nb(Ag.UseNavigateStable),t=Dg(na.UseNavigateStable),r=N.useRef(!1);return Sg(()=>{r.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ci({fromRouteId:t},i)))},[e,t])}function lb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cb(e){let{to:t,replace:r,state:n,relative:s}=e;Ri()||Se(!1);let{future:i,static:o}=N.useContext(Ti),{matches:a}=N.useContext(_n),{pathname:l}=Ra(),u=Ng(),d=kg(t,Cg(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Qt(e){Se(!1)}function ub(e){let{basename:t="/",children:r=null,location:n,navigationType:s=jr.Pop,navigator:i,static:o=!1,future:a}=e;Ri()&&Se(!1);let l=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:i,static:o,future:Ci({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=ws(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,y=N.useMemo(()=>{let b=_g(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:s}},[l,d,h,f,p,g,s]);return y==null?null:N.createElement(Ti.Provider,{value:u},N.createElement(Ta.Provider,{children:r,value:y}))}function db(e){let{children:t,location:r}=e;return X2(ku(t),r)}new Promise(()=>{});function ku(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let i=[...t,s];if(n.type===N.Fragment){r.push.apply(r,ku(n.props.children,i));return}n.type!==Qt&&Se(!1),!n.props.index||!n.props.children||Se(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ku(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const hb="6";try{window.__reactRouterVersion=hb}catch{}const fb="startTransition",qh=d1[fb];function pb(e){let{basename:t,children:r,future:n,window:s}=e,i=N.useRef();i.current==null&&(i.current=C2({window:s,v5Compat:!0}));let o=i.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=N.useCallback(h=>{u&&qh?qh(()=>l(h)):l(h)},[l,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>lb(n),[n]),N.createElement(ub,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var Kh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kh||(Kh={}));var Gh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gh||(Gh={}));const xb="modulepreload",mb=function(e){return"/"+e},Qh={},Oi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=mb(l),l in Qh)return;Qh[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":xb,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},gb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oi(async()=>{const{default:n}=await Promise.resolve().then(()=>bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class K0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class vb extends K0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yb extends K0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wb extends K0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ju;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ju||(ju={}));var bb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class _b{constructor(t,{headers:r={},customFetch:n,region:s=ju.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=gb(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return bb(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(g=>{throw new vb(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new yb(d);if(!d.ok)throw new wb(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var ot={},G0={},Oa={},Li={},La={},Ia={},Cb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ps=Cb();const kb=ps.fetch,Pg=ps.fetch.bind(ps),Bg=ps.Headers,jb=ps.Request,Eb=ps.Response,bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bg,Request:jb,Response:Eb,default:Pg,fetch:kb},Symbol.toStringTag,{value:"Module"})),Sb=sx(bs);var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});let Nb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ma.default=Nb;var Fg=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ia,"__esModule",{value:!0});const Ab=Fg(Sb),Db=Fg(Ma);let Pb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ab.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&y===""?(f=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Db.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ia.default=Pb;var Bb=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(La,"__esModule",{value:!0});const Fb=Bb(Ia);let Tb=class extends Fb.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};La.default=Tb;var Rb=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Li,"__esModule",{value:!0});const Ob=Rb(La);let Lb=class extends Ob.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Li.default=Lb;var Ib=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oa,"__esModule",{value:!0});const Fs=Ib(Li);let Mb=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Fs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Fs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Oa.default=Mb;var Ua={},$a={};Object.defineProperty($a,"__esModule",{value:!0});$a.version=void 0;$a.version="0.0.0-automated";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.DEFAULT_HEADERS=void 0;const Ub=$a;Ua.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ub.version}`};var Tg=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G0,"__esModule",{value:!0});const $b=Tg(Oa),Vb=Tg(Li),zb=Ua;let Hb=class Rg{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},zb.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new $b.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Rg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Vb.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};G0.default=Hb;var _s=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ot,"__esModule",{value:!0});ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const Og=_s(G0);ot.PostgrestClient=Og.default;const Lg=_s(Oa);ot.PostgrestQueryBuilder=Lg.default;const Ig=_s(Li);ot.PostgrestFilterBuilder=Ig.default;const Mg=_s(La);ot.PostgrestTransformBuilder=Mg.default;const Ug=_s(Ia);ot.PostgrestBuilder=Ug.default;const $g=_s(Ma);ot.PostgrestError=$g.default;var Wb=ot.default={PostgrestClient:Og.default,PostgrestQueryBuilder:Lg.default,PostgrestFilterBuilder:Ig.default,PostgrestTransformBuilder:Mg.default,PostgrestBuilder:Ug.default,PostgrestError:$g.default};const{PostgrestClient:qb,PostgrestQueryBuilder:NE,PostgrestFilterBuilder:AE,PostgrestTransformBuilder:DE,PostgrestBuilder:PE,PostgrestError:BE}=Wb;let Eu;typeof window>"u"?Eu=require("ws"):Eu=window.WebSocket;const Kb=Eu,Gb="2.11.10",Qb={"X-Client-Info":`realtime-js/${Gb}`},Xb="1.0.0",Vg=1e4,Yb=1e3;var is;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(is||(is={}));var Xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xe||(Xe={}));var Ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ot||(Ot={}));var Su;(function(e){e.websocket="websocket"})(Su||(Su={}));var sn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sn||(sn={}));class Jb{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class zg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(he||(he={}));const Xh=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Zb(o,e,t,s),i),{})},Zb=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Hg(i,o):Nu(o)},Hg=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return n4(t,r)}switch(e){case he.bool:return e4(t);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return t4(t);case he.json:case he.jsonb:return r4(t);case he.timestamp:return s4(t);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Nu(t);default:return Nu(t)}},Nu=e=>e,e4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},t4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},r4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},n4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Hg(t,a))}return e},s4=e=>typeof e=="string"?e.replace(" ","T"):e,Wg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Nl{constructor(t,r,n={},s=Vg){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yh||(Yh={}));class Ys{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ys.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ys.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ys.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),g=d.filter(b=>p.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);g.length>0&&(a[u]=g),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Jh||(Jh={}));var Zh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zh||(Zh={}));var Jt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class Q0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nl(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new zg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ys(this),this.broadcastEndpointURL=Wg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Jt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Jt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Jt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<p;y++){const b=f[y],{filter:{event:v,schema:m,table:x,filter:w}}=b,C=d&&d[y];if(C&&C.event===v&&C.schema===m&&C.table===x&&C.filter===w)g.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Xe.errored,t==null||t(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Jt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Xe.errored,t==null||t(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Nl(this,Ot.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Ot;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,y,b;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,y,b,v,m,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,C=(g=p.filter)===null||g===void 0?void 0:g.event;return w&&((y=r.ids)===null||y===void 0?void 0:y.includes(w))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(m=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:b,commit_timestamp:v,type:m,errors:x}=g;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:m,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Q0.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ot.close,{},t)}_onError(t){this._on(Ot.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Xh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Xh(t.columns,t.old_record)),r}}const ef=()=>{},i4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class o4{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Qb,this.params={},this.timeout=Vg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ef,this.ref=0,this.logger=ef,this.conn=null,this.sendBuffer=[],this.serializer=new Jb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Oi(async()=>{const{default:l}=await Promise.resolve().then(()=>bs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Su.websocket}`,this.httpEndpoint=Wg(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Kb),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new a4(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xb}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return sn.Connecting;case is.open:return sn.Open;case is.closing:return sn.Closing;default:return sn.Closed}}isConnected(){return this.connectionState()===sn.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Q0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ot.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Yb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ot.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([i4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class a4{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=is.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class X0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class l4 extends X0{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Au extends X0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var c4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const qg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oi(async()=>{const{default:n}=await Promise.resolve().then(()=>bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},u4=()=>c4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oi(()=>Promise.resolve().then(()=>bs),void 0)).Response:Response}),Du=e=>{if(Array.isArray(e))return e.map(r=>Du(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Du(n)}),t};var Cn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),d4=(e,t,r)=>Cn(void 0,void 0,void 0,function*(){const n=yield u4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new l4(Al(s),e.status||500))}).catch(s=>{t(new Au(Al(s),s))}):t(new Au(Al(e),e))}),h4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ii(e,t,r,n,s,i){return Cn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,h4(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>d4(l,a,n))})})}function sa(e,t,r,n){return Cn(this,void 0,void 0,function*(){return Ii(e,"GET",t,r,n)})}function vr(e,t,r,n,s){return Cn(this,void 0,void 0,function*(){return Ii(e,"POST",t,n,s,r)})}function f4(e,t,r,n,s){return Cn(this,void 0,void 0,function*(){return Ii(e,"PUT",t,n,s,r)})}function p4(e,t,r,n){return Cn(this,void 0,void 0,function*(){return Ii(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Kg(e,t,r,n,s){return Cn(this,void 0,void 0,function*(){return Ii(e,"DELETE",t,n,s,r)})}var st=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const x4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m4{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=qg(s)}uploadOrUpdate(t,r,n,s){return st(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},tf),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Pe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return st(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:tf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return st(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield vr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new X0("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}update(t,r,n){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return st(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield vr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return st(this,void 0,void 0,function*(){try{const s=yield vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}download(t,r){return st(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield sa(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Pe(a))return{data:null,error:a};throw a}})}info(t){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield sa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Du(n),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}exists(t){return st(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield p4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pe(n)&&n instanceof Au){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return st(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}list(t,r,n){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},x4),r),{prefix:t||""});return{data:yield vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const g4="2.7.1",v4={"X-Client-Info":`storage-js/${g4}`};var Pn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class y4{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},v4),r),this.fetch=qg(n)}listBuckets(){return Pn(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}getBucket(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Pn(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Pn(this,void 0,void 0,function*(){try{return{data:yield f4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}}class w4 extends y4{constructor(t,r={},n){super(t,r,n)}from(t){return new m4(this.url,this.headers,t,this.fetch)}}const b4="2.50.0";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const _4={"X-Client-Info":`supabase-js-${Us}/${b4}`},C4={headers:_4},k4={schema:"public"},j4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},E4={};var S4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const N4=e=>{let t;return e?t=e:typeof fetch>"u"?t=Pg:t=fetch,(...r)=>t(...r)},A4=()=>typeof Headers>"u"?Bg:Headers,D4=(e,t,r)=>{const n=N4(r),s=A4();return(i,o)=>S4(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var P4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function B4(e){return e.endsWith("/")?e:e+"/"}function F4(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>P4(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Gg="2.70.0",Rn=30*1e3,Pu=3,Dl=Pu*Rn,T4="http://localhost:9999",R4="supabase.auth.token",O4={"X-Client-Info":`gotrue-js/${Gg}`},Bu="X-Supabase-Api-Version",Qg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,I4=6e5;class Y0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class M4 extends Y0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function U4(e){return ie(e)&&e.name==="AuthApiError"}class Xg extends Y0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zr extends Y0{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class pr extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $4(e){return ie(e)&&e.name==="AuthSessionMissingError"}class co extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uo extends zr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ho extends zr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function V4(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class rf extends zr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fu extends zr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Pl(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class nf extends zr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Js extends zr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ia="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sf=` 	
\r=`.split(""),z4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sf.length;t+=1)e[sf[t].charCodeAt(0)]=-2;for(let t=0;t<ia.length;t+=1)e[ia[t].charCodeAt(0)]=t;return e})();function of(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ia[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ia[n]),t.queuedBits-=6}}function Yg(e,t,r){const n=z4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function af(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{q4(o,n,r)};for(let o=0;o<e.length;o+=1)Yg(e.charCodeAt(o),s,i);return t.join("")}function H4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function W4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}H4(n,t)}}function q4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function K4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Yg(e.charCodeAt(s),r,n);return new Uint8Array(t)}function G4(e){const t=[];return W4(e,r=>t.push(r)),new Uint8Array(t)}function Q4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>of(s,r,n)),of(null,r,n),t.join("")}function X4(e){return Math.round(Date.now()/1e3)+e}function Y4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ft=()=>typeof window<"u"&&typeof document<"u",Xr={tested:!1,writable:!1},Zs=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xr.tested)return Xr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xr.tested=!0,Xr.writable=!0}catch{Xr.tested=!0,Xr.writable=!1}return Xr.writable};function J4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Jg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oi(async()=>{const{default:n}=await Promise.resolve().then(()=>bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zg=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},po=async(e,t)=>{await e.removeItem(t)};class Va{constructor(){this.promise=new Va.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Va.promiseConstructor=Promise;function Bl(e){const t=e.split(".");if(t.length!==3)throw new Js("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!L4.test(t[n]))throw new Js("JWT not in base64url format");return{header:JSON.parse(af(t[0])),payload:JSON.parse(af(t[1])),signature:K4(t[2]),raw:{header:t[0],payload:t[1]}}}async function e_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function t_(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function r_(e){return("0"+e.toString(16)).substr(-2)}function n_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,r_).join("")}async function s_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function i_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await s_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bn(e,t,r=!1){const n=n_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Zg(e,`${t}-code-verifier`,s);const i=await i_(n);return[i,n===i?"plain":"s256"]}const o_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a_(e){const t=e.headers.get(Bu);if(!t||!t.match(o_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function l_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function c_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fn(e){if(!u_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var d_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const en=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h_=[502,503,504];async function lf(e){var t;if(!Z4(e))throw new Fu(en(e),0);if(h_.includes(e.status))throw new Fu(en(e),e.status);let r;try{r=await e.json()}catch(i){throw new Xg(en(i),i)}let n;const s=a_(e);if(s&&s.getTime()>=Qg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new nf(en(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new nf(en(r),e.status,r.weak_password.reasons);throw new M4(en(r),e.status||500,n)}const f_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function oe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Bu]||(i[Bu]=Qg["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await p_(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function p_(e,t,r,n,s,i){const o=f_(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Fu(en(l),0)}if(a.ok||await lf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await lf(l)}}function Xt(e){var t;let r=null;v_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=X4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function cf(e){const t=Xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _r(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function x_(e){return{data:e,error:null}}function m_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=d_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function g_(e){return e}function v_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Fl=["global","local","others"];var y_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class w_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Jg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Fl[0]){if(Fl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fl.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_r})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=y_(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:m_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_r})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:g_});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fn(t);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_r})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fn(t);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_r})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fn(t);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_r})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fn(t.userId);try{const{data:r,error:n}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fn(t.userId),Fn(t.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}const b_={getItem:e=>Zs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Zs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Zs()&&globalThis.localStorage.removeItem(e)}};function uf(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function __(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tn={debug:!!(globalThis&&Zs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ev extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class C_ extends ev{}async function k_(e,t,r){Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new C_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}__();const j_={url:T4,storageKey:R4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function df(e,t,r){return await r()}class ki{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ki.nextInstanceID,ki.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},j_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new w_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jg(s.fetch),this.lock=s.lock||df,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=k_:this.lock=df,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Zs()?this.storage=b_:(this.memoryStorage={},this.storage=uf(this.memoryStorage)):(this.memoryStorage={},this.storage=uf(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=J4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ft()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),V4(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new Xg("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Bn(this.storage,this.storageKey)),i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:Xt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xt})}else throw new uo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:cf})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:cf})}else throw new uo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,u,d,h,f,p;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:b,wallet:v,statement:m,options:x}=t;let w;if(Ft())if(typeof v=="object")w=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const C=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${C.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:b,error:v}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Q4(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Xt});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new co}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(ie(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await fo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xt});if(await po(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new co}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ie(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new co}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bn(this.storage,this.storageKey));const{error:h}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new uo("You must provide either an email or phone number.")}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Bn(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:x_})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pr;const{error:s}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new uo("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await fo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Dl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_r}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:_r})})}catch(r){if(ie(r))return $4(r)&&(await this._removeSession(),await po(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new pr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Bn(this.storage,this.storageKey));const{data:u,error:d}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:_r});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Bl(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ft())throw new ho("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ho(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rf("No code detected.");const{data:m,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ho("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=Rn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await fo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(U4(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await po(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Y4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Bn(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ft()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await t_(async s=>(s>0&&await e_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Pl(i)&&Date.now()+o-n<Rn})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ft()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await fo(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Dl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Dl}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Pl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Va;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new pr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ie(i)){const o={session:null,error:i};return Pl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await po(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Rn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rn}ms, refresh threshold is ${Pu} ticks`),s<=Pu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ev)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Bn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bl(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+I4>Date.now()))return n;const{data:s,error:i}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Js("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Js("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Bl(n);if(l_(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=c_(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,G4(`${a}.${l}`)))throw new Js("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}}ki.nextInstanceID=0;const E_=ki;class S_ extends E_{constructor(t){super(t)}}var N_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class A_{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=B4(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:k4,realtime:E4,auth:Object.assign(Object.assign({},j4),{storageKey:u}),global:C4},h=F4(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=D4(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new qb(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new _b(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new w4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return N_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new o4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const D_=(e,t,r)=>new A_(e,t,r);var tv={exports:{}};function P_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Tl={exports:{}};const B_={},F_=Object.freeze(Object.defineProperty({__proto__:null,default:B_},Symbol.toStringTag,{value:"Module"})),T_=sx(F_);var hf;function ce(){return hf||(hf=1,function(e,t){(function(r,n){e.exports=n()})(Z,function(){var r=r||function(n,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Z<"u"&&Z.crypto&&(i=Z.crypto),!i&&typeof P_=="function")try{i=T_}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(x){var w;return m.prototype=x,w=new m,m.prototype=null,w}}(),l={},u=l.lib={},d=u.Base=function(){return{extend:function(m){var x=a(this);return m&&x.mixIn(m),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var x in m)m.hasOwnProperty(x)&&(this[x]=m[x]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=u.WordArray=d.extend({init:function(m,x){m=this.words=m||[],x!=s?this.sigBytes=x:this.sigBytes=m.length*4},toString:function(m){return(m||p).stringify(this)},concat:function(m){var x=this.words,w=m.words,C=this.sigBytes,k=m.sigBytes;if(this.clamp(),C%4)for(var j=0;j<k;j++){var _=w[j>>>2]>>>24-j%4*8&255;x[C+j>>>2]|=_<<24-(C+j)%4*8}else for(var F=0;F<k;F+=4)x[C+F>>>2]=w[F>>>2];return this.sigBytes+=k,this},clamp:function(){var m=this.words,x=this.sigBytes;m[x>>>2]&=4294967295<<32-x%4*8,m.length=n.ceil(x/4)},clone:function(){var m=d.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var x=[],w=0;w<m;w+=4)x.push(o());return new h.init(x,m)}}),f=l.enc={},p=f.Hex={stringify:function(m){for(var x=m.words,w=m.sigBytes,C=[],k=0;k<w;k++){var j=x[k>>>2]>>>24-k%4*8&255;C.push((j>>>4).toString(16)),C.push((j&15).toString(16))}return C.join("")},parse:function(m){for(var x=m.length,w=[],C=0;C<x;C+=2)w[C>>>3]|=parseInt(m.substr(C,2),16)<<24-C%8*4;return new h.init(w,x/2)}},g=f.Latin1={stringify:function(m){for(var x=m.words,w=m.sigBytes,C=[],k=0;k<w;k++){var j=x[k>>>2]>>>24-k%4*8&255;C.push(String.fromCharCode(j))}return C.join("")},parse:function(m){for(var x=m.length,w=[],C=0;C<x;C++)w[C>>>2]|=(m.charCodeAt(C)&255)<<24-C%4*8;return new h.init(w,x)}},y=f.Utf8={stringify:function(m){try{return decodeURIComponent(escape(g.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return g.parse(unescape(encodeURIComponent(m)))}},b=u.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=y.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var x,w=this._data,C=w.words,k=w.sigBytes,j=this.blockSize,_=j*4,F=k/_;m?F=n.ceil(F):F=n.max((F|0)-this._minBufferSize,0);var S=F*j,D=n.min(S*4,k);if(S){for(var R=0;R<S;R+=j)this._doProcessBlock(C,R);x=C.splice(0,S),w.sigBytes-=D}return new h.init(x,D)},clone:function(){var m=d.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});u.Hasher=b.extend({cfg:d.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(m){return function(x,w){return new m.init(w).finalize(x)}},_createHmacHelper:function(m){return function(x,w){return new v.HMAC.init(m,w).finalize(x)}}});var v=l.algo={};return l}(Math);return r})}(Tl)),Tl.exports}var Rl={exports:{}},ff;function za(){return ff||(ff=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){return function(n){var s=r,i=s.lib,o=i.Base,a=i.WordArray,l=s.x64={};l.Word=o.extend({init:function(u,d){this.high=u,this.low=d}}),l.WordArray=o.extend({init:function(u,d){u=this.words=u||[],d!=n?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,h=[],f=0;f<d;f++){var p=u[f];h.push(p.high),h.push(p.low)}return a.create(h,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),d=u.words=this.words.slice(0),h=d.length,f=0;f<h;f++)d[f]=d[f].clone();return u}})}(),r})}(Rl)),Rl.exports}var Ol={exports:{}},pf;function R_(){return pf||(pf=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,s=n.lib,i=s.WordArray,o=i.init,a=i.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,d=[],h=0;h<u;h++)d[h>>>2]|=l[h]<<24-h%4*8;o.call(this,d,u)}else o.apply(this,arguments)};a.prototype=i}}(),r.lib.WordArray})}(Ol)),Ol.exports}var Ll={exports:{}},xf;function O_(){return xf||(xf=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var u=l.words,d=l.sigBytes,h=[],f=0;f<d;f+=2){var p=u[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(p))}return h.join("")},parse:function(l){for(var u=l.length,d=[],h=0;h<u;h++)d[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return i.create(d,u*2)}},o.Utf16LE={stringify:function(l){for(var u=l.words,d=l.sigBytes,h=[],f=0;f<d;f+=2){var p=a(u[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(p))}return h.join("")},parse:function(l){for(var u=l.length,d=[],h=0;h<u;h++)d[h>>>1]|=a(l.charCodeAt(h)<<16-h%2*16);return i.create(d,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})}(Ll)),Ll.exports}var Il={exports:{}},mf;function kn(){return mf||(mf=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Base64={stringify:function(l){var u=l.words,d=l.sigBytes,h=this._map;l.clamp();for(var f=[],p=0;p<d;p+=3)for(var g=u[p>>>2]>>>24-p%4*8&255,y=u[p+1>>>2]>>>24-(p+1)%4*8&255,b=u[p+2>>>2]>>>24-(p+2)%4*8&255,v=g<<16|y<<8|b,m=0;m<4&&p+m*.75<d;m++)f.push(h.charAt(v>>>6*(3-m)&63));var x=h.charAt(64);if(x)for(;f.length%4;)f.push(x);return f.join("")},parse:function(l){var u=l.length,d=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<d.length;f++)h[d.charCodeAt(f)]=f}var p=d.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(u=g)}return a(l,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,d){for(var h=[],f=0,p=0;p<u;p++)if(p%4){var g=d[l.charCodeAt(p-1)]<<p%4*2,y=d[l.charCodeAt(p)]>>>6-p%4*2,b=g|y;h[f>>>2]|=b<<24-f%4*8,f++}return i.create(h,f)}}(),r.enc.Base64})}(Il)),Il.exports}var Ml={exports:{}},gf;function L_(){return gf||(gf=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var d=l.words,h=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var p=[],g=0;g<h;g+=3)for(var y=d[g>>>2]>>>24-g%4*8&255,b=d[g+1>>>2]>>>24-(g+1)%4*8&255,v=d[g+2>>>2]>>>24-(g+2)%4*8&255,m=y<<16|b<<8|v,x=0;x<4&&g+x*.75<h;x++)p.push(f.charAt(m>>>6*(3-x)&63));var w=f.charAt(64);if(w)for(;p.length%4;)p.push(w);return p.join("")},parse:function(l,u){u===void 0&&(u=!0);var d=l.length,h=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var p=0;p<h.length;p++)f[h.charCodeAt(p)]=p}var g=h.charAt(64);if(g){var y=l.indexOf(g);y!==-1&&(d=y)}return a(l,d,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,d){for(var h=[],f=0,p=0;p<u;p++)if(p%4){var g=d[l.charCodeAt(p-1)]<<p%4*2,y=d[l.charCodeAt(p)]>>>6-p%4*2,b=g|y;h[f>>>2]|=b<<24-f%4*8,f++}return i.create(h,f)}}(),r.enc.Base64url})}(Ml)),Ml.exports}var Ul={exports:{}},vf;function jn(){return vf||(vf=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,u=[];(function(){for(var y=0;y<64;y++)u[y]=n.abs(n.sin(y+1))*4294967296|0})();var d=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,b){for(var v=0;v<16;v++){var m=b+v,x=y[m];y[m]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var w=this._hash.words,C=y[b+0],k=y[b+1],j=y[b+2],_=y[b+3],F=y[b+4],S=y[b+5],D=y[b+6],R=y[b+7],O=y[b+8],z=y[b+9],I=y[b+10],E=y[b+11],q=y[b+12],M=y[b+13],K=y[b+14],H=y[b+15],B=w[0],L=w[1],$=w[2],U=w[3];B=h(B,L,$,U,C,7,u[0]),U=h(U,B,L,$,k,12,u[1]),$=h($,U,B,L,j,17,u[2]),L=h(L,$,U,B,_,22,u[3]),B=h(B,L,$,U,F,7,u[4]),U=h(U,B,L,$,S,12,u[5]),$=h($,U,B,L,D,17,u[6]),L=h(L,$,U,B,R,22,u[7]),B=h(B,L,$,U,O,7,u[8]),U=h(U,B,L,$,z,12,u[9]),$=h($,U,B,L,I,17,u[10]),L=h(L,$,U,B,E,22,u[11]),B=h(B,L,$,U,q,7,u[12]),U=h(U,B,L,$,M,12,u[13]),$=h($,U,B,L,K,17,u[14]),L=h(L,$,U,B,H,22,u[15]),B=f(B,L,$,U,k,5,u[16]),U=f(U,B,L,$,D,9,u[17]),$=f($,U,B,L,E,14,u[18]),L=f(L,$,U,B,C,20,u[19]),B=f(B,L,$,U,S,5,u[20]),U=f(U,B,L,$,I,9,u[21]),$=f($,U,B,L,H,14,u[22]),L=f(L,$,U,B,F,20,u[23]),B=f(B,L,$,U,z,5,u[24]),U=f(U,B,L,$,K,9,u[25]),$=f($,U,B,L,_,14,u[26]),L=f(L,$,U,B,O,20,u[27]),B=f(B,L,$,U,M,5,u[28]),U=f(U,B,L,$,j,9,u[29]),$=f($,U,B,L,R,14,u[30]),L=f(L,$,U,B,q,20,u[31]),B=p(B,L,$,U,S,4,u[32]),U=p(U,B,L,$,O,11,u[33]),$=p($,U,B,L,E,16,u[34]),L=p(L,$,U,B,K,23,u[35]),B=p(B,L,$,U,k,4,u[36]),U=p(U,B,L,$,F,11,u[37]),$=p($,U,B,L,R,16,u[38]),L=p(L,$,U,B,I,23,u[39]),B=p(B,L,$,U,M,4,u[40]),U=p(U,B,L,$,C,11,u[41]),$=p($,U,B,L,_,16,u[42]),L=p(L,$,U,B,D,23,u[43]),B=p(B,L,$,U,z,4,u[44]),U=p(U,B,L,$,q,11,u[45]),$=p($,U,B,L,H,16,u[46]),L=p(L,$,U,B,j,23,u[47]),B=g(B,L,$,U,C,6,u[48]),U=g(U,B,L,$,R,10,u[49]),$=g($,U,B,L,K,15,u[50]),L=g(L,$,U,B,S,21,u[51]),B=g(B,L,$,U,q,6,u[52]),U=g(U,B,L,$,_,10,u[53]),$=g($,U,B,L,I,15,u[54]),L=g(L,$,U,B,k,21,u[55]),B=g(B,L,$,U,O,6,u[56]),U=g(U,B,L,$,H,10,u[57]),$=g($,U,B,L,D,15,u[58]),L=g(L,$,U,B,M,21,u[59]),B=g(B,L,$,U,F,6,u[60]),U=g(U,B,L,$,E,10,u[61]),$=g($,U,B,L,j,15,u[62]),L=g(L,$,U,B,z,21,u[63]),w[0]=w[0]+B|0,w[1]=w[1]+L|0,w[2]=w[2]+$|0,w[3]=w[3]+U|0},_doFinalize:function(){var y=this._data,b=y.words,v=this._nDataBytes*8,m=y.sigBytes*8;b[m>>>5]|=128<<24-m%32;var x=n.floor(v/4294967296),w=v;b[(m+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,b[(m+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,y.sigBytes=(b.length+1)*4,this._process();for(var C=this._hash,k=C.words,j=0;j<4;j++){var _=k[j];k[j]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}return C},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});function h(y,b,v,m,x,w,C){var k=y+(b&v|~b&m)+x+C;return(k<<w|k>>>32-w)+b}function f(y,b,v,m,x,w,C){var k=y+(b&m|v&~m)+x+C;return(k<<w|k>>>32-w)+b}function p(y,b,v,m,x,w,C){var k=y+(b^v^m)+x+C;return(k<<w|k>>>32-w)+b}function g(y,b,v,m,x,w,C){var k=y+(v^(b|~m))+x+C;return(k<<w|k>>>32-w)+b}s.MD5=a._createHelper(d),s.HmacMD5=a._createHmacHelper(d)}(Math),r.MD5})}(Ul)),Ul.exports}var $l={exports:{}},yf;function rv(){return yf||(yf=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=s.Hasher,a=n.algo,l=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,h){for(var f=this._hash.words,p=f[0],g=f[1],y=f[2],b=f[3],v=f[4],m=0;m<80;m++){if(m<16)l[m]=d[h+m]|0;else{var x=l[m-3]^l[m-8]^l[m-14]^l[m-16];l[m]=x<<1|x>>>31}var w=(p<<5|p>>>27)+v+l[m];m<20?w+=(g&y|~g&b)+1518500249:m<40?w+=(g^y^b)+1859775393:m<60?w+=(g&y|g&b|y&b)-1894007588:w+=(g^y^b)-899497514,v=b,b=y,y=g<<30|g>>>2,g=p,p=w}f[0]=f[0]+p|0,f[1]=f[1]+g|0,f[2]=f[2]+y|0,f[3]=f[3]+b|0,f[4]=f[4]+v|0},_doFinalize:function(){var d=this._data,h=d.words,f=this._nDataBytes*8,p=d.sigBytes*8;return h[p>>>5]|=128<<24-p%32,h[(p+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(p+64>>>9<<4)+15]=f,d.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)}(),r.SHA1})}($l)),$l.exports}var Vl={exports:{}},wf;function J0(){return wf||(wf=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,u=[],d=[];(function(){function p(v){for(var m=n.sqrt(v),x=2;x<=m;x++)if(!(v%x))return!1;return!0}function g(v){return(v-(v|0))*4294967296|0}for(var y=2,b=0;b<64;)p(y)&&(b<8&&(u[b]=g(n.pow(y,1/2))),d[b]=g(n.pow(y,1/3)),b++),y++})();var h=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(p,g){for(var y=this._hash.words,b=y[0],v=y[1],m=y[2],x=y[3],w=y[4],C=y[5],k=y[6],j=y[7],_=0;_<64;_++){if(_<16)h[_]=p[g+_]|0;else{var F=h[_-15],S=(F<<25|F>>>7)^(F<<14|F>>>18)^F>>>3,D=h[_-2],R=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;h[_]=S+h[_-7]+R+h[_-16]}var O=w&C^~w&k,z=b&v^b&m^v&m,I=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),E=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),q=j+E+O+d[_]+h[_],M=I+z;j=k,k=C,C=w,w=x+q|0,x=m,m=v,v=b,b=q+M|0}y[0]=y[0]+b|0,y[1]=y[1]+v|0,y[2]=y[2]+m|0,y[3]=y[3]+x|0,y[4]=y[4]+w|0,y[5]=y[5]+C|0,y[6]=y[6]+k|0,y[7]=y[7]+j|0},_doFinalize:function(){var p=this._data,g=p.words,y=this._nDataBytes*8,b=p.sigBytes*8;return g[b>>>5]|=128<<24-b%32,g[(b+64>>>9<<4)+14]=n.floor(y/4294967296),g[(b+64>>>9<<4)+15]=y,p.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});s.SHA256=a._createHelper(f),s.HmacSHA256=a._createHmacHelper(f)}(Math),r.SHA256})}(Vl)),Vl.exports}var zl={exports:{}},bf;function I_(){return bf||(bf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),J0())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=a._createHelper(l),n.HmacSHA224=a._createHmacHelper(l)}(),r.SHA224})}(zl)),zl.exports}var Hl={exports:{}},_f;function nv(){return _f||(_f=1,function(e,t){(function(r,n,s){e.exports=n(ce(),za())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.Hasher,o=n.x64,a=o.Word,l=o.WordArray,u=n.algo;function d(){return a.create.apply(a,arguments)}var h=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],f=[];(function(){for(var g=0;g<80;g++)f[g]=d()})();var p=u.SHA512=i.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,y){for(var b=this._hash.words,v=b[0],m=b[1],x=b[2],w=b[3],C=b[4],k=b[5],j=b[6],_=b[7],F=v.high,S=v.low,D=m.high,R=m.low,O=x.high,z=x.low,I=w.high,E=w.low,q=C.high,M=C.low,K=k.high,H=k.low,B=j.high,L=j.low,$=_.high,U=_.low,le=F,ne=S,J=D,re=R,rt=O,Ue=z,$e=I,Dt=E,Ve=q,Qe=M,Nn=K,qr=H,An=B,Kr=L,Cs=$,Gr=U,ft=0;ft<80;ft++){var nt,$t,T=f[ft];if(ft<16)$t=T.high=g[y+ft*2]|0,nt=T.low=g[y+ft*2+1]|0;else{var P=f[ft-15],W=P.high,A=P.low,X=(W>>>1|A<<31)^(W>>>8|A<<24)^W>>>7,Y=(A>>>1|W<<31)^(A>>>8|W<<24)^(A>>>7|W<<25),Re=f[ft-2],ze=Re.high,Oe=Re.low,Pt=(ze>>>19|Oe<<13)^(ze<<3|Oe>>>29)^ze>>>6,Qr=(Oe>>>19|ze<<13)^(Oe<<3|ze>>>29)^(Oe>>>6|ze<<26),ks=f[ft-7],Hi=ks.high,Wi=ks.low,te=f[ft-16],Uy=te.high,Ed=te.low;nt=Y+Wi,$t=X+Hi+(nt>>>0<Y>>>0?1:0),nt=nt+Qr,$t=$t+Pt+(nt>>>0<Qr>>>0?1:0),nt=nt+Ed,$t=$t+Uy+(nt>>>0<Ed>>>0?1:0),T.high=$t,T.low=nt}var $y=Ve&Nn^~Ve&An,Sd=Qe&qr^~Qe&Kr,Vy=le&J^le&rt^J&rt,zy=ne&re^ne&Ue^re&Ue,Hy=(le>>>28|ne<<4)^(le<<30|ne>>>2)^(le<<25|ne>>>7),Nd=(ne>>>28|le<<4)^(ne<<30|le>>>2)^(ne<<25|le>>>7),Wy=(Ve>>>14|Qe<<18)^(Ve>>>18|Qe<<14)^(Ve<<23|Qe>>>9),qy=(Qe>>>14|Ve<<18)^(Qe>>>18|Ve<<14)^(Qe<<23|Ve>>>9),Ad=h[ft],Ky=Ad.high,Dd=Ad.low,pt=Gr+qy,hr=Cs+Wy+(pt>>>0<Gr>>>0?1:0),pt=pt+Sd,hr=hr+$y+(pt>>>0<Sd>>>0?1:0),pt=pt+Dd,hr=hr+Ky+(pt>>>0<Dd>>>0?1:0),pt=pt+nt,hr=hr+$t+(pt>>>0<nt>>>0?1:0),Pd=Nd+zy,Gy=Hy+Vy+(Pd>>>0<Nd>>>0?1:0);Cs=An,Gr=Kr,An=Nn,Kr=qr,Nn=Ve,qr=Qe,Qe=Dt+pt|0,Ve=$e+hr+(Qe>>>0<Dt>>>0?1:0)|0,$e=rt,Dt=Ue,rt=J,Ue=re,J=le,re=ne,ne=pt+Pd|0,le=hr+Gy+(ne>>>0<pt>>>0?1:0)|0}S=v.low=S+ne,v.high=F+le+(S>>>0<ne>>>0?1:0),R=m.low=R+re,m.high=D+J+(R>>>0<re>>>0?1:0),z=x.low=z+Ue,x.high=O+rt+(z>>>0<Ue>>>0?1:0),E=w.low=E+Dt,w.high=I+$e+(E>>>0<Dt>>>0?1:0),M=C.low=M+Qe,C.high=q+Ve+(M>>>0<Qe>>>0?1:0),H=k.low=H+qr,k.high=K+Nn+(H>>>0<qr>>>0?1:0),L=j.low=L+Kr,j.high=B+An+(L>>>0<Kr>>>0?1:0),U=_.low=U+Gr,_.high=$+Cs+(U>>>0<Gr>>>0?1:0)},_doFinalize:function(){var g=this._data,y=g.words,b=this._nDataBytes*8,v=g.sigBytes*8;y[v>>>5]|=128<<24-v%32,y[(v+128>>>10<<5)+30]=Math.floor(b/4294967296),y[(v+128>>>10<<5)+31]=b,g.sigBytes=y.length*4,this._process();var m=this._hash.toX32();return m},clone:function(){var g=i.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});n.SHA512=i._createHelper(p),n.HmacSHA512=i._createHmacHelper(p)}(),r.SHA512})}(Hl)),Hl.exports}var Wl={exports:{}},Cf;function M_(){return Cf||(Cf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),za(),nv())})(Z,function(r){return function(){var n=r,s=n.x64,i=s.Word,o=s.WordArray,a=n.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var d=l._doFinalize.call(this);return d.sigBytes-=16,d}});n.SHA384=l._createHelper(u),n.HmacSHA384=l._createHmacHelper(u)}(),r.SHA384})}(Wl)),Wl.exports}var ql={exports:{}},kf;function U_(){return kf||(kf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),za())})(Z,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.x64,u=l.Word,d=s.algo,h=[],f=[],p=[];(function(){for(var b=1,v=0,m=0;m<24;m++){h[b+5*v]=(m+1)*(m+2)/2%64;var x=v%5,w=(2*b+3*v)%5;b=x,v=w}for(var b=0;b<5;b++)for(var v=0;v<5;v++)f[b+5*v]=v+(2*b+3*v)%5*5;for(var C=1,k=0;k<24;k++){for(var j=0,_=0,F=0;F<7;F++){if(C&1){var S=(1<<F)-1;S<32?_^=1<<S:j^=1<<S-32}C&128?C=C<<1^113:C<<=1}p[k]=u.create(j,_)}})();var g=[];(function(){for(var b=0;b<25;b++)g[b]=u.create()})();var y=d.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],v=0;v<25;v++)b[v]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,v){for(var m=this._state,x=this.blockSize/2,w=0;w<x;w++){var C=b[v+2*w],k=b[v+2*w+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var j=m[w];j.high^=k,j.low^=C}for(var _=0;_<24;_++){for(var F=0;F<5;F++){for(var S=0,D=0,R=0;R<5;R++){var j=m[F+5*R];S^=j.high,D^=j.low}var O=g[F];O.high=S,O.low=D}for(var F=0;F<5;F++)for(var z=g[(F+4)%5],I=g[(F+1)%5],E=I.high,q=I.low,S=z.high^(E<<1|q>>>31),D=z.low^(q<<1|E>>>31),R=0;R<5;R++){var j=m[F+5*R];j.high^=S,j.low^=D}for(var M=1;M<25;M++){var S,D,j=m[M],K=j.high,H=j.low,B=h[M];B<32?(S=K<<B|H>>>32-B,D=H<<B|K>>>32-B):(S=H<<B-32|K>>>64-B,D=K<<B-32|H>>>64-B);var L=g[f[M]];L.high=S,L.low=D}var $=g[0],U=m[0];$.high=U.high,$.low=U.low;for(var F=0;F<5;F++)for(var R=0;R<5;R++){var M=F+5*R,j=m[M],le=g[M],ne=g[(F+1)%5+5*R],J=g[(F+2)%5+5*R];j.high=le.high^~ne.high&J.high,j.low=le.low^~ne.low&J.low}var j=m[0],re=p[_];j.high^=re.high,j.low^=re.low}},_doFinalize:function(){var b=this._data,v=b.words;this._nDataBytes*8;var m=b.sigBytes*8,x=this.blockSize*32;v[m>>>5]|=1<<24-m%32,v[(n.ceil((m+1)/x)*x>>>5)-1]|=128,b.sigBytes=v.length*4,this._process();for(var w=this._state,C=this.cfg.outputLength/8,k=C/8,j=[],_=0;_<k;_++){var F=w[_],S=F.high,D=F.low;S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,j.push(D),j.push(S)}return new o.init(j,C)},clone:function(){for(var b=a.clone.call(this),v=b._state=this._state.slice(0),m=0;m<25;m++)v[m]=v[m].clone();return b}});s.SHA3=a._createHelper(y),s.HmacSHA3=a._createHmacHelper(y)}(Math),r.SHA3})}(ql)),ql.exports}var Kl={exports:{}},jf;function $_(){return jf||(jf=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),y=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,j){for(var _=0;_<16;_++){var F=j+_,S=k[F];k[F]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var D=this._hash.words,R=p.words,O=g.words,z=u.words,I=d.words,E=h.words,q=f.words,M,K,H,B,L,$,U,le,ne,J;$=M=D[0],U=K=D[1],le=H=D[2],ne=B=D[3],J=L=D[4];for(var re,_=0;_<80;_+=1)re=M+k[j+z[_]]|0,_<16?re+=b(K,H,B)+R[0]:_<32?re+=v(K,H,B)+R[1]:_<48?re+=m(K,H,B)+R[2]:_<64?re+=x(K,H,B)+R[3]:re+=w(K,H,B)+R[4],re=re|0,re=C(re,E[_]),re=re+L|0,M=L,L=B,B=C(H,10),H=K,K=re,re=$+k[j+I[_]]|0,_<16?re+=w(U,le,ne)+O[0]:_<32?re+=x(U,le,ne)+O[1]:_<48?re+=m(U,le,ne)+O[2]:_<64?re+=v(U,le,ne)+O[3]:re+=b(U,le,ne)+O[4],re=re|0,re=C(re,q[_]),re=re+J|0,$=J,J=ne,ne=C(le,10),le=U,U=re;re=D[1]+H+ne|0,D[1]=D[2]+B+J|0,D[2]=D[3]+L+$|0,D[3]=D[4]+M+U|0,D[4]=D[0]+K+le|0,D[0]=re},_doFinalize:function(){var k=this._data,j=k.words,_=this._nDataBytes*8,F=k.sigBytes*8;j[F>>>5]|=128<<24-F%32,j[(F+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k.sigBytes=(j.length+1)*4,this._process();for(var S=this._hash,D=S.words,R=0;R<5;R++){var O=D[R];D[R]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return S},clone:function(){var k=a.clone.call(this);return k._hash=this._hash.clone(),k}});function b(k,j,_){return k^j^_}function v(k,j,_){return k&j|~k&_}function m(k,j,_){return(k|~j)^_}function x(k,j,_){return k&_|j&~_}function w(k,j,_){return k^(j|~_)}function C(k,j){return k<<j|k>>>32-j}s.RIPEMD160=a._createHelper(y),s.HmacRIPEMD160=a._createHmacHelper(y)}(),r.RIPEMD160})}(Kl)),Kl.exports}var Gl={exports:{}},Ef;function Z0(){return Ef||(Ef=1,function(e,t){(function(r,n){e.exports=n(ce())})(Z,function(r){(function(){var n=r,s=n.lib,i=s.Base,o=n.enc,a=o.Utf8,l=n.algo;l.HMAC=i.extend({init:function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=a.parse(d));var h=u.blockSize,f=h*4;d.sigBytes>f&&(d=u.finalize(d)),d.clamp();for(var p=this._oKey=d.clone(),g=this._iKey=d.clone(),y=p.words,b=g.words,v=0;v<h;v++)y[v]^=1549556828,b[v]^=909522486;p.sigBytes=g.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var d=this._hasher,h=d.finalize(u);d.reset();var f=d.finalize(this._oKey.clone().concat(h));return f}})})()})}(Gl)),Gl.exports}var Ql={exports:{}},Sf;function V_(){return Sf||(Sf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),J0(),Z0())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.Base,o=s.WordArray,a=n.algo,l=a.SHA256,u=a.HMAC,d=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var p=this.cfg,g=u.create(p.hasher,h),y=o.create(),b=o.create([1]),v=y.words,m=b.words,x=p.keySize,w=p.iterations;v.length<x;){var C=g.update(f).finalize(b);g.reset();for(var k=C.words,j=k.length,_=C,F=1;F<w;F++){_=g.finalize(_),g.reset();for(var S=_.words,D=0;D<j;D++)k[D]^=S[D]}y.concat(C),m[0]++}return y.sigBytes=x*4,y}});n.PBKDF2=function(h,f,p){return d.create(p).compute(h,f)}}(),r.PBKDF2})}(Ql)),Ql.exports}var Xl={exports:{}},Nf;function Hr(){return Nf||(Nf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),rv(),Z0())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.Base,o=s.WordArray,a=n.algo,l=a.MD5,u=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,h){for(var f,p=this.cfg,g=p.hasher.create(),y=o.create(),b=y.words,v=p.keySize,m=p.iterations;b.length<v;){f&&g.update(f),f=g.update(d).finalize(h),g.reset();for(var x=1;x<m;x++)f=g.finalize(f),g.reset();y.concat(f)}return y.sigBytes=v*4,y}});n.EvpKDF=function(d,h,f){return u.create(f).compute(d,h)}}(),r.EvpKDF})}(Xl)),Xl.exports}var Yl={exports:{}},Af;function Te(){return Af||(Af=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Hr())})(Z,function(r){r.lib.Cipher||function(n){var s=r,i=s.lib,o=i.Base,a=i.WordArray,l=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var d=u.Base64,h=s.algo,f=h.EvpKDF,p=i.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(S,D){return this.create(this._ENC_XFORM_MODE,S,D)},createDecryptor:function(S,D){return this.create(this._DEC_XFORM_MODE,S,D)},init:function(S,D,R){this.cfg=this.cfg.extend(R),this._xformMode=S,this._key=D,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var D=this._doFinalize();return D},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function S(D){return typeof D=="string"?F:k}return function(D){return{encrypt:function(R,O,z){return S(O).encrypt(D,R,O,z)},decrypt:function(R,O,z){return S(O).decrypt(D,R,O,z)}}}}()});i.StreamCipher=p.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1});var g=s.mode={},y=i.BlockCipherMode=o.extend({createEncryptor:function(S,D){return this.Encryptor.create(S,D)},createDecryptor:function(S,D){return this.Decryptor.create(S,D)},init:function(S,D){this._cipher=S,this._iv=D}}),b=g.CBC=function(){var S=y.extend();S.Encryptor=S.extend({processBlock:function(R,O){var z=this._cipher,I=z.blockSize;D.call(this,R,O,I),z.encryptBlock(R,O),this._prevBlock=R.slice(O,O+I)}}),S.Decryptor=S.extend({processBlock:function(R,O){var z=this._cipher,I=z.blockSize,E=R.slice(O,O+I);z.decryptBlock(R,O),D.call(this,R,O,I),this._prevBlock=E}});function D(R,O,z){var I,E=this._iv;E?(I=E,this._iv=n):I=this._prevBlock;for(var q=0;q<z;q++)R[O+q]^=I[q]}return S}(),v=s.pad={},m=v.Pkcs7={pad:function(S,D){for(var R=D*4,O=R-S.sigBytes%R,z=O<<24|O<<16|O<<8|O,I=[],E=0;E<O;E+=4)I.push(z);var q=a.create(I,O);S.concat(q)},unpad:function(S){var D=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=D}};i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:b,padding:m}),reset:function(){var S;p.reset.call(this);var D=this.cfg,R=D.iv,O=D.mode;this._xformMode==this._ENC_XFORM_MODE?S=O.createEncryptor:(S=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,R&&R.words):(this._mode=S.call(O,this,R&&R.words),this._mode.__creator=S)},_doProcessBlock:function(S,D){this._mode.processBlock(S,D)},_doFinalize:function(){var S,D=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(D.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),D.unpad(S)),S},blockSize:128/32});var x=i.CipherParams=o.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),w=s.format={},C=w.OpenSSL={stringify:function(S){var D,R=S.ciphertext,O=S.salt;return O?D=a.create([1398893684,1701076831]).concat(O).concat(R):D=R,D.toString(d)},parse:function(S){var D,R=d.parse(S),O=R.words;return O[0]==1398893684&&O[1]==1701076831&&(D=a.create(O.slice(2,4)),O.splice(0,4),R.sigBytes-=16),x.create({ciphertext:R,salt:D})}},k=i.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(S,D,R,O){O=this.cfg.extend(O);var z=S.createEncryptor(R,O),I=z.finalize(D),E=z.cfg;return x.create({ciphertext:I,key:R,iv:E.iv,algorithm:S,mode:E.mode,padding:E.padding,blockSize:S.blockSize,formatter:O.format})},decrypt:function(S,D,R,O){O=this.cfg.extend(O),D=this._parse(D,O.format);var z=S.createDecryptor(R,O).finalize(D.ciphertext);return z},_parse:function(S,D){return typeof S=="string"?D.parse(S,this):S}}),j=s.kdf={},_=j.OpenSSL={execute:function(S,D,R,O,z){if(O||(O=a.random(64/8)),z)var I=f.create({keySize:D+R,hasher:z}).compute(S,O);else var I=f.create({keySize:D+R}).compute(S,O);var E=a.create(I.words.slice(D),R*4);return I.sigBytes=D*4,x.create({key:I,iv:E,salt:O})}},F=i.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:_}),encrypt:function(S,D,R,O){O=this.cfg.extend(O);var z=O.kdf.execute(R,S.keySize,S.ivSize,O.salt,O.hasher);O.iv=z.iv;var I=k.encrypt.call(this,S,D,z.key,O);return I.mixIn(z),I},decrypt:function(S,D,R,O){O=this.cfg.extend(O),D=this._parse(D,O.format);var z=O.kdf.execute(R,S.keySize,S.ivSize,D.salt,O.hasher);O.iv=z.iv;var I=k.decrypt.call(this,S,D,z.key,O);return I}})}()})}(Yl)),Yl.exports}var Jl={exports:{}},Df;function z_(){return Df||(Df=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize;s.call(this,i,o,l,a),this._prevBlock=i.slice(o,o+l)}}),n.Decryptor=n.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,u=i.slice(o,o+l);s.call(this,i,o,l,a),this._prevBlock=u}});function s(i,o,a,l){var u,d=this._iv;d?(u=d.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var h=0;h<a;h++)i[o+h]^=u[h]}return n}(),r.mode.CFB})}(Jl)),Jl.exports}var Zl={exports:{}},Pf;function H_(){return Pf||(Pf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0);var h=d.slice(0);a.encryptBlock(h,0),d[l-1]=d[l-1]+1|0;for(var f=0;f<l;f++)i[o+f]^=h[f]}});return n.Decryptor=s,n}(),r.mode.CTR})}(Zl)),Zl.exports}var ec={exports:{}},Bf;function W_(){return Bf||(Bf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,d=a&255;l===255?(l=0,u===255?(u=0,d===255?d=0:++d):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=d}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=n.Encryptor=n.extend({processBlock:function(a,l){var u=this._cipher,d=u.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),i(f);var p=f.slice(0);u.encryptBlock(p,0);for(var g=0;g<d;g++)a[l+g]^=p[g]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(ec)),ec.exports}var tc={exports:{}},Ff;function q_(){return Ff||(Ff=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,u=this._iv,d=this._keystream;u&&(d=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(d,0);for(var h=0;h<l;h++)i[o+h]^=d[h]}});return n.Decryptor=s,n}(),r.mode.OFB})}(tc)),tc.exports}var rc={exports:{}},Tf;function K_(){return Tf||(Tf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),n.Decryptor=n.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),n}(),r.mode.ECB})}(rc)),rc.exports}var nc={exports:{}},Rf;function G_(){return Rf||(Rf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.pad.AnsiX923={pad:function(n,s){var i=n.sigBytes,o=s*4,a=o-i%o,l=i+a-1;n.clamp(),n.words[l>>>2]|=a<<24-l%4*8,n.sigBytes+=a},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Ansix923})}(nc)),nc.exports}var sc={exports:{}},Of;function Q_(){return Of||(Of=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.pad.Iso10126={pad:function(n,s){var i=s*4,o=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Iso10126})}(sc)),sc.exports}var ic={exports:{}},Lf;function X_(){return Lf||(Lf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.pad.Iso97971={pad:function(n,s){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,s)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(ic)),ic.exports}var oc={exports:{}},If;function Y_(){return If||(If=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.pad.ZeroPadding={pad:function(n,s){var i=s*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var s=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})}(oc)),oc.exports}var ac={exports:{}},Mf;function J_(){return Mf||(Mf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(ac)),ac.exports}var lc={exports:{}},Uf;function Z_(){return Uf||(Uf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),Te())})(Z,function(r){return function(n){var s=r,i=s.lib,o=i.CipherParams,a=s.enc,l=a.Hex,u=s.format;u.Hex={stringify:function(d){return d.ciphertext.toString(l)},parse:function(d){var h=l.parse(d);return o.create({ciphertext:h})}}}(),r.format.Hex})}(lc)),lc.exports}var cc={exports:{}},$f;function eC(){return $f||($f=1,function(e,t){(function(r,n,s){e.exports=n(ce(),kn(),jn(),Hr(),Te())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.BlockCipher,o=n.algo,a=[],l=[],u=[],d=[],h=[],f=[],p=[],g=[],y=[],b=[];(function(){for(var x=[],w=0;w<256;w++)w<128?x[w]=w<<1:x[w]=w<<1^283;for(var C=0,k=0,w=0;w<256;w++){var j=k^k<<1^k<<2^k<<3^k<<4;j=j>>>8^j&255^99,a[C]=j,l[j]=C;var _=x[C],F=x[_],S=x[F],D=x[j]*257^j*16843008;u[C]=D<<24|D>>>8,d[C]=D<<16|D>>>16,h[C]=D<<8|D>>>24,f[C]=D;var D=S*16843009^F*65537^_*257^C*16843008;p[j]=D<<24|D>>>8,g[j]=D<<16|D>>>16,y[j]=D<<8|D>>>24,b[j]=D,C?(C=_^x[x[x[S^_]]],k^=x[x[k]]):C=k=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],m=o.AES=i.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,C=w.words,k=w.sigBytes/4,j=this._nRounds=k+6,_=(j+1)*4,F=this._keySchedule=[],S=0;S<_;S++)S<k?F[S]=C[S]:(x=F[S-1],S%k?k>6&&S%k==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=v[S/k|0]<<24),F[S]=F[S-k]^x);for(var D=this._invKeySchedule=[],R=0;R<_;R++){var S=_-R;if(R%4)var x=F[S];else var x=F[S-4];R<4||S<=4?D[R]=x:D[R]=p[a[x>>>24]]^g[a[x>>>16&255]]^y[a[x>>>8&255]]^b[a[x&255]]}}},encryptBlock:function(x,w){this._doCryptBlock(x,w,this._keySchedule,u,d,h,f,a)},decryptBlock:function(x,w){var C=x[w+1];x[w+1]=x[w+3],x[w+3]=C,this._doCryptBlock(x,w,this._invKeySchedule,p,g,y,b,l);var C=x[w+1];x[w+1]=x[w+3],x[w+3]=C},_doCryptBlock:function(x,w,C,k,j,_,F,S){for(var D=this._nRounds,R=x[w]^C[0],O=x[w+1]^C[1],z=x[w+2]^C[2],I=x[w+3]^C[3],E=4,q=1;q<D;q++){var M=k[R>>>24]^j[O>>>16&255]^_[z>>>8&255]^F[I&255]^C[E++],K=k[O>>>24]^j[z>>>16&255]^_[I>>>8&255]^F[R&255]^C[E++],H=k[z>>>24]^j[I>>>16&255]^_[R>>>8&255]^F[O&255]^C[E++],B=k[I>>>24]^j[R>>>16&255]^_[O>>>8&255]^F[z&255]^C[E++];R=M,O=K,z=H,I=B}var M=(S[R>>>24]<<24|S[O>>>16&255]<<16|S[z>>>8&255]<<8|S[I&255])^C[E++],K=(S[O>>>24]<<24|S[z>>>16&255]<<16|S[I>>>8&255]<<8|S[R&255])^C[E++],H=(S[z>>>24]<<24|S[I>>>16&255]<<16|S[R>>>8&255]<<8|S[O&255])^C[E++],B=(S[I>>>24]<<24|S[R>>>16&255]<<16|S[O>>>8&255]<<8|S[z&255])^C[E++];x[w]=M,x[w+1]=K,x[w+2]=H,x[w+3]=B},keySize:256/32});n.AES=i._createHelper(m)}(),r.AES})}(cc)),cc.exports}var uc={exports:{}},Vf;function tC(){return Vf||(Vf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),kn(),jn(),Hr(),Te())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=s.BlockCipher,a=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=o.extend({_doReset:function(){for(var v=this._key,m=v.words,x=[],w=0;w<56;w++){var C=l[w]-1;x[w]=m[C>>>5]>>>31-C%32&1}for(var k=this._subKeys=[],j=0;j<16;j++){for(var _=k[j]=[],F=d[j],w=0;w<24;w++)_[w/6|0]|=x[(u[w]-1+F)%28]<<31-w%6,_[4+(w/6|0)]|=x[28+(u[w+24]-1+F)%28]<<31-w%6;_[0]=_[0]<<1|_[0]>>>31;for(var w=1;w<7;w++)_[w]=_[w]>>>(w-1)*4+3;_[7]=_[7]<<5|_[7]>>>27}for(var S=this._invSubKeys=[],w=0;w<16;w++)S[w]=k[15-w]},encryptBlock:function(v,m){this._doCryptBlock(v,m,this._subKeys)},decryptBlock:function(v,m){this._doCryptBlock(v,m,this._invSubKeys)},_doCryptBlock:function(v,m,x){this._lBlock=v[m],this._rBlock=v[m+1],g.call(this,4,252645135),g.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),g.call(this,1,1431655765);for(var w=0;w<16;w++){for(var C=x[w],k=this._lBlock,j=this._rBlock,_=0,F=0;F<8;F++)_|=h[F][((j^C[F])&f[F])>>>0];this._lBlock=j,this._rBlock=k^_}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,g.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),v[m]=this._lBlock,v[m+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(v,m){var x=(this._lBlock>>>v^this._rBlock)&m;this._rBlock^=x,this._lBlock^=x<<v}function y(v,m){var x=(this._rBlock>>>v^this._lBlock)&m;this._lBlock^=x,this._rBlock^=x<<v}n.DES=o._createHelper(p);var b=a.TripleDES=o.extend({_doReset:function(){var v=this._key,m=v.words;if(m.length!==2&&m.length!==4&&m.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=m.slice(0,2),w=m.length<4?m.slice(0,2):m.slice(2,4),C=m.length<6?m.slice(0,2):m.slice(4,6);this._des1=p.createEncryptor(i.create(x)),this._des2=p.createEncryptor(i.create(w)),this._des3=p.createEncryptor(i.create(C))},encryptBlock:function(v,m){this._des1.encryptBlock(v,m),this._des2.decryptBlock(v,m),this._des3.encryptBlock(v,m)},decryptBlock:function(v,m){this._des3.decryptBlock(v,m),this._des2.encryptBlock(v,m),this._des1.decryptBlock(v,m)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(b)}(),r.TripleDES})}(uc)),uc.exports}var dc={exports:{}},zf;function rC(){return zf||(zf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),kn(),jn(),Hr(),Te())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=o.RC4=i.extend({_doReset:function(){for(var d=this._key,h=d.words,f=d.sigBytes,p=this._S=[],g=0;g<256;g++)p[g]=g;for(var g=0,y=0;g<256;g++){var b=g%f,v=h[b>>>2]>>>24-b%4*8&255;y=(y+p[g]+v)%256;var m=p[g];p[g]=p[y],p[y]=m}this._i=this._j=0},_doProcessBlock:function(d,h){d[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var d=this._S,h=this._i,f=this._j,p=0,g=0;g<4;g++){h=(h+1)%256,f=(f+d[h])%256;var y=d[h];d[h]=d[f],d[f]=y,p|=d[(d[h]+d[f])%256]<<24-g*8}return this._i=h,this._j=f,p}n.RC4=i._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)l.call(this)}});n.RC4Drop=i._createHelper(u)}(),r.RC4})}(dc)),dc.exports}var hc={exports:{}},Hf;function nC(){return Hf||(Hf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),kn(),jn(),Hr(),Te())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=[],l=[],u=[],d=o.Rabbit=i.extend({_doReset:function(){for(var f=this._key.words,p=this.cfg.iv,g=0;g<4;g++)f[g]=(f[g]<<8|f[g]>>>24)&16711935|(f[g]<<24|f[g]>>>8)&4278255360;var y=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],b=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)h.call(this);for(var g=0;g<8;g++)b[g]^=y[g+4&7];if(p){var v=p.words,m=v[0],x=v[1],w=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,k=w>>>16|C&4294901760,j=C<<16|w&65535;b[0]^=w,b[1]^=k,b[2]^=C,b[3]^=j,b[4]^=w,b[5]^=k,b[6]^=C,b[7]^=j;for(var g=0;g<4;g++)h.call(this)}},_doProcessBlock:function(f,p){var g=this._X;h.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,f[p+y]^=a[y]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,p=this._C,g=0;g<8;g++)l[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var y=f[g]+p[g],b=y&65535,v=y>>>16,m=((b*b>>>17)+b*v>>>15)+v*v,x=((y&4294901760)*y|0)+((y&65535)*y|0);u[g]=m^x}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=i._createHelper(d)}(),r.Rabbit})}(hc)),hc.exports}var fc={exports:{}},Wf;function sC(){return Wf||(Wf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),kn(),jn(),Hr(),Te())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=[],l=[],u=[],d=o.RabbitLegacy=i.extend({_doReset:function(){var f=this._key.words,p=this.cfg.iv,g=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],y=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var b=0;b<4;b++)h.call(this);for(var b=0;b<8;b++)y[b]^=g[b+4&7];if(p){var v=p.words,m=v[0],x=v[1],w=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,k=w>>>16|C&4294901760,j=C<<16|w&65535;y[0]^=w,y[1]^=k,y[2]^=C,y[3]^=j,y[4]^=w,y[5]^=k,y[6]^=C,y[7]^=j;for(var b=0;b<4;b++)h.call(this)}},_doProcessBlock:function(f,p){var g=this._X;h.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,f[p+y]^=a[y]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,p=this._C,g=0;g<8;g++)l[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var y=f[g]+p[g],b=y&65535,v=y>>>16,m=((b*b>>>17)+b*v>>>15)+v*v,x=((y&4294901760)*y|0)+((y&65535)*y|0);u[g]=m^x}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=i._createHelper(d)}(),r.RabbitLegacy})}(fc)),fc.exports}var pc={exports:{}},qf;function iC(){return qf||(qf=1,function(e,t){(function(r,n,s){e.exports=n(ce(),kn(),jn(),Hr(),Te())})(Z,function(r){return function(){var n=r,s=n.lib,i=s.BlockCipher,o=n.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function h(b,v){let m=v>>24&255,x=v>>16&255,w=v>>8&255,C=v&255,k=b.sbox[0][m]+b.sbox[1][x];return k=k^b.sbox[2][w],k=k+b.sbox[3][C],k}function f(b,v,m){let x=v,w=m,C;for(let k=0;k<a;++k)x=x^b.pbox[k],w=h(b,x)^w,C=x,x=w,w=C;return C=x,x=w,w=C,w=w^b.pbox[a],x=x^b.pbox[a+1],{left:x,right:w}}function p(b,v,m){let x=v,w=m,C;for(let k=a+1;k>1;--k)x=x^b.pbox[k],w=h(b,x)^w,C=x,x=w,w=C;return C=x,x=w,w=C,w=w^b.pbox[1],x=x^b.pbox[0],{left:x,right:w}}function g(b,v,m){for(let j=0;j<4;j++){b.sbox[j]=[];for(let _=0;_<256;_++)b.sbox[j][_]=u[j][_]}let x=0;for(let j=0;j<a+2;j++)b.pbox[j]=l[j]^v[x],x++,x>=m&&(x=0);let w=0,C=0,k=0;for(let j=0;j<a+2;j+=2)k=f(b,w,C),w=k.left,C=k.right,b.pbox[j]=w,b.pbox[j+1]=C;for(let j=0;j<4;j++)for(let _=0;_<256;_+=2)k=f(b,w,C),w=k.left,C=k.right,b.sbox[j][_]=w,b.sbox[j][_+1]=C;return!0}var y=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var b=this._keyPriorReset=this._key,v=b.words,m=b.sigBytes/4;g(d,v,m)}},encryptBlock:function(b,v){var m=f(d,b[v],b[v+1]);b[v]=m.left,b[v+1]=m.right},decryptBlock:function(b,v){var m=p(d,b[v],b[v+1]);b[v]=m.left,b[v+1]=m.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(y)}(),r.Blowfish})}(pc)),pc.exports}(function(e,t){(function(r,n,s){e.exports=n(ce(),za(),R_(),O_(),kn(),L_(),jn(),rv(),J0(),I_(),nv(),M_(),U_(),$_(),Z0(),V_(),Hr(),Te(),z_(),H_(),W_(),q_(),K_(),G_(),Q_(),X_(),Y_(),J_(),Z_(),eC(),tC(),rC(),nC(),sC(),iC())})(Z,function(r){return r})})(tv);var oC=tv.exports;const Tu=nx(oC),aC="https://cggsodnyilnhlrtuzdkr.supabase.co",xc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ3NvZG55aWxuaGxydHV6ZGtyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0NTQ1MzksImV4cCI6MjA2NjAzMDUzOX0.I3j8Wyt1oeH57A3mN_MmcpMcHw9xS2zNqXWTTIYBF08",Q=D_(aC,xc,{db:{schema:"public"},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{apikey:xc,Authorization:`Bearer ${xc}`}}}),sv="your-secret-key",lC=e=>Tu.AES.encrypt(e,sv).toString(),cC=e=>Tu.AES.decrypt(e,sv).toString(Tu.enc.Utf8),uC=async(e,t,r)=>{try{const{data:n,error:s}=await Q.storage.from(t).upload(r,e,{cacheControl:"3600",upsert:!0});if(s)throw s;const{data:{publicUrl:i}}=Q.storage.from(t).getPublicUrl(n.path);return i}catch(n){return console.error("Error uploading image:",n),null}},iv=N.createContext(void 0),De=()=>{const e=N.useContext(iv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},dC=({children:e})=>{const[t,r]=N.useState({isAuthenticated:!1,user:null,loading:!0});N.useEffect(()=>{const d=()=>{const p=localStorage.getItem("localTestUser");if(p)try{const g=JSON.parse(p);return r({isAuthenticated:!0,user:{...g,createdAt:new Date(g.createdAt)},loading:!1}),!0}catch(g){console.error("Error parsing local user:",g),localStorage.removeItem("localTestUser")}return!1};(async()=>{if(!d())try{const{data:{session:p}}=await Q.auth.getSession();p!=null&&p.user&&await n(p.user.id)}catch(p){console.error("Session check error:",p)}finally{r(p=>({...p,loading:!1}))}})();const{data:{subscription:f}}=Q.auth.onAuthStateChange(async(p,g)=>{p==="SIGNED_IN"&&(g!=null&&g.user)?await n(g.user.id):p==="SIGNED_OUT"&&(localStorage.removeItem("localTestUser"),r({isAuthenticated:!1,user:null,loading:!1}))});return()=>f.unsubscribe()},[]);const n=async d=>{var h,f;try{const{data:p,error:g}=await Q.from("profiles").select(`
          *,
          characters(id),
          privacy_settings(*)
        `).eq("id",d).single();if(g)throw g;const y={id:p.id,username:p.username,displayName:p.display_name,email:p.email,avatar:p.avatar_url||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",headerImage:p.header_image_url||"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=800&h=300",bio:p.bio,writersTag:p.writers_tag,twoFactorEnabled:p.two_factor_enabled,characters:((h=p.characters)==null?void 0:h.map(b=>b.id))||[],followers:p.followers||[],following:p.following||[],createdAt:new Date(p.created_at),privacySettings:(f=p.privacy_settings)!=null&&f[0]?{profileVisibility:p.privacy_settings[0].profile_visibility,messagePermissions:p.privacy_settings[0].message_permissions,tagNotifications:p.privacy_settings[0].tag_notifications,directMessageNotifications:p.privacy_settings[0].direct_message_notifications}:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}};r({isAuthenticated:!0,user:y,loading:!1})}catch(p){console.error("Error loading user profile:",p),r(g=>({...g,loading:!1}))}},s=async(d,h)=>{try{const f=d.includes("@");let p=d;if(!f)try{const{data:b,error:v}=await Q.from("profiles").select("email").eq("username",d).maybeSingle();if(v)throw console.error("Profile lookup error:",v),new Error("Database error occurred");if(!b||!b.email)throw new Error("User not found or no email associated with username");p=b.email}catch(b){throw console.error("Database query failed:",b),new Error("Unable to find user. Please check your username or try using your email address.")}const{data:g,error:y}=await Q.auth.signInWithPassword({email:p,password:h});if(y)throw console.error("Auth error:",y),new Error(y.message||"Login failed");return!0}catch(f){throw console.error("Login error:",f),f}},i=async(d,h,f,p,g)=>{try{const{data:y,error:b}=await Q.auth.signUp({email:g,password:h});if(b)throw console.error("Auth signup error:",b),new Error(b.message||"Registration failed");if(y.user){const{error:v}=await Q.from("profiles").insert({id:y.user.id,username:d,display_name:f,email:g,writers_tag:p,bio:"New to CharacterVerse!"});if(v)throw console.error("Profile creation error:",v),v.code==="23505"?v.message.includes("username")?new Error("Username already exists. Please choose a different username."):new Error("This account already exists. Please try logging in instead."):new Error(v.message||"Failed to create user profile");const{error:m}=await Q.from("privacy_settings").insert({user_id:y.user.id,profile_visibility:"public",message_permissions:"everyone",tag_notifications:!0,direct_message_notifications:!0});m&&console.warn("Privacy settings creation failed:",m)}return!0}catch(y){throw console.error("Registration error:",y),y}},o=async()=>{localStorage.removeItem("localTestUser"),await Q.auth.signOut()},a=async d=>{if(t.user){if(t.user.id==="local-test-user"){const h={...t.user,...d};localStorage.setItem("localTestUser",JSON.stringify(h)),r(f=>({...f,user:h}));return}try{const{error:h}=await Q.from("profiles").update({display_name:d.displayName,bio:d.bio,writers_tag:d.writersTag,email:d.email,avatar_url:d.avatar,header_image_url:d.headerImage,updated_at:new Date().toISOString()}).eq("id",t.user.id);if(h)throw h;if(d.privacySettings){const{error:f}=await Q.from("privacy_settings").update({profile_visibility:d.privacySettings.profileVisibility,message_permissions:d.privacySettings.messagePermissions,tag_notifications:d.privacySettings.tagNotifications,direct_message_notifications:d.privacySettings.directMessageNotifications,updated_at:new Date().toISOString()}).eq("user_id",t.user.id);f&&console.warn("Privacy settings update failed:",f)}r(f=>({...f,user:f.user?{...f.user,...d}:null}))}catch(h){console.error("Error updating user:",h)}}},l=async d=>d==="123456",u=async d=>(t.user&&await a({email:d,twoFactorEnabled:!0}),!0);return c.jsx(iv.Provider,{value:{...t,login:s,register:i,logout:o,updateUser:a,verifyOTP:l,enableTwoFactor:u},children:e})},ov=N.createContext(void 0),ht=()=>{const e=N.useContext(ov);if(!e)throw new Error("useApp must be used within an AppProvider");return e},hC=({children:e})=>{const{user:t}=De(),[r,n]=N.useState([]),[s,i]=N.useState([]),[o,a]=N.useState([]),[l,u]=N.useState([]),[d,h]=N.useState(null),[f,p]=N.useState([]),[g,y]=N.useState([]),[b,v]=N.useState([]),[m,x]=N.useState([]),w=o.filter(T=>!T.read).length;N.useEffect(()=>{if(!t)return;const T=Q.channel("posts").on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{F()}).subscribe(),P=Q.channel("characters").on("postgres_changes",{event:"*",schema:"public",table:"characters"},()=>{_()}).subscribe(),W=Q.channel("profiles").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{j()}).subscribe(),A=Q.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},()=>{S()}).subscribe(),X=Q.channel("post_interactions").on("postgres_changes",{event:"*",schema:"public",table:"post_interactions"},()=>{F()}).subscribe(),Y=Q.channel("follows").on("postgres_changes",{event:"*",schema:"public",table:"follows"},()=>{j()}).subscribe();return()=>{T.unsubscribe(),P.unsubscribe(),W.unsubscribe(),A.unsubscribe(),X.unsubscribe(),Y.unsubscribe()}},[t]),N.useEffect(()=>{if(!t)return;const T=setInterval(()=>{F(),_(),j()},1e3);return()=>clearInterval(T)},[t]),N.useEffect(()=>{t&&(_(),F(),S(),D(),j(),C())},[t]);const C=()=>{if(!t)return;const T=localStorage.getItem(`bookmarkedPosts_${t.id}`),P=localStorage.getItem(`bookmarkedCharacters_${t.id}`),W=localStorage.getItem(`bookmarkedUsers_${t.id}`);T&&y(JSON.parse(T)),P&&v(JSON.parse(P)),W&&x(JSON.parse(W))},k=(T,P)=>{t&&localStorage.setItem(`bookmarked${T.charAt(0).toUpperCase()+T.slice(1)}_${t.id}`,JSON.stringify(P))},j=async()=>{try{const{data:T,error:P}=await Q.from("profiles").select(`
          *,
          follower_count:follows!follows_following_id_fkey(count),
          following_count:follows!follows_follower_id_fkey(count)
        `).order("created_at",{ascending:!1});if(P)throw P;const W=T.map(A=>({id:A.id,username:A.username,displayName:A.display_name,avatar:A.avatar_url||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",headerImage:A.header_image_url||"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=800&h=300",bio:A.bio||"",writersTag:A.writers_tag,email:A.email,twoFactorEnabled:A.two_factor_enabled||!1,characters:[],followers:A.followers||[],following:A.following||[],createdAt:new Date(A.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}));p(W)}catch(T){console.error("Error loading users:",T)}},_=async()=>{try{const{data:T,error:P}=await Q.from("characters").select("*").order("created_at",{ascending:!1});if(P)throw P;const W=T.map(A=>({id:A.id,username:A.username,name:A.name,title:A.title,avatar:A.avatar_url,headerImage:A.header_url,bio:A.bio,universe:A.universe,verseTag:A.verse_tag,traits:A.traits||[],userId:A.user_id,customColor:A.custom_color,customFont:A.custom_font,followers:A.followers||[],following:A.following||[],createdAt:new Date(A.created_at)}));n(W)}catch(T){console.error("Error loading characters:",T)}},F=async()=>{try{const{data:T,error:P}=await Q.from("posts").select(`
          *,
          character:characters(*),
          profile:profiles(*),
          interactions:post_interactions(interaction_type, user_id),
          comments:comments(
            id,
            content,
            user_id,
            character_id,
            created_at,
            profile:profiles(*),
            character:characters(*)
          )
        `).order("created_at",{ascending:!1});if(P)throw P;const W=T.map(A=>{var Oe,Pt,Qr,ks,Hi,Wi;const X=((Oe=A.interactions)==null?void 0:Oe.filter(te=>te.interaction_type==="like").length)||0,Y=((Pt=A.interactions)==null?void 0:Pt.filter(te=>te.interaction_type==="repost").length)||0,Re=((Qr=A.interactions)==null?void 0:Qr.some(te=>te.interaction_type==="like"&&te.user_id===(t==null?void 0:t.id)))||!1,ze=((ks=A.interactions)==null?void 0:ks.some(te=>te.interaction_type==="repost"&&te.user_id===(t==null?void 0:t.id)))||!1;return{id:A.id,content:A.content,characterId:A.character_id,character:A.character?{id:A.character.id,username:A.character.username,name:A.character.name,title:A.character.title,avatar:A.character.avatar_url,headerImage:A.character.header_url,bio:A.character.bio,universe:A.character.universe,verseTag:A.character.verse_tag,traits:A.character.traits||[],userId:A.character.user_id,customColor:A.character.custom_color,customFont:A.character.custom_font,followers:A.character.followers||[],following:A.character.following||[],createdAt:new Date(A.character.created_at)}:void 0,userId:A.user_id,user:A.profile?{id:A.profile.id,username:A.profile.username,displayName:A.profile.display_name,avatar:A.profile.avatar_url,headerImage:A.profile.header_image_url,bio:A.profile.bio,writersTag:A.profile.writers_tag,email:A.profile.email,twoFactorEnabled:A.profile.two_factor_enabled,characters:[],followers:A.profile.followers||[],following:A.profile.following||[],createdAt:new Date(A.profile.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}:void 0,timestamp:new Date(A.created_at),likes:X,reposts:Y,comments:((Hi=A.comments)==null?void 0:Hi.length)||0,isLiked:Re,isReposted:ze,isThread:A.is_thread,threadId:A.thread_id,parentPostId:A.parent_post_id,visibility:A.visibility,tags:A.tags||[],mediaUrls:A.media_urls||[],replies:((Wi=A.comments)==null?void 0:Wi.map(te=>({id:te.id,content:te.content,userId:te.user_id,characterId:te.character_id,timestamp:new Date(te.created_at),user:te.profile?{id:te.profile.id,username:te.profile.username,displayName:te.profile.display_name,avatar:te.profile.avatar_url,headerImage:te.profile.header_image_url,bio:te.profile.bio,writersTag:te.profile.writers_tag,email:te.profile.email,twoFactorEnabled:te.profile.two_factor_enabled,characters:[],followers:te.profile.followers||[],following:te.profile.following||[],createdAt:new Date(te.profile.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}:void 0,character:te.character?{id:te.character.id,username:te.character.username,name:te.character.name,title:te.character.title,avatar:te.character.avatar_url,headerImage:te.character.header_url,bio:te.character.bio,universe:te.character.universe,verseTag:te.character.verse_tag,traits:te.character.traits||[],userId:te.character.user_id,customColor:te.character.custom_color,customFont:te.character.custom_font,followers:te.character.followers||[],following:te.character.following||[],createdAt:new Date(te.character.created_at)}:void 0})))||[]}});i(W)}catch(T){console.error("Error loading posts:",T)}},S=async()=>{if(t)try{const{data:T,error:P}=await Q.from("notifications").select(`
          *,
          from_profile:profiles!notifications_from_user_id_fkey(*)
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(P)throw P;const W=T.map(A=>({id:A.id,type:A.type,userId:A.user_id,fromUserId:A.from_user_id,fromUser:A.from_profile?{id:A.from_profile.id,username:A.from_profile.username,displayName:A.from_profile.display_name,avatar:A.from_profile.avatar_url,headerImage:A.from_profile.header_image_url,bio:A.from_profile.bio,writersTag:A.from_profile.writers_tag,email:A.from_profile.email,twoFactorEnabled:A.from_profile.two_factor_enabled,characters:[],followers:A.from_profile.followers||[],following:A.from_profile.following||[],createdAt:new Date(A.from_profile.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}:void 0,postId:A.post_id,message:A.message,timestamp:new Date(A.created_at),read:A.read}));a(W)}catch(T){console.error("Error loading notifications:",T)}},D=async()=>{if(t)try{const{data:T,error:P}=await Q.from("chats").select(`
          *,
          participants:chat_participants(
            user_id,
            profile:profiles(*)
          ),
          last_message:messages(*)
        `).order("updated_at",{ascending:!1});if(P)throw P;const A=T.filter(X=>X.participants.some(Y=>Y.user_id===t.id)).map(X=>{var Y;return{id:X.id,participants:X.participants.map(Re=>Re.user_id),isGroup:X.is_group,name:X.name,createdAt:new Date(X.created_at),isEncrypted:X.is_encrypted,lastMessage:(Y=X.last_message)!=null&&Y[0]?{id:X.last_message[0].id,content:cC(X.last_message[0].content),senderId:X.last_message[0].sender_id,chatId:X.last_message[0].chat_id,timestamp:new Date(X.last_message[0].created_at),isEncrypted:X.last_message[0].is_encrypted,readBy:[]}:void 0}});u(A)}catch(T){console.error("Error loading chats:",T)}},R=async T=>{if(t)try{const{data:P,error:W}=await Q.from("characters").insert({user_id:t.id,username:T.username,name:T.name,title:T.title,bio:T.bio,universe:T.universe,verse_tag:T.verseTag,traits:T.traits,custom_color:T.customColor,custom_font:T.customFont,avatar_url:T.avatar,header_url:T.headerImage,followers:[],following:[]}).select().single();if(W)throw W;const A={id:P.id,username:P.username,name:P.name,title:P.title,avatar:P.avatar_url,headerImage:P.header_url,bio:P.bio,universe:P.universe,verseTag:P.verse_tag,traits:P.traits||[],userId:P.user_id,customColor:P.custom_color,customFont:P.custom_font,followers:P.followers||[],following:P.following||[],createdAt:new Date(P.created_at)};n(X=>[A,...X])}catch(P){console.error("Error adding character:",P)}},O=async(T,P)=>{try{const{error:W}=await Q.from("characters").update({username:P.username,name:P.name,title:P.title,bio:P.bio,universe:P.universe,verse_tag:P.verseTag,traits:P.traits,custom_color:P.customColor,custom_font:P.customFont,avatar_url:P.avatar,header_url:P.headerImage,followers:P.followers,following:P.following,updated_at:new Date().toISOString()}).eq("id",T);if(W)throw W;n(A=>A.map(X=>X.id===T?{...X,...P}:X))}catch(W){console.error("Error updating character:",W)}},z=async T=>{try{const{error:P}=await Q.from("characters").delete().eq("id",T);if(P)throw P;n(W=>W.filter(A=>A.id!==T))}catch(P){console.error("Error deleting character:",P)}},I=async T=>{if(t)try{const{data:P,error:W}=await Q.from("posts").insert({user_id:t.id,character_id:T.characterId,content:T.content,visibility:T.visibility,is_thread:T.isThread,thread_id:T.threadId,parent_post_id:T.parentPostId,tags:T.tags,media_urls:T.mediaUrls||[]}).select().single();if(W)throw W;if(T.parentPostId){const A=s.find(X=>X.id===T.parentPostId);A&&A.userId!==t.id&&await L({type:"comment",userId:A.userId,fromUserId:t.id,postId:T.parentPostId,message:`${t.displayName} replied to your post`,read:!1})}F()}catch(P){console.error("Error adding post:",P)}},E=async(T,P,W)=>{if(t)try{const{error:A}=await Q.from("comments").insert({user_id:t.id,post_id:T,character_id:W,content:P});if(A)throw A;const X=s.find(Y=>Y.id===T);X&&X.userId!==t.id&&await L({type:"comment",userId:X.userId,fromUserId:t.id,postId:T,message:`${t.displayName} commented on your post`,read:!1}),F()}catch(A){console.error("Error adding comment:",A)}},q=async(T,P)=>{try{const{error:W}=await Q.from("posts").update({content:P.content,visibility:P.visibility,tags:P.tags,media_urls:P.mediaUrls,updated_at:new Date().toISOString()}).eq("id",T);if(W)throw W;F()}catch(W){console.error("Error updating post:",W)}},M=async T=>{try{const{error:P}=await Q.from("posts").delete().eq("id",T);if(P)throw P;i(W=>W.filter(A=>A.id!==T))}catch(P){console.error("Error deleting post:",P)}},K=async T=>{if(t)try{const P=await Q.from("post_interactions").select("id").eq("user_id",t.id).eq("post_id",T).eq("interaction_type","like").single();if(P.data)await Q.from("post_interactions").delete().eq("id",P.data.id);else{await Q.from("post_interactions").insert({user_id:t.id,post_id:T,interaction_type:"like"});const W=s.find(A=>A.id===T);W&&W.userId!==t.id&&await L({type:"like",userId:W.userId,fromUserId:t.id,postId:T,message:`${t.displayName} liked your post`,read:!1})}F()}catch(P){console.error("Error liking post:",P)}},H=async T=>{if(t)try{const P=await Q.from("post_interactions").select("id").eq("user_id",t.id).eq("post_id",T).eq("interaction_type","repost").single();if(P.data)await Q.from("post_interactions").delete().eq("id",P.data.id);else{await Q.from("post_interactions").insert({user_id:t.id,post_id:T,interaction_type:"repost"});const W=s.find(A=>A.id===T);W&&W.userId!==t.id&&await L({type:"repost",userId:W.userId,fromUserId:t.id,postId:T,message:`${t.displayName} reposted your post`,read:!1})}F()}catch(P){console.error("Error reposting post:",P)}},B=async T=>{try{const{data:P,error:W}=await Q.from("comments").select(`
          *,
          profile:profiles(*),
          character:characters(*)
        `).eq("post_id",T).order("created_at",{ascending:!0});if(W)throw W;return P.map(A=>({id:A.id,content:A.content,userId:A.user_id,postId:A.post_id,characterId:A.character_id,character:A.character,user:A.profile,timestamp:new Date(A.created_at)}))}catch(P){return console.error("Error loading comments:",P),[]}},L=async T=>{try{await Q.from("notifications").insert({user_id:T.userId,from_user_id:T.fromUserId,type:T.type,post_id:T.postId,message:T.message,read:T.read})}catch(P){console.error("Error adding notification:",P)}},$=async T=>{try{const{error:P}=await Q.from("notifications").update({read:!0}).eq("id",T);if(P)throw P;a(W=>W.map(A=>A.id===T?{...A,read:!0}:A))}catch(P){console.error("Error marking notification as read:",P)}},U=async()=>{if(t)try{const{error:T}=await Q.from("notifications").delete().eq("user_id",t.id);if(T)throw T;a([])}catch(T){console.error("Error clearing notifications:",T)}},le=async T=>{if(t)try{const{data:P}=await Q.from("follows").select("id").eq("follower_id",t.id).eq("following_id",T).single();P?await Q.from("follows").delete().eq("follower_id",t.id).eq("following_id",T):(await Q.from("follows").insert({follower_id:t.id,following_id:T}),await L({type:"follow",userId:T,fromUserId:t.id,message:`${t.displayName} started following you`,read:!1})),j(),S()}catch(P){console.error("Error following user:",P)}},ne=async T=>{if(t)try{await Q.from("follows").delete().eq("follower_id",t.id).eq("following_id",T),j()}catch(P){console.error("Error unfollowing user:",P)}},J=async(T,P)=>{if(!t)return;const W=r.find(A=>A.id===T);if(W)try{const A=[...W.followers,P||t.id];await Q.from("characters").update({followers:A}).eq("id",T),n(X=>X.map(Y=>Y.id===T?{...Y,followers:A}:Y))}catch(A){console.error("Error following character:",A)}},re=async(T,P)=>{if(!t)return;const W=r.find(A=>A.id===T);if(W)try{const A=W.followers.filter(X=>X!==(P||t.id));await Q.from("characters").update({followers:A}).eq("id",T),n(X=>X.map(Y=>Y.id===T?{...Y,followers:A}:Y))}catch(A){console.error("Error unfollowing character:",A)}},rt=async(T,P,W,A)=>{try{const X=lC(P),{data:Y,error:Re}=await Q.from("messages").insert({chat_id:T,sender_id:W,content:X,is_encrypted:!0,media_url:A}).select().single();if(Re)throw Re;await Q.from("chats").update({updated_at:new Date().toISOString()}).eq("id",T);const ze={id:Y.id,content:P,senderId:Y.sender_id,chatId:Y.chat_id,timestamp:new Date(Y.created_at),isEncrypted:Y.is_encrypted,readBy:[W]};u(Oe=>Oe.map(Pt=>Pt.id===T?{...Pt,lastMessage:ze}:Pt))}catch(X){console.error("Error sending message:",X)}},Ue=async(T,P=!1,W)=>{if(!t)throw new Error("User not authenticated");try{const{data:A,error:X}=await Q.from("chats").insert({name:W,is_group:P,is_encrypted:!0,created_by:t.id}).select().single();if(X)throw X;const Y=[t.id,...T].map(Oe=>({chat_id:A.id,user_id:Oe})),{error:Re}=await Q.from("chat_participants").insert(Y);if(Re)throw Re;const ze={id:A.id,participants:[t.id,...T],isGroup:P,name:W,createdAt:new Date(A.created_at),isEncrypted:A.is_encrypted};return u(Oe=>[ze,...Oe]),ze}catch(A){throw console.error("Error creating chat:",A),A}},$e=T=>{const P=T.toLowerCase(),W=s.filter(Y=>{var Re,ze,Oe,Pt;return Y.content.toLowerCase().includes(P)||Y.tags.some(Qr=>Qr.toLowerCase().includes(P))||((Re=Y.character)==null?void 0:Re.name.toLowerCase().includes(P))||((ze=Y.character)==null?void 0:ze.verseTag.toLowerCase().includes(P))||((Oe=Y.user)==null?void 0:Oe.displayName.toLowerCase().includes(P))||((Pt=Y.user)==null?void 0:Pt.username.toLowerCase().includes(P))}),A=r.filter(Y=>Y.name.toLowerCase().includes(P)||Y.username.toLowerCase().includes(P)||Y.verseTag.toLowerCase().includes(P)||Y.universe.toLowerCase().includes(P)||Y.traits.some(Re=>Re.toLowerCase().includes(P))),X=f.filter(Y=>Y.username.toLowerCase().includes(P)||Y.displayName.toLowerCase().includes(P)||Y.writersTag.toLowerCase().includes(P));return{posts:W,characters:A,users:X}},Dt=()=>{if(!t)return{writers:[],characters:[]};const T=r.filter(A=>A.userId===t.id).map(A=>A.verseTag),P=r.filter(A=>A.userId!==t.id&&T.some(X=>A.verseTag.toLowerCase().includes(X.toLowerCase()))).slice(0,5);return{writers:f.filter(A=>A.id!==t.id).slice(0,5),characters:P}},Ve=T=>t?T==="user"?s.filter(P=>P.userId===t.id?!0:t.following.includes(P.userId)):T?s.filter(P=>P.userId===t.id||P.characterId&&T.following.includes(P.characterId)?!0:T.following.includes(P.userId)):s.filter(P=>P.userId===t.id?!0:t.following.includes(P.userId)):[],Qe=async T=>{try{const{data:P,error:W}=await Q.from("follows").select(`
          follower:profiles!follows_follower_id_fkey(*)
        `).eq("following_id",T);if(W)throw W;return P.map(A=>({id:A.follower.id,username:A.follower.username,displayName:A.follower.display_name,avatar:A.follower.avatar_url,headerImage:A.follower.header_image_url,bio:A.follower.bio,writersTag:A.follower.writers_tag,email:A.follower.email,twoFactorEnabled:A.follower.two_factor_enabled,characters:[],followers:A.follower.followers||[],following:A.follower.following||[],createdAt:new Date(A.follower.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}))}catch(P){return console.error("Error loading user followers:",P),[]}},Nn=async T=>{try{const{data:P,error:W}=await Q.from("follows").select(`
          following:profiles!follows_following_id_fkey(*)
        `).eq("follower_id",T);if(W)throw W;return P.map(A=>({id:A.following.id,username:A.following.username,displayName:A.following.display_name,avatar:A.following.avatar_url,headerImage:A.following.header_image_url,bio:A.following.bio,writersTag:A.following.writers_tag,email:A.following.email,twoFactorEnabled:A.following.two_factor_enabled,characters:[],followers:A.following.followers||[],following:A.following.following||[],createdAt:new Date(A.following.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}))}catch(P){return console.error("Error loading user following:",P),[]}},qr=async T=>{const P=r.find(A=>A.id===T);return P?f.filter(A=>P.followers.includes(A.id)):[]},An=async T=>{const P=r.find(Y=>Y.id===T);if(!P)return[];const W=[],A=f.filter(Y=>P.following.includes(Y.id));W.push(...A);const X=r.filter(Y=>P.following.includes(Y.id));return W.push(...X),W},Kr=T=>{if(!t)return;const P=[...g,T];y(P),k("posts",P)},Cs=T=>{if(!t)return;const P=[...b,T];v(P),k("characters",P)},Gr=T=>{if(!t)return;const P=[...m,T];x(P),k("users",P)},ft=T=>{if(!t)return;const P=g.filter(W=>W!==T);y(P),k("posts",P)},nt=T=>{if(!t)return;const P=b.filter(W=>W!==T);v(P),k("characters",P)},$t=T=>{if(!t)return;const P=m.filter(W=>W!==T);x(P),k("users",P)};return c.jsx(ov.Provider,{value:{characters:r,posts:s,notifications:o,chats:l,selectedCharacter:d,unreadNotifications:w,allUsers:f,bookmarkedPosts:g,bookmarkedCharacters:b,bookmarkedUsers:m,setCharacters:n,setPosts:i,setNotifications:a,setChats:u,setSelectedCharacter:h,addCharacter:R,updateCharacter:O,deleteCharacter:z,addPost:I,updatePost:q,deletePost:M,likePost:K,repostPost:H,addComment:E,addNotification:L,markNotificationAsRead:$,clearAllNotifications:U,sendMessage:rt,createChat:Ue,searchContent:$e,getRecommendations:Dt,followUser:le,unfollowUser:ne,followCharacter:J,unfollowCharacter:re,getPostComments:B,getFilteredPosts:Ve,getUserFollowers:Qe,getUserFollowing:Nn,getCharacterFollowers:qr,getCharacterFollowing:An,bookmarkPost:Kr,bookmarkCharacter:Cs,bookmarkUser:Gr,unbookmarkPost:ft,unbookmarkCharacter:nt,unbookmarkUser:$t},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>N.createElement("svg",{ref:d,...fC,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${pC(e)}`,a].join(" "),...u},[...t.map(([h,f])=>N.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=se("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=se("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=se("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=se("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=se("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=se("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=se("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=se("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=se("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=se("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xv=()=>c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:c.jsx(rd,{className:"w-8 h-8 text-white animate-bounce"})}),c.jsx("p",{className:"text-gray-400",children:"Loading CharacterVerse..."})]})}),TC=()=>{const[e,t]=N.useState(!0),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[o,a]=N.useState(""),[l,u]=N.useState({identifier:"",password:"",displayName:"",writersTag:"",email:""}),{login:d,register:h}=De(),f=async p=>{p.preventDefault(),i(!0),a("");try{if(e)await d(l.identifier,l.password);else{const g=l.identifier.includes("@")?l.identifier.split("@")[0]:l.identifier;await h(g,l.password,l.displayName,l.writersTag,l.email)}}catch(g){console.error("Authentication error:",g),a(g.message||"An error occurred. Please try again.")}finally{i(!1)}};return s?c.jsx(xv,{}):c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-2xl border border-gray-700/50 p-8 shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(rd,{className:"w-8 h-8 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"VERSE"}),c.jsx("p",{className:"text-gray-400",children:e?"Welcome back to the community":"Join the storytelling community"})]}),o&&c.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/30 rounded-lg",children:c.jsx("p",{className:"text-red-400 text-sm",children:o})}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e?"Username or Email":"Username"}),c.jsx("input",{type:"text",value:l.identifier,onChange:p=>u(g=>({...g,identifier:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:e?"Enter username or email":"Choose a username",required:!0})]}),!e&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),c.jsx("input",{type:"text",value:l.displayName,onChange:p=>u(g=>({...g,displayName:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"Your display name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),c.jsx("input",{type:"text",value:l.writersTag,onChange:p=>u(g=>({...g,writersTag:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., fantasy, scifi, modern",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),c.jsx("input",{type:"email",value:l.email,onChange:p=>u(g=>({...g,email:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"your@email.com",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:r?"text":"password",value:l.password,onChange:p=>u(g=>({...g,password:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 pr-12 text-white focus:border-purple-500 focus:outline-none",placeholder:"Enter your password",required:!0}),c.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:r?c.jsx(yC,{className:"w-5 h-5"}):c.jsx(td,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:e?"Sign In":"Create Account"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>{t(!e),a(""),u({identifier:"",password:"",displayName:"",writersTag:"",email:""})},className:"text-purple-400 hover:text-purple-300 transition-colors",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})}),c.jsx("div",{className:"p-6 text-center border-t border-gray-700/50 bg-black/20",children:c.jsxs("p",{className:"text-gray-500 text-sm",children:["Verse  ",new Date().getFullYear()," - UNWYRE TECH AND CONSULTING"]})})]})};function Gf(e){const r=new Date().getTime()-e.getTime(),n=Math.floor(r/(1e3*60)),s=Math.floor(r/(1e3*60*60)),i=Math.floor(r/(1e3*60*60*24));return n<1?"now":n<60?`${n}m`:s<24?`${s}h`:i<7?`${i}d`:e.toLocaleDateString()}const Mi=({post:e,onLike:t,onRepost:r,showReplies:n=!1})=>{var q,M,K,H,B,L,$,U,le,ne;const{user:s}=De(),{updatePost:i,deletePost:o,addComment:a,characters:l}=ht(),[u,d]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(!1),[y,b]=N.useState(e.content),[v,m]=N.useState(""),[x,w]=N.useState("user"),C=((q=e.character)==null?void 0:q.avatar)||((M=e.user)==null?void 0:M.avatar)||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",k=((K=e.character)==null?void 0:K.name)||((H=e.user)==null?void 0:H.displayName)||((B=e.user)==null?void 0:B.username)||"Unknown User",j=((L=e.character)==null?void 0:L.title)||"",_=($=e.character)==null?void 0:$.universe,F=((U=e.character)==null?void 0:U.username)||((le=e.user)==null?void 0:le.username)||"",S=e.userId===(s==null?void 0:s.id),D=l.filter(J=>J.userId===(s==null?void 0:s.id)),R=()=>{g(!0),d(!1)},O=()=>{i(e.id,{content:y}),g(!1)},z=()=>{window.confirm("Are you sure you want to delete this post?")&&o(e.id),d(!1)},I=()=>{f(!0)},E=J=>{if(J.preventDefault(),v.trim()){const re=x==="user"?void 0:x;a(e.id,v.trim(),re),m("")}};return c.jsxs("article",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 overflow-hidden",children:[c.jsx("div",{className:"p-6 hover:bg-gray-800/20 transition-colors",children:c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("img",{src:C,alt:k,className:"w-12 h-12 rounded-full object-cover ring-2 ring-purple-500/30"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h3",{className:"font-bold text-white",children:k}),j&&c.jsx("span",{className:"text-purple-400 text-sm font-medium",children:j}),c.jsxs("span",{className:"text-gray-500",children:["@",F]})]}),c.jsx("span",{className:"text-gray-500",children:""}),c.jsx("time",{className:"text-gray-500 text-sm",children:Gf(e.timestamp)}),c.jsxs("div",{className:"ml-auto relative",children:[c.jsx("button",{onClick:()=>d(!u),className:"text-gray-500 hover:text-gray-300 transition-colors",children:c.jsx(dv,{className:"w-5 h-5"})}),u&&c.jsxs("div",{className:"absolute right-0 top-8 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-10 min-w-[120px]",children:[S&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:R,className:"w-full text-left px-4 py-2 text-white hover:bg-gray-700 flex items-center space-x-2",children:[c.jsx(nd,{className:"w-4 h-4"}),c.jsx("span",{children:"Edit"})]}),c.jsxs("button",{onClick:z,className:"w-full text-left px-4 py-2 text-red-400 hover:bg-gray-700 flex items-center space-x-2",children:[c.jsx(qa,{className:"w-4 h-4"}),c.jsx("span",{children:"Delete"})]})]}),c.jsx("button",{onClick:()=>d(!1),className:"w-full text-left px-4 py-2 text-gray-400 hover:bg-gray-700",children:"Cancel"})]})]})]}),_&&c.jsx("div",{className:"mb-3",children:c.jsxs("div",{className:"inline-flex items-center space-x-2 text-xs text-purple-300 bg-purple-900/30 px-2 py-1 rounded-full mb-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:_})]})}),c.jsx("div",{className:"mb-4",children:p?c.jsxs("div",{className:"space-y-3",children:[c.jsx("textarea",{value:y,onChange:J=>b(J.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",rows:3}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:O,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save"}),c.jsx("button",{onClick:()=>{g(!1),b(e.content)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):c.jsx("p",{className:"text-gray-100 leading-relaxed whitespace-pre-wrap",children:e.content})}),c.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[c.jsxs("button",{onClick:I,className:"flex items-center space-x-2 text-gray-500 hover:text-blue-400 transition-colors group",children:[c.jsx("div",{className:"p-2 rounded-full group-hover:bg-blue-400/10 transition-colors",children:c.jsx(Ou,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-sm",children:e.comments})]}),c.jsxs("button",{onClick:r,className:`flex items-center space-x-2 transition-colors group ${e.isReposted?"text-green-400":"text-gray-500 hover:text-green-400"}`,children:[c.jsx("div",{className:"p-2 rounded-full group-hover:bg-green-400/10 transition-colors",children:c.jsx(hv,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-sm",children:e.reposts})]}),c.jsxs("button",{onClick:t,className:`flex items-center space-x-2 transition-colors group ${e.isLiked?"text-red-500":"text-gray-500 hover:text-red-400"}`,children:[c.jsx("div",{className:"p-2 rounded-full group-hover:bg-red-400/10 transition-colors",children:c.jsx(lv,{className:`w-5 h-5 ${e.isLiked?"fill-current":""}`})}),c.jsx("span",{className:"text-sm",children:e.likes})]}),c.jsx("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-blue-400 transition-colors group",children:c.jsx("div",{className:"p-2 rounded-full group-hover:bg-blue-400/10 transition-colors",children:c.jsx(NC,{className:"w-5 h-5"})})})]})]})]})}),h&&c.jsxs("div",{className:"border-t border-gray-700/50 bg-gray-900/30",children:[c.jsxs("form",{onSubmit:E,className:"p-4 border-b border-gray-700/30",children:[c.jsxs("div",{className:"flex space-x-3 mb-3",children:[c.jsx("img",{src:x==="user"?s==null?void 0:s.avatar:((ne=D.find(J=>J.id===x))==null?void 0:ne.avatar)||(s==null?void 0:s.avatar),alt:"Your avatar",className:"w-8 h-8 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("select",{value:x,onChange:J=>w(J.target.value),className:"mb-2 bg-gray-800 text-white border border-gray-600 rounded-lg px-3 py-1 text-sm focus:border-purple-500 focus:outline-none",children:[c.jsx("option",{value:"user",children:"Reply as yourself"}),D.map(J=>c.jsxs("option",{value:J.id,children:[J.name," - ",J.title]},J.id))]}),c.jsx("textarea",{value:v,onChange:J=>m(J.target.value),placeholder:"Write your reply...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:border-purple-500 focus:outline-none resize-none text-sm",rows:2})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"submit",disabled:!v.trim(),className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-1 rounded-lg transition-colors text-sm",children:"Reply"})})]}),e.replies&&e.replies.length>0&&c.jsx("div",{className:"divide-y divide-gray-700/30",children:e.replies.map(J=>{var re,rt,Ue,$e,Dt,Ve;return c.jsxs("div",{className:"p-4 flex space-x-3",children:[c.jsx("img",{src:((re=J.character)==null?void 0:re.avatar)||((rt=J.user)==null?void 0:rt.avatar),alt:((Ue=J.character)==null?void 0:Ue.name)||(($e=J.user)==null?void 0:$e.displayName),className:"w-6 h-6 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("span",{className:"font-medium text-white text-sm",children:((Dt=J.character)==null?void 0:Dt.name)||((Ve=J.user)==null?void 0:Ve.displayName)}),c.jsx("span",{className:"text-gray-500 text-xs",children:Gf(J.timestamp)})]}),c.jsx("p",{className:"text-gray-100 text-sm",children:J.content})]})]},J.id)})}),c.jsx("div",{className:"p-2 text-center",children:c.jsxs("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white transition-colors text-sm flex items-center space-x-1 mx-auto",children:[c.jsx(vC,{className:"w-4 h-4"}),c.jsx("span",{children:"Hide replies"})]})})]})]})},RC=({posts:e,onLike:t,onRepost:r,onCreatePost:n})=>{const{user:s}=De(),{characters:i,getFilteredPosts:o,allUsers:a}=ht(),[l,u]=N.useState("user"),[d,h]=N.useState(!1),f=i.filter(v=>v.userId===(s==null?void 0:s.id)),p=o(l||"user"),g=v=>{u(v),h(!1)},y=()=>l==="user"?"Main Account":l&&typeof l=="object"?l.name:"Main Account",b=()=>l==="user"?s==null?void 0:s.avatar:l&&typeof l=="object"?l.avatar:s==null?void 0:s.avatar;return c.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[c.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Home"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Character stories and adventures"})]}),c.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:[c.jsx(Wa,{className:"w-4 h-4"}),c.jsx("span",{children:"Post"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>h(!d),className:"flex items-center space-x-3 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg px-4 py-3 transition-colors w-full",children:[c.jsx("img",{src:b(),alt:y(),className:"w-8 h-8 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"text-white font-medium",children:"Viewing as"}),c.jsx("p",{className:"text-gray-400 text-sm",children:y()})]}),c.jsx(gC,{className:`w-5 h-5 text-gray-400 transition-transform ${d?"rotate-180":""}`})]}),d&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-20",children:[c.jsxs("button",{onClick:()=>g("user"),className:`w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-700 transition-colors ${l==="user"?"bg-gray-700":""}`,children:[c.jsx("img",{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.displayName,className:"w-8 h-8 rounded-full object-cover"}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-white font-medium",children:"Main Account"}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",s==null?void 0:s.username]})]})]}),f.map(v=>c.jsxs("button",{onClick:()=>g(v),className:`w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-700 transition-colors ${l&&typeof l=="object"&&l.id===v.id?"bg-gray-700":""}`,children:[c.jsx("img",{src:v.avatar,alt:v.name,className:"w-8 h-8 rounded-full object-cover"}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-white font-medium",children:v.name}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",v.username]})]})]},v.id))]})]})]}),c.jsx("div",{className:"divide-y divide-gray-700/30",children:p.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"Welcome to CharacterVerse!"}),c.jsx("p",{className:"text-gray-500 mb-6",children:l==="user"?"Follow other writers to see their posts here, or create your first post!":`Follow accounts or characters as ${y()} to see their posts here.`}),c.jsx("button",{onClick:n,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-full transition-colors",children:"Create Your First Post"})]}):p.map(v=>c.jsx(Mi,{post:v,onLike:()=>t(v.id),onRepost:()=>r(v.id)},v.id))}),c.jsx("div",{className:"p-6 text-center border-t border-gray-700/50 bg-black/20",children:c.jsxs("p",{className:"text-gray-500 text-sm",children:["Verse  ",new Date().getFullYear()," - UNWYRE TECH AND CONSULTING"]})})]})},OC=({characters:e,selectedCharacter:t,onCreatePost:r,onClose:n,replyToPost:s})=>{var _,F,S,D,R,O,z,I;const{user:i}=De(),[o,a]=N.useState(""),[l,u]=N.useState(t),[d,h]=N.useState("public"),[f,p]=N.useState(!1),[g,y]=N.useState([]),b=e.filter(E=>E.userId===(i==null?void 0:i.id)),v=E=>{E.preventDefault(),o.trim()&&(r(o.trim(),l||void 0,g),a(""),y([]))},m=()=>{const E="https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=800&h=600";y(q=>[...q,E])},x=()=>{const E="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4";y(q=>[...q,E])},w=E=>{y(q=>q.filter((M,K)=>K!==E))},C=o.length,k=280,j=[{value:"public",label:"Public",icon:bC,desc:"Anyone can see this post"},{value:"followers",label:"Followers",icon:cn,desc:"Only your followers can see this"},{value:"private",label:"Private",icon:aa,desc:"Only you can see this"}];return c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[c.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(Gt,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h2",{className:"text-lg font-bold text-white",children:s?"Reply to Post":"Create Post"}),c.jsx("div",{className:"w-10"})]}),s&&c.jsx("div",{className:"p-4 bg-gray-800/30 border-b border-gray-700/50",children:c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("img",{src:((_=s.character)==null?void 0:_.avatar)||((F=s.user)==null?void 0:F.avatar),alt:((S=s.character)==null?void 0:S.name)||((D=s.user)==null?void 0:D.displayName),className:"w-8 h-8 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("span",{className:"font-medium text-white",children:((R=s.character)==null?void 0:R.name)||((O=s.user)==null?void 0:O.displayName)}),c.jsxs("span",{className:"text-gray-500 text-sm",children:["@",((z=s.character)==null?void 0:z.username)||((I=s.user)==null?void 0:I.username)]})]}),c.jsx("p",{className:"text-gray-300 text-sm",children:s.content})]})]})}),c.jsxs("form",{onSubmit:v,className:"p-6",children:[c.jsxs("div",{className:"flex space-x-4 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:l?c.jsx("img",{src:l.avatar,alt:l.name,className:"w-12 h-12 rounded-full object-cover"}):c.jsx("img",{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.displayName,className:"w-12 h-12 rounded-full object-cover"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"flex items-center space-x-2 mb-2",children:c.jsxs("select",{value:(l==null?void 0:l.id)||"user",onChange:E=>{if(E.target.value==="user")u(null);else{const q=b.find(M=>M.id===E.target.value);u(q||null)}},className:"bg-gray-800 text-white border border-gray-600 rounded-lg px-3 py-1 text-sm focus:border-purple-500 focus:outline-none",children:[c.jsx("option",{value:"user",children:"Post as yourself"}),b.map(E=>c.jsxs("option",{value:E.id,children:[E.name," - ",E.title]},E.id))]})}),l&&c.jsxs("div",{className:"inline-flex items-center space-x-2 text-xs text-purple-300 bg-purple-900/30 px-2 py-1 rounded-full mb-3",children:[c.jsx("span",{children:""}),c.jsx("span",{children:l.universe})]})]})]}),c.jsx("textarea",{value:o,onChange:E=>a(E.target.value),placeholder:s?"Write your reply...":l?`What's happening in ${l.name}'s world?`:"What's on your mind?",className:"w-full bg-transparent text-white text-xl placeholder-gray-500 resize-none border-none outline-none min-h-[120px]",maxLength:k}),g.length>0&&c.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:g.map((E,q)=>c.jsxs("div",{className:"relative",children:[E.includes(".mp4")?c.jsx("video",{src:E,className:"w-full h-32 object-cover rounded-lg",controls:!0}):c.jsx("img",{src:E,alt:"Upload",className:"w-full h-32 object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>w(q),className:"absolute top-2 right-2 p-1 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:c.jsx(Gt,{className:"w-4 h-4 text-white"})})]},q))}),c.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-700/50",children:[!s&&c.jsx("div",{className:"flex items-center space-x-4",children:c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:f,onChange:E=>p(E.target.checked),className:"text-purple-600 focus:ring-purple-500 rounded"}),c.jsx("span",{className:"text-gray-300 text-sm",children:"Create as thread"})]})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Who can see this?"}),c.jsx("div",{className:"flex space-x-2",children:j.map(E=>c.jsxs("button",{type:"button",onClick:()=>h(E.value),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-colors ${d===E.value?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[c.jsx(E.icon,{className:"w-4 h-4"}),c.jsx("span",{children:E.label})]},E.value))})]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700/50",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{type:"button",onClick:m,className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:c.jsx(cv,{className:"w-5 h-5"})}),c.jsx("button",{type:"button",onClick:x,className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:c.jsx(pv,{className:"w-5 h-5"})}),c.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:c.jsx(PC,{className:"w-5 h-5"})}),c.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:c.jsx(Ha,{className:"w-5 h-5"})}),c.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:c.jsx(uv,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${C>k*.8?C>=k?"border-red-500":"border-yellow-500":"border-gray-600"}`,children:c.jsx("svg",{className:"w-full h-full transform -rotate-90",children:c.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"none",strokeWidth:"2",className:C>k*.8?C>=k?"stroke-red-500":"stroke-yellow-500":"stroke-purple-500",strokeDasharray:`${C/k*88} 88`})})}),c.jsx("span",{className:`text-sm ${C>=k?"text-red-400":"text-gray-500"}`,children:k-C})]}),c.jsx("button",{type:"submit",disabled:!o.trim()||C>k,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-full hover:from-purple-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Reply":f?"Start Thread":"Post"})]})]})]})]})})},LC=()=>{const{posts:e,characters:t,selectedCharacter:r,addPost:n,likePost:s,repostPost:i}=ht(),{user:o}=De(),[a,l]=N.useState(!1),u=(f,p)=>{o&&(n({content:f,characterId:p==null?void 0:p.id,character:p,userId:o.id,user:o,isThread:!1,visibility:"public",tags:f.match(/#\w+/g)||[]}),l(!1))},d=f=>{s(f)},h=f=>{i(f)};return c.jsxs(c.Fragment,{children:[c.jsx(RC,{posts:e,onLike:d,onRepost:h,onCreatePost:()=>l(!0)}),a&&c.jsx(OC,{characters:t,selectedCharacter:r,onCreatePost:u,onClose:()=>l(!1)})]})},la=({currentImage:e,onImageChange:t,type:r,className:n=""})=>{const{user:s}=De(),i=N.useRef(null),[o,a]=N.useState(!1),[l,u]=N.useState(!1),d=async y=>{if(!(!s||!y)){if(!y.type.startsWith("image/")){alert("Please select an image file");return}if(y.size>5*1024*1024){alert("File size must be less than 5MB");return}a(!0);try{const b=r==="avatar"?"avatars":"headers",v=`${s.id}/${r}_${Date.now()}.${y.name.split(".").pop()}`,m=await uC(y,b,v);m?t(m):alert("Failed to upload image")}catch(b){console.error("Upload error:",b),alert("Failed to upload image")}finally{a(!1)}}},h=()=>{var y;(y=i.current)==null||y.click()},f=y=>{y.preventDefault(),u(!1);const b=Array.from(y.dataTransfer.files);b.length>0&&d(b[0])},p=y=>{y.preventDefault(),u(!0)},g=y=>{y.preventDefault(),u(!1)};return c.jsxs("div",{className:`relative group ${n}`,children:[c.jsxs("div",{onClick:h,onDrop:f,onDragOver:p,onDragLeave:g,className:`relative cursor-pointer transition-all duration-200 ${l?"scale-105 opacity-80":""} ${r==="avatar"?"w-32 h-32 rounded-full":"w-full h-48 rounded-lg"} overflow-hidden bg-gray-800 border-2 border-dashed border-gray-600 hover:border-purple-500`,children:[e?c.jsx("img",{src:e,alt:r,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Ru,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-gray-400 text-sm",children:r==="avatar"?"Upload Avatar":"Upload Header"})]})}),c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:o?c.jsxs("div",{className:"text-white text-center",children:[c.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full mx-auto mb-2"}),c.jsx("p",{className:"text-sm",children:"Uploading..."})]}):c.jsxs("div",{className:"text-white text-center",children:[c.jsx(FC,{className:"w-6 h-6 mx-auto mb-2"}),c.jsxs("p",{className:"text-sm",children:[e?"Change":"Upload"," ",r]})]})})]}),c.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:y=>{var v;const b=(v=y.target.files)==null?void 0:v[0];b&&d(b)},className:"hidden"}),l&&c.jsx("div",{className:"absolute inset-0 bg-purple-500/20 border-2 border-purple-500 rounded-lg flex items-center justify-center",children:c.jsx("p",{className:"text-purple-300 font-medium",children:"Drop image here"})})]})},IC=({character:e,onClose:t})=>{const{updateCharacter:r}=ht(),[n,s]=N.useState({username:e.username,name:e.name,title:e.title,bio:e.bio,universe:e.universe,verseTag:e.verseTag,traits:e.traits.join(", "),customColor:e.customColor,customFont:e.customFont,avatar:e.avatar,headerImage:e.headerImage}),i=a=>{a.preventDefault();const l={username:n.username,name:n.name,title:n.title,bio:n.bio,universe:n.universe,verseTag:n.verseTag,traits:n.traits.split(",").map(u=>u.trim()).filter(u=>u),customColor:n.customColor,customFont:n.customFont,avatar:n.avatar,headerImage:n.headerImage};r(e.id,l),t()},o=["Inter","Roboto","Open Sans","Lato","Montserrat","Playfair Display","Crimson Text","Merriweather","Courier New","Georgia"];return c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"Edit Character"}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(Gt,{className:"w-6 h-6 text-gray-400"})})]}),c.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Header Image"}),c.jsx(la,{currentImage:n.headerImage,onImageChange:a=>s(l=>({...l,headerImage:a})),type:"header"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Avatar"}),c.jsx(la,{currentImage:n.avatar,onImageChange:a=>s(l=>({...l,avatar:a})),type:"avatar",className:"w-32"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Username *"}),c.jsx("input",{type:"text",value:n.username,onChange:a=>s(l=>({...l,username:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Name *"}),c.jsx("input",{type:"text",value:n.name,onChange:a=>s(l=>({...l,name:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title/Role *"}),c.jsx("input",{type:"text",value:n.title,onChange:a=>s(l=>({...l,title:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Universe *"}),c.jsx("input",{type:"text",value:n.universe,onChange:a=>s(l=>({...l,universe:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Verse Tag *"}),c.jsx("input",{type:"text",value:n.verseTag,onChange:a=>s(l=>({...l,verseTag:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Color"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"color",value:n.customColor,onChange:a=>s(l=>({...l,customColor:a.target.value})),className:"w-12 h-12 rounded-lg border border-gray-600 bg-gray-800"}),c.jsx("div",{className:"flex-1",children:c.jsx("input",{type:"text",value:n.customColor,onChange:a=>s(l=>({...l,customColor:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio *"}),c.jsx("textarea",{value:n.bio,onChange:a=>s(l=>({...l,bio:a.target.value})),rows:4,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Traits (comma-separated)"}),c.jsx("input",{type:"text",value:n.traits,onChange:a=>s(l=>({...l,traits:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Font"}),c.jsx("select",{value:n.customFont,onChange:a=>s(l=>({...l,customFont:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",children:o.map(a=>c.jsx("option",{value:a,style:{fontFamily:a},children:a},a))})]}),c.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[c.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Save Changes"})]})]})]})})},sd=({character:e,onClose:t})=>{const{user:r}=De(),{posts:n,followCharacter:s,unfollowCharacter:i,likePost:o,repostPost:a,getCharacterFollowers:l,getCharacterFollowing:u}=ht(),[d,h]=N.useState("posts"),[f,p]=N.useState([]),[g,y]=N.useState([]),b=e.userId===(r==null?void 0:r.id),v=e.followers.includes((r==null?void 0:r.id)||""),m=n.filter(_=>_.characterId===e.id);N.useEffect(()=>{d==="followers"?x():d==="following"&&w()},[d,e.id]);const x=async()=>{const _=await l(e.id);p(_)},w=async()=>{const _=await u(e.id);y(_)},C=()=>{v?i(e.id):s(e.id)},k=_=>{o(_)},j=_=>{a(_)};return c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"Character Profile"}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(Gt,{className:"w-6 h-6 text-gray-400"})})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"h-48 relative",style:{backgroundColor:`${e.customColor}30`},children:c.jsx("img",{src:e.headerImage,alt:"Character header",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"relative px-6 pb-6",children:[c.jsxs("div",{className:"flex items-end justify-between -mt-16 mb-4",children:[c.jsx("img",{src:e.avatar,alt:e.name,className:"w-32 h-32 rounded-full object-cover ring-4 ring-gray-900 bg-gray-900 relative z-10"}),!b&&c.jsx("button",{onClick:C,className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors ${v?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:v?c.jsxs(c.Fragment,{children:[c.jsx(ji,{className:"w-4 h-4"}),c.jsx("span",{children:"Unfollow"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Er,{className:"w-4 h-4"}),c.jsx("span",{children:"Follow"})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:e.name}),c.jsx("p",{className:"text-purple-300 text-lg",children:e.title}),c.jsxs("p",{className:"text-gray-400",children:["@",e.username]})]}),c.jsx("p",{className:"text-gray-300",children:e.bio}),c.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(uv,{className:"w-4 h-4"}),c.jsx("span",{children:e.universe})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Ha,{className:"w-4 h-4"}),c.jsxs("span",{children:["Created ",e.createdAt.toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.customColor}}),c.jsxs("span",{children:["#",e.verseTag]})]})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.traits.map(_=>c.jsx("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-300 text-xs rounded-full",children:_},_))}),c.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[c.jsxs("button",{onClick:()=>h("following"),className:"hover:text-white transition-colors",children:[c.jsx("span",{className:"font-bold text-white",children:e.following.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Following"})]}),c.jsxs("button",{onClick:()=>h("followers"),className:"hover:text-white transition-colors",children:[c.jsx("span",{className:"font-bold text-white",children:e.followers.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Followers"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-white",children:m.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Posts"})]})]})]})]})]}),c.jsx("div",{className:"border-b border-gray-700/50 bg-black/20 sticky top-16 z-10",children:c.jsx("div",{className:"flex",children:[{key:"posts",label:"Posts",count:m.length},{key:"followers",label:"Followers",count:e.followers.length},{key:"following",label:"Following",count:e.following.length}].map(_=>c.jsxs("button",{onClick:()=>h(_.key),className:`flex-1 px-4 py-4 text-center transition-colors relative ${d===_.key?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,children:[c.jsx("span",{className:"font-medium",children:_.label}),_.count>0&&c.jsx("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-1 rounded-full",children:_.count})]},_.key))})}),c.jsxs("div",{className:"p-6",children:[d==="posts"&&c.jsx("div",{className:"space-y-4",children:m.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"No posts yet"})}):m.map(_=>c.jsx(Mi,{post:_,onLike:()=>k(_.id),onRepost:()=>j(_.id)},_.id))}),d==="followers"&&c.jsx("div",{className:"space-y-4",children:f.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"No followers yet"})}):f.map(_=>c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-medium",children:_.displayName}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#",_.writersTag]})]})]},_.id))}),d==="following"&&c.jsx("div",{className:"space-y-4",children:g.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"Not following anyone yet"})}):g.map(_=>c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsx("img",{src:_.avatar,alt:"displayName"in _?_.displayName:_.name,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-medium",children:"displayName"in _?_.displayName:_.name}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#","writersTag"in _?_.writersTag:_.verseTag]})]})]},_.id))})]})]})})},ei=({character:e,onEdit:t,onDelete:r,showActions:n=!0,showFollowButton:s=!1})=>{const{user:i}=De(),{deleteCharacter:o,followCharacter:a,unfollowCharacter:l}=ht(),[u,d]=N.useState(!1),[h,f]=N.useState(!1),p=e.userId===(i==null?void 0:i.id),g=e.followers.includes((i==null?void 0:i.id)||""),y=()=>{t?t():d(!0)},b=()=>{window.confirm("Are you sure you want to delete this character?")&&(r?r():o(e.id))},v=()=>{g?l(e.id):a(e.id)},m=()=>{f(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"rounded-2xl border border-gray-700/50 overflow-hidden hover:bg-gray-700/30 transition-colors cursor-pointer relative",style:{backgroundColor:`${e.customColor}50`},onClick:m,children:[c.jsxs("div",{className:"relative h-32",children:[c.jsx("img",{src:e.headerImage,alt:`${e.name} header`,className:"w-full h-full object-cover"}),n&&p&&c.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[c.jsx("button",{onClick:x=>{x.stopPropagation(),y()},className:"p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:c.jsx(nd,{className:"w-4 h-4 text-white"})}),c.jsx("button",{onClick:x=>{x.stopPropagation(),b()},className:"p-2 bg-black/50 hover:bg-red-600/70 rounded-full transition-colors",children:c.jsx(qa,{className:"w-4 h-4 text-white"})})]})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-4 -mt-16 mb-4 relative z-10",children:[c.jsx("img",{src:e.avatar,alt:e.name,className:"w-16 h-16 rounded-full object-cover ring-4 ring-gray-800 bg-gray-800"}),c.jsx("div",{className:"flex items-center space-x-2 mt-8",children:c.jsxs("span",{className:"text-purple-300 text-sm",children:["#",e.verseTag]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:e.name}),c.jsx("p",{className:"text-purple-300",children:e.title}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",e.username]})]}),c.jsx("p",{className:"text-gray-300 text-sm line-clamp-3",children:e.bio}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.traits.slice(0,3).map(x=>c.jsx("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-300 text-xs rounded-full",children:x},x)),e.traits.length>3&&c.jsxs("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-400 text-xs rounded-full",children:["+",e.traits.length-3," more"]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-700/50",children:[c.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[c.jsxs("span",{children:[e.followers.length," followers"]}),c.jsxs("span",{children:[e.following.length," following"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[s&&!p&&c.jsx("button",{onClick:x=>{x.stopPropagation(),v()},className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${g?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:g?c.jsxs(c.Fragment,{children:[c.jsx(ji,{className:"w-3 h-3"}),c.jsx("span",{children:"Unfollow"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Er,{className:"w-3 h-3"}),c.jsx("span",{children:"Follow"})]})}),c.jsxs("button",{onClick:x=>{x.stopPropagation(),m()},className:"flex items-center space-x-1 px-3 py-1 bg-gray-700 text-white rounded-full text-sm hover:bg-gray-600 transition-colors",children:[c.jsx(td,{className:"w-3 h-3"}),c.jsx("span",{children:"View"})]})]})]})]})]})]}),u&&c.jsx(IC,{character:e,onClose:()=>d(!1)}),h&&c.jsx(sd,{character:e,onClose:()=>f(!1)})]})},mv=({user:e,onClose:t})=>{const{user:r}=De(),{posts:n,followUser:s,unfollowUser:i,likePost:o,repostPost:a,getUserFollowers:l,getUserFollowing:u}=ht(),[d,h]=N.useState("posts"),[f,p]=N.useState([]),[g,y]=N.useState([]),b=e.id===(r==null?void 0:r.id),v=(r==null?void 0:r.following.includes(e.id))||!1,m=n.filter(_=>_.userId===e.id);N.useEffect(()=>{d==="followers"?x():d==="following"&&w()},[d,e.id]);const x=async()=>{const _=await l(e.id);p(_)},w=async()=>{const _=await u(e.id);y(_)},C=()=>{s(e.id)},k=_=>{o(_)},j=_=>{a(_)};return c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"Profile"}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(Gt,{className:"w-6 h-6 text-gray-400"})})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"h-48 relative bg-gradient-to-r from-purple-600 via-pink-600 to-purple-800",children:c.jsx("img",{src:e.headerImage,alt:"Profile header",className:"w-full h-full object-cover",style:{width:"1500px",height:"500px",objectFit:"cover"}})}),c.jsxs("div",{className:"relative px-6 pb-6",children:[c.jsxs("div",{className:"flex items-end justify-between -mt-16 mb-4",children:[c.jsx("img",{src:e.avatar,alt:e.displayName,className:"w-32 h-32 rounded-full object-cover ring-4 ring-gray-900 bg-gray-900 relative z-10",style:{width:"350px",height:"350px",objectFit:"cover"}}),!b&&c.jsx("button",{onClick:C,className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors ${v?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:v?c.jsxs(c.Fragment,{children:[c.jsx(ji,{className:"w-4 h-4"}),c.jsx("span",{children:"Unfollow"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Er,{className:"w-4 h-4"}),c.jsx("span",{children:"Follow"})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:e.displayName}),c.jsxs("p",{className:"text-gray-400",children:["@",e.username]})]}),c.jsx("p",{className:"text-gray-300",children:e.bio}),c.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Ha,{className:"w-4 h-4"}),c.jsxs("span",{children:["Joined ",e.createdAt.toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsxs("span",{children:["#",e.writersTag]})]})]}),c.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[c.jsxs("button",{onClick:()=>h("following"),className:"hover:text-white transition-colors",children:[c.jsx("span",{className:"font-bold text-white",children:e.following.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Following"})]}),c.jsxs("button",{onClick:()=>h("followers"),className:"hover:text-white transition-colors",children:[c.jsx("span",{className:"font-bold text-white",children:e.followers.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Followers"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-white",children:m.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Posts"})]})]})]})]})]}),c.jsx("div",{className:"border-b border-gray-700/50 bg-black/20 sticky top-16 z-10",children:c.jsx("div",{className:"flex",children:[{key:"posts",label:"Posts",count:m.length},{key:"followers",label:"Followers",count:e.followers.length},{key:"following",label:"Following",count:e.following.length}].map(_=>c.jsxs("button",{onClick:()=>h(_.key),className:`flex-1 px-4 py-4 text-center transition-colors relative ${d===_.key?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,children:[c.jsx("span",{className:"font-medium",children:_.label}),_.count>0&&c.jsx("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-1 rounded-full",children:_.count})]},_.key))})}),c.jsxs("div",{className:"p-6",children:[d==="posts"&&c.jsx("div",{className:"space-y-4",children:m.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"No posts yet"})}):m.map(_=>c.jsx(Mi,{post:_,onLike:()=>k(_.id),onRepost:()=>j(_.id)},_.id))}),d==="followers"&&c.jsx("div",{className:"space-y-4",children:f.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"No followers yet"})}):f.map(_=>c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-medium",children:_.displayName}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#",_.writersTag]})]})]},_.id))}),d==="following"&&c.jsx("div",{className:"space-y-4",children:g.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"Not following anyone yet"})}):g.map(_=>c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-medium",children:_.displayName}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#",_.writersTag]})]})]},_.id))})]})]})})},MC=()=>{const{user:e}=De(),{posts:t,characters:r,allUsers:n,searchContent:s,getRecommendations:i,likePost:o,repostPost:a,followUser:l,unfollowUser:u}=ht(),[d,h]=N.useState(""),[f,p]=N.useState("trending"),[g,y]=N.useState({posts:[],characters:[],users:[]}),[b,v]=N.useState({writers:[],characters:[]}),[m,x]=N.useState(null),[w,C]=N.useState(null);N.useEffect(()=>{const E=i();v(E)},[i]),N.useEffect(()=>{if(d.trim()){const E=s(d);y(E),p("search")}},[d,s]);const k=t.flatMap(E=>E.tags).reduce((E,q)=>(E[q]=(E[q]||0)+1,E),{}),j=Object.entries(k).sort(([,E],[,q])=>q-E).slice(0,10),_=r.map(E=>E.verseTag).filter((E,q,M)=>M.indexOf(E)===q).slice(0,8),F=n.filter(E=>E.id!==(e==null?void 0:e.id)).slice(0,10),S=E=>{o(E)},D=E=>{a(E)},R=E=>{l(E)},O=E=>(e==null?void 0:e.following.includes(E))||!1,z=E=>{x(E)},I=E=>{C(E)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[c.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Explore"}),c.jsxs("div",{className:"relative mb-4",children:[c.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),placeholder:"Search posts, characters, tags, or writers...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-10 pr-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),c.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:[{key:"trending",label:"Trending",icon:Kf},{key:"tags",label:"Tags",icon:mc},{key:"characters",label:"Characters",icon:cn},{key:"writers",label:"Writers",icon:Er},...d?[{key:"search",label:"Search Results",icon:os}]:[]].map(E=>c.jsxs("button",{onClick:()=>p(E.key),className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors whitespace-nowrap ${f===E.key?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[c.jsx(E.icon,{className:"w-4 h-4"}),c.jsx("span",{children:E.label})]},E.key))})]}),c.jsxs("div",{className:"p-6",children:[f==="trending"&&c.jsxs("div",{className:"space-y-6",children:[b.characters.length>0&&c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[c.jsx(BC,{className:"w-5 h-5 text-purple-400"}),c.jsx("span",{children:"Recommended for You"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.characters.slice(0,4).map(E=>c.jsx("div",{onClick:()=>I(E),children:c.jsx(ei,{character:E,showActions:!1,showFollowButton:!0})},E.id))})]}),c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[c.jsx(Kf,{className:"w-5 h-5 text-purple-400"}),c.jsx("span",{children:"Trending Now"})]}),c.jsx("div",{className:"space-y-3",children:j.length>0?j.map(([E,q])=>c.jsx("div",{className:"flex items-center justify-between p-3 hover:bg-gray-700/30 rounded-lg cursor-pointer transition-colors",children:c.jsxs("div",{children:[c.jsxs("p",{className:"text-purple-400 font-medium",children:["#",E]}),c.jsxs("p",{className:"text-gray-500 text-sm",children:[q," posts"]})]})},E)):c.jsx("p",{className:"text-gray-400 text-center py-4",children:"No trending tags yet"})})]}),c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Popular Verses"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:_.map(E=>c.jsxs("div",{className:"bg-purple-900/30 rounded-lg p-3 hover:bg-purple-900/50 cursor-pointer transition-colors",children:[c.jsxs("p",{className:"text-purple-300 font-medium",children:["#",E]}),c.jsxs("p",{className:"text-gray-400 text-sm",children:[r.filter(q=>q.verseTag===E).length," characters"]})]},E))})]})]}),f==="tags"&&c.jsx("div",{className:"space-y-4",children:j.length>0?j.map(([E,q])=>c.jsx("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50 hover:bg-gray-700/30 cursor-pointer transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"text-purple-400 font-bold text-lg",children:["#",E]}),c.jsxs("p",{className:"text-gray-400",children:[q," posts"]})]}),c.jsx(mc,{className:"w-6 h-6 text-purple-400"})]})},E)):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(mc,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"No tags found"})]})}),f==="characters"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.length>0?r.map(E=>c.jsx("div",{onClick:()=>I(E),children:c.jsx(ei,{character:E,showActions:!1,showFollowButton:E.userId!==(e==null?void 0:e.id)})},E.id)):c.jsxs("div",{className:"col-span-full text-center py-12",children:[c.jsx(cn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"No characters found"})]})}),f==="writers"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:F.length>0?F.map(E=>c.jsxs("div",{onClick:()=>z(E),className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50 hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx("img",{src:E.avatar,alt:E.displayName,className:"w-16 h-16 rounded-full object-cover ring-2 ring-purple-500/30"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:E.displayName}),c.jsxs("p",{className:"text-gray-400",children:["@",E.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#",E.writersTag]})]}),c.jsx("button",{onClick:q=>{q.stopPropagation(),R(E.id)},className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${O(E.id)?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:O(E.id)?c.jsxs(c.Fragment,{children:[c.jsx(ji,{className:"w-3 h-3"}),c.jsx("span",{children:"Unfollow"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Er,{className:"w-3 h-3"}),c.jsx("span",{children:"Follow"})]})})]}),c.jsx("p",{className:"text-gray-300 text-sm",children:E.bio})]},E.id)):c.jsxs("div",{className:"col-span-full text-center py-12",children:[c.jsx(Er,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"No writers found"})]})}),f==="search"&&d&&c.jsxs("div",{className:"space-y-6",children:[g.posts.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Posts"}),c.jsx("div",{className:"space-y-4",children:g.posts.map(E=>c.jsx(Mi,{post:E,onLike:()=>S(E.id),onRepost:()=>D(E.id)},E.id))})]}),g.characters.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Characters"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.characters.map(E=>c.jsx("div",{onClick:()=>I(E),children:c.jsx(ei,{character:E,showActions:!1,showFollowButton:E.userId!==(e==null?void 0:e.id)})},E.id))})]}),g.users.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Writers"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.users.map(E=>c.jsxs("div",{onClick:()=>z(E),className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50 hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx("img",{src:E.avatar,alt:E.displayName,className:"w-16 h-16 rounded-full object-cover ring-2 ring-purple-500/30"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:E.displayName}),c.jsxs("p",{className:"text-gray-400",children:["@",E.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#",E.writersTag]})]}),c.jsx("button",{onClick:q=>{q.stopPropagation(),R(E.id)},className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${O(E.id)?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:O(E.id)?c.jsxs(c.Fragment,{children:[c.jsx(ji,{className:"w-3 h-3"}),c.jsx("span",{children:"Unfollow"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Er,{className:"w-3 h-3"}),c.jsx("span",{children:"Follow"})]})})]}),c.jsx("p",{className:"text-gray-300 text-sm",children:E.bio})]},E.id))})]}),g.posts.length===0&&g.characters.length===0&&g.users.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(os,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No results found"}),c.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms"})]})]})]})]}),m&&c.jsx(mv,{user:m,onClose:()=>x(null)}),w&&c.jsx(sd,{character:w,onClose:()=>C(null)})]})},UC="Left",$C="Right",VC="Up",zC="Down",Gn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Lu={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Qf="mousemove",Xf="mouseup",HC="touchend",WC="touchmove",qC="touchstart";function KC(e,t,r,n){return e>t?r>0?$C:UC:n>0?zC:VC}function Yf(e,t){if(t===0)return e;const r=Math.PI/180*t,n=e[0]*Math.cos(r)+e[1]*Math.sin(r),s=e[1]*Math.cos(r)-e[0]*Math.sin(r);return[n,s]}function GC(e,t){const r=d=>{const h="touches"in d;h&&d.touches.length>1||e((f,p)=>{p.trackMouse&&!h&&(document.addEventListener(Qf,n),document.addEventListener(Xf,o));const{clientX:g,clientY:y}=h?d.touches[0]:d,b=Yf([g,y],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},f),Lu),{initial:b.slice(),xy:b,start:d.timeStamp||0})})},n=d=>{e((h,f)=>{const p="touches"in d;if(p&&d.touches.length>1)return h;if(d.timeStamp-h.start>f.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:g,clientY:y}=p?d.touches[0]:d,[b,v]=Yf([g,y],f.rotationAngle),m=b-h.xy[0],x=v-h.xy[1],w=Math.abs(m),C=Math.abs(x),k=(d.timeStamp||0)-h.start,j=Math.sqrt(w*w+C*C)/(k||1),_=[m/(k||1),x/(k||1)],F=KC(w,C,m,x),S=typeof f.delta=="number"?f.delta:f.delta[F.toLowerCase()]||Gn.delta;if(w<S&&C<S&&!h.swiping)return h;const D={absX:w,absY:C,deltaX:m,deltaY:x,dir:F,event:d,first:h.first,initial:h.initial,velocity:j,vxvy:_};D.first&&f.onSwipeStart&&f.onSwipeStart(D),f.onSwiping&&f.onSwiping(D);let R=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${F}`])&&(R=!0),R&&f.preventScrollOnSwipe&&f.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:D,swiping:!0})})},s=d=>{e((h,f)=>{let p;if(h.swiping&&h.eventData){if(d.timeStamp-h.start<f.swipeDuration){p=Object.assign(Object.assign({},h.eventData),{event:d}),f.onSwiped&&f.onSwiped(p);const g=f[`onSwiped${p.dir}`];g&&g(p)}}else f.onTap&&f.onTap({event:d});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},h),Lu),{eventData:p})})},i=()=>{document.removeEventListener(Qf,n),document.removeEventListener(Xf,o)},o=d=>{i(),s(d)},a=(d,h)=>{let f=()=>{};if(d&&d.addEventListener){const p=Object.assign(Object.assign({},Gn.touchEventOptions),h.touchEventOptions),g=[[qC,r,p],[WC,n,Object.assign(Object.assign({},p),h.preventScrollOnSwipe?{passive:!1}:{})],[HC,s,p]];g.forEach(([y,b,v])=>d.addEventListener(y,b,v)),f=()=>g.forEach(([y,b])=>d.removeEventListener(y,b))}return f},u={ref:d=>{d!==null&&e((h,f)=>{if(h.el===d)return h;const p={};return h.el&&h.el!==d&&h.cleanUpTouch&&(h.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&d&&(p.cleanUpTouch=a(d,f)),Object.assign(Object.assign(Object.assign({},h),{el:d}),p)})}};return t.trackMouse&&(u.onMouseDown=r),[u,a]}function QC(e,t,r,n){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==r.preventScrollOnSwipe||t.touchEventOptions.passive!==r.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})}function XC(e){const{trackMouse:t}=e,r=N.useRef(Object.assign({},Lu)),n=N.useRef(Object.assign({},Gn)),s=N.useRef(Object.assign({},n.current));s.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},Gn),e);let i;for(i in Gn)n.current[i]===void 0&&(n.current[i]=Gn[i]);const[o,a]=N.useMemo(()=>GC(l=>r.current=l(r.current,n.current),{trackMouse:t}),[t]);return r.current=QC(r.current,n.current,s.current,a),o}const gv=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ka=N.createContext({}),Ga=N.createContext(null),Qa=typeof document<"u",id=Qa?N.useLayoutEffect:N.useEffect,vv=N.createContext({strict:!1}),od=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),YC="framerAppearId",yv="data-"+od(YC);function JC(e,t,r,n){const{visualElement:s}=N.useContext(Ka),i=N.useContext(vv),o=N.useContext(Ga),a=N.useContext(gv).reducedMotion,l=N.useRef();n=n||i.renderer,!l.current&&n&&(l.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;N.useInsertionEffect(()=>{u&&u.update(r,o)});const d=N.useRef(!!(r[yv]&&!window.HandoffComplete));return id(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),N.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Qn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZC(e,t,r){return N.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Qn(r)&&(r.current=n))},[t])}function Ei(e){return typeof e=="string"||Array.isArray(e)}function Xa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ad=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ld=["initial",...ad];function Ya(e){return Xa(e.animate)||ld.some(t=>Ei(e[t]))}function wv(e){return!!(Ya(e)||e.variants)}function ek(e,t){if(Ya(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ei(r)?r:void 0,animate:Ei(n)?n:void 0}}return e.inherit!==!1?t:{}}function tk(e){const{initial:t,animate:r}=ek(e,N.useContext(Ka));return N.useMemo(()=>({initial:t,animate:r}),[Jf(t),Jf(r)])}function Jf(e){return Array.isArray(e)?e.join(" "):e}const Zf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Si={};for(const e in Zf)Si[e]={isEnabled:t=>Zf[e].some(r=>!!t[r])};function rk(e){for(const t in e)Si[t]={...Si[t],...e[t]}}const cd=N.createContext({}),bv=N.createContext({}),nk=Symbol.for("motionComponentSymbol");function sk({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&rk(e);function i(a,l){let u;const d={...N.useContext(gv),...a,layoutId:ik(a)},{isStatic:h}=d,f=tk(a),p=n(a,h);if(!h&&Qa){f.visualElement=JC(s,p,d,t);const g=N.useContext(bv),y=N.useContext(vv).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,y,e,g))}return N.createElement(Ka.Provider,{value:f},u&&f.visualElement?N.createElement(u,{visualElement:f.visualElement,...d}):null,r(s,a,ZC(p,f.visualElement,l),p,h,f.visualElement))}const o=N.forwardRef(i);return o[nk]=s,o}function ik({layoutId:e}){const t=N.useContext(cd).id;return t&&e!==void 0?t+"-"+e:e}function ok(e){function t(n,s={}){return sk(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const ak=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ud(e){return typeof e!="string"||e.includes("-")?!1:!!(ak.indexOf(e)>-1||/[A-Z]/.test(e))}const ca={};function lk(e){Object.assign(ca,e)}const Ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],En=new Set(Ui);function _v(e,{layout:t,layoutId:r}){return En.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ca[e]||e==="opacity")}const dt=e=>!!(e&&e.getVelocity),ck={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uk=Ui.length;function dk(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<uk;o++){const a=Ui[o];if(e[a]!==void 0){const l=ck[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const Cv=e=>t=>typeof t=="string"&&t.startsWith(e),kv=Cv("--"),Iu=Cv("var(--"),hk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fk=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ir=(e,t,r)=>Math.min(Math.max(r,e),t),Sn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ti={...Sn,transform:e=>Ir(0,1,e)},xo={...Sn,default:1},ri=e=>Math.round(e*1e5)/1e5,Ja=/(-)?([\d]*\.?[\d])+/g,jv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $i(e){return typeof e=="string"}const Vi=e=>({test:t=>$i(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xr=Vi("deg"),Kt=Vi("%"),ee=Vi("px"),xk=Vi("vh"),mk=Vi("vw"),ep={...Kt,parse:e=>Kt.parse(e)/100,transform:e=>Kt.transform(e*100)},tp={...Sn,transform:Math.round},Ev={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,size:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:xo,scaleX:xo,scaleY:xo,scaleZ:xo,skew:xr,skewX:xr,skewY:xr,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:ti,originX:ep,originY:ep,originZ:ee,zIndex:tp,fillOpacity:ti,strokeOpacity:ti,numOctaves:tp};function dd(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(kv(h)){i[h]=f;continue}const p=Ev[h],g=fk(f,p);if(En.has(h)){if(l=!0,o[h]=g,!d)continue;f!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):s[h]=g}if(t.transform||(l||n?s.transform=dk(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;s.transformOrigin=`${h} ${f} ${p}`}}const hd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sv(e,t,r){for(const n in t)!dt(t[n])&&!_v(n,r)&&(e[n]=t[n])}function gk({transformTemplate:e},t,r){return N.useMemo(()=>{const n=hd();return dd(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function vk(e,t,r){const n=e.style||{},s={};return Sv(s,n,e),Object.assign(s,gk(e,t,r)),e.transformValues?e.transformValues(s):s}function yk(e,t,r){const n={},s=vk(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const wk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ua(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wk.has(e)}let Nv=e=>!ua(e);function bk(e){e&&(Nv=t=>t.startsWith("on")?!ua(t):e(t))}try{bk(require("@emotion/is-prop-valid").default)}catch{}function _k(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Nv(s)||r===!0&&ua(s)||!t&&!ua(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function rp(e,t,r){return typeof e=="string"?e:ee.transform(t+r*e)}function Ck(e,t,r){const n=rp(t,e.x,e.width),s=rp(r,e.y,e.height);return`${n} ${s}`}const kk={offset:"stroke-dashoffset",array:"stroke-dasharray"},jk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ek(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?kk:jk;e[i.offset]=ee.transform(-n);const o=ee.transform(t),a=ee.transform(r);e[i.array]=`${o} ${a}`}function fd(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(dd(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:y}=e;p.transform&&(y&&(g.transform=p.transform),delete p.transform),y&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=Ck(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&Ek(p,o,a,l,!1)}const Av=()=>({...hd(),attrs:{}}),pd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Sk(e,t,r,n){const s=N.useMemo(()=>{const i=Av();return fd(i,t,{enableHardwareAcceleration:!1},pd(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Sv(i,e.style,e),s.style={...i,...s.style}}return s}function Nk(e=!1){return(r,n,s,{latestValues:i},o)=>{const l=(ud(r)?Sk:yk)(n,i,o,r),d={..._k(n,typeof r=="string",e),...l,ref:s},{children:h}=n,f=N.useMemo(()=>dt(h)?h.get():h,[h]);return N.createElement(r,{...d,children:f})}}function Dv(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const Pv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bv(e,t,r,n){Dv(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Pv.has(s)?s:od(s),t.attrs[s])}function xd(e,t){const{style:r}=e,n={};for(const s in r)(dt(r[s])||t.style&&dt(t.style[s])||_v(s,e))&&(n[s]=r[s]);return n}function Fv(e,t){const r=xd(e,t);for(const n in e)if(dt(e[n])||dt(t[n])){const s=Ui.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function md(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function Tv(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const da=e=>Array.isArray(e),Ak=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Dk=e=>da(e)?e[e.length-1]||0:e;function Po(e){const t=dt(e)?e.get():e;return Ak(t)?t.toValue():t}function Pk({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:Bk(n,s,i,e),renderState:t()};return r&&(o.mount=a=>r(n,a,o)),o}const Rv=e=>(t,r)=>{const n=N.useContext(Ka),s=N.useContext(Ga),i=()=>Pk(e,t,n,s);return r?i():Tv(i)};function Bk(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=Po(i[f]);let{initial:o,animate:a}=e;const l=Ya(e),u=wv(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Xa(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const g=md(e,p);if(!g)return;const{transitionEnd:y,transition:b,...v}=g;for(const m in v){let x=v[m];if(Array.isArray(x)){const w=d?x.length-1:0;x=x[w]}x!==null&&(s[m]=x)}for(const m in y)s[m]=y[m]}),s}const ke=e=>e;class np{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Fk(e){let t=new np,r=new np,n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&s,f=h?t:r;return u&&o.add(l),f.add(l)&&h&&s&&(n=t.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(l),o.has(d)&&(a.schedule(d),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const mo=["prepare","read","update","preRender","render","postRender"],Tk=40;function Rk(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=mo.reduce((h,f)=>(h[f]=Fk(()=>r=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,Tk),1),s.timestamp=h,s.isProcessing=!0,mo.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(a))},l=()=>{r=!0,n=!0,s.isProcessing||e(a)};return{schedule:mo.reduce((h,f)=>{const p=i[f];return h[f]=(g,y=!1,b=!1)=>(r||l(),p.schedule(g,y,b)),h},{}),cancel:h=>mo.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:pe,cancel:ur,state:qe,steps:gc}=Rk(typeof requestAnimationFrame<"u"?requestAnimationFrame:ke,!0),Ok={useVisualState:Rv({scrapeMotionValuesFromProps:Fv,createRenderState:Av,onMount:(e,t,{renderState:r,latestValues:n})=>{pe.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),pe.render(()=>{fd(r,n,{enableHardwareAcceleration:!1},pd(t.tagName),e.transformTemplate),Bv(t,r)})}})},Lk={useVisualState:Rv({scrapeMotionValuesFromProps:xd,createRenderState:hd})};function Ik(e,{forwardMotionProps:t=!1},r,n){return{...ud(e)?Ok:Lk,preloadedFeatures:r,useRender:Nk(t),createVisualElement:n,Component:e}}function rr(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Ov=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Za(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Mk=e=>t=>Ov(t)&&e(t,Za(t));function sr(e,t,r,n){return rr(e,t,Mk(r),n)}const Uk=(e,t)=>r=>t(e(r)),Rr=(...e)=>e.reduce(Uk);function Lv(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const sp=Lv("dragHorizontal"),ip=Lv("dragVertical");function Iv(e){let t=!1;if(e==="y")t=ip();else if(e==="x")t=sp();else{const r=sp(),n=ip();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Mv(){const e=Iv(!0);return e?(e(),!1):!0}class Wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function op(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Mv())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[n]&&pe.update(()=>a[n](i,o))};return sr(e.current,r,s,{passive:!e.getProps()[n]})}class $k extends Wr{mount(){this.unmount=Rr(op(this.node,!0),op(this.node,!1))}unmount(){}}class Vk extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rr(rr(this.node.current,"focus",()=>this.onFocus()),rr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Uv=(e,t)=>t?e===t?!0:Uv(e,t.parentElement):!1;function vc(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Za(r))}class zk extends Wr{constructor(){super(...arguments),this.removeStartListeners=ke,this.removeEndListeners=ke,this.removeAccessibleListeners=ke,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=sr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();pe.update(()=>{!h&&!Uv(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=sr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Rr(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||vc("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&pe.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=rr(this.node.current,"keyup",o),vc("down",(a,l)=>{this.startPress(a,l)})},r=rr(this.node.current,"keydown",t),n=()=>{this.isPressing&&vc("cancel",(i,o)=>this.cancelPress(i,o))},s=rr(this.node.current,"blur",n);this.removeAccessibleListeners=Rr(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&pe.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Mv()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&pe.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=sr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=rr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Mu=new WeakMap,yc=new WeakMap,Hk=e=>{const t=Mu.get(e.target);t&&t(e)},Wk=e=>{e.forEach(Hk)};function qk({root:e,...t}){const r=e||document;yc.has(r)||yc.set(r,{});const n=yc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Wk,{root:e,...t})),n[s]}function Kk(e,t,r){const n=qk(t);return Mu.set(e,r),n.observe(e),()=>{Mu.delete(e),n.unobserve(e)}}const Gk={some:0,all:1};class Qk extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Gk[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return Kk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Xk(t,r))&&this.startObserver()}unmount(){}}function Xk({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Yk={inView:{Feature:Qk},tap:{Feature:zk},focus:{Feature:Vk},hover:{Feature:$k}};function $v(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Jk(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function Zk(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function el(e,t,r){const n=e.getProps();return md(n,t,r!==void 0?r:n.custom,Jk(e),Zk(e))}let ha=ke;const pn=e=>e*1e3,ir=e=>e/1e3,e8={current:!1},Vv=e=>Array.isArray(e)&&typeof e[0]=="number";function zv(e){return!!(!e||typeof e=="string"&&Hv[e]||Vv(e)||Array.isArray(e)&&e.every(zv))}const $s=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Hv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$s([0,.65,.55,1]),circOut:$s([.55,0,1,.45]),backIn:$s([.31,.01,.66,-.59]),backOut:$s([.33,1.53,.69,.99])};function Wv(e){if(e)return Vv(e)?$s(e):Array.isArray(e)?e.map(Wv):Hv[e]}function t8(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:r};l&&(u.offset=l);const d=Wv(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function r8(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const qv=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,n8=1e-7,s8=12;function i8(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=qv(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>n8&&++a<s8);return o}function zi(e,t,r,n){if(e===t&&r===n)return ke;const s=i=>i8(i,0,1,e,r);return i=>i===0||i===1?i:qv(s(i),t,n)}const o8=zi(.42,0,1,1),a8=zi(0,0,.58,1),Kv=zi(.42,0,.58,1),l8=e=>Array.isArray(e)&&typeof e[0]!="number",Gv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qv=e=>t=>1-e(1-t),gd=e=>1-Math.sin(Math.acos(e)),Xv=Qv(gd),c8=Gv(gd),Yv=zi(.33,1.53,.69,.99),vd=Qv(Yv),u8=Gv(vd),d8=e=>(e*=2)<1?.5*vd(e):.5*(2-Math.pow(2,-10*(e-1))),ap={linear:ke,easeIn:o8,easeInOut:Kv,easeOut:a8,circIn:gd,circInOut:c8,circOut:Xv,backIn:vd,backInOut:u8,backOut:Yv,anticipate:d8},lp=e=>{if(Array.isArray(e)){ha(e.length===4);const[t,r,n,s]=e;return zi(t,r,n,s)}else if(typeof e=="string")return ha(ap[e]!==void 0),ap[e];return e},yd=(e,t)=>r=>!!($i(r)&&pk.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Jv=(e,t,r)=>n=>{if(!$i(n))return n;const[s,i,o,a]=n.match(Ja);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},h8=e=>Ir(0,255,e),wc={...Sn,transform:e=>Math.round(h8(e))},un={test:yd("rgb","red"),parse:Jv("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+wc.transform(e)+", "+wc.transform(t)+", "+wc.transform(r)+", "+ri(ti.transform(n))+")"};function f8(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Uu={test:yd("#"),parse:f8,transform:un.transform},Xn={test:yd("hsl","hue"),parse:Jv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Kt.transform(ri(t))+", "+Kt.transform(ri(r))+", "+ri(ti.transform(n))+")"},Ye={test:e=>un.test(e)||Uu.test(e)||Xn.test(e),parse:e=>un.test(e)?un.parse(e):Xn.test(e)?Xn.parse(e):Uu.parse(e),transform:e=>$i(e)?e:e.hasOwnProperty("red")?un.transform(e):Xn.transform(e)},ye=(e,t,r)=>-r*e+r*t+e;function bc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function p8({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=bc(l,a,e+1/3),i=bc(l,a,e),o=bc(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const _c=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},x8=[Uu,un,Xn],m8=e=>x8.find(t=>t.test(e));function cp(e){const t=m8(e);let r=t.parse(e);return t===Xn&&(r=p8(r)),r}const Zv=(e,t)=>{const r=cp(e),n=cp(t),s={...r};return i=>(s.red=_c(r.red,n.red,i),s.green=_c(r.green,n.green,i),s.blue=_c(r.blue,n.blue,i),s.alpha=ye(r.alpha,n.alpha,i),un.transform(s))};function g8(e){var t,r;return isNaN(e)&&$i(e)&&(((t=e.match(Ja))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(jv))===null||r===void 0?void 0:r.length)||0)>0}const ey={regex:hk,countKey:"Vars",token:"${v}",parse:ke},ty={regex:jv,countKey:"Colors",token:"${c}",parse:Ye.parse},ry={regex:Ja,countKey:"Numbers",token:"${n}",parse:Sn.parse};function Cc(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function fa(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Cc(r,ey),Cc(r,ty),Cc(r,ry),r}function ny(e){return fa(e).values}function sy(e){const{values:t,numColors:r,numVars:n,tokenised:s}=fa(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<n?a=a.replace(ey.token,o[l]):l<n+r?a=a.replace(ty.token,Ye.transform(o[l])):a=a.replace(ry.token,ri(o[l]));return a}}const v8=e=>typeof e=="number"?0:e;function y8(e){const t=ny(e);return sy(e)(t.map(v8))}const Mr={test:g8,parse:ny,createTransformer:sy,getAnimatableNone:y8},iy=(e,t)=>r=>`${r>0?t:e}`;function oy(e,t){return typeof e=="number"?r=>ye(e,t,r):Ye.test(e)?Zv(e,t):e.startsWith("var(")?iy(e,t):ly(e,t)}const ay=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>oy(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},w8=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=oy(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},ly=(e,t)=>{const r=Mr.createTransformer(t),n=fa(e),s=fa(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Rr(ay(n.values,s.values),r):iy(e,t)},Ni=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},up=(e,t)=>r=>ye(e,t,r);function b8(e){return typeof e=="number"?up:typeof e=="string"?Ye.test(e)?Zv:ly:Array.isArray(e)?ay:typeof e=="object"?w8:up}function _8(e,t,r){const n=[],s=r||b8(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ke:t;a=Rr(l,a)}n.push(a)}return n}function cy(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(ha(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=_8(t,n,s),a=o.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Ni(e[d],e[d+1],u);return o[d](h)};return r?u=>l(Ir(e[0],e[i-1],u)):l}function C8(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ni(0,t,n);e.push(ye(r,1,s))}}function k8(e){const t=[0];return C8(t,e.length-1),t}function j8(e,t){return e.map(r=>r*t)}function E8(e,t){return e.map(()=>t||Kv).splice(0,e.length-1)}function pa({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=l8(n)?n.map(lp):lp(n),i={done:!1,value:t[0]},o=j8(r&&r.length===t.length?r:k8(t),e),a=cy(o,t,{ease:Array.isArray(s)?s:E8(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function uy(e,t){return t?e*(1e3/t):0}const S8=5;function dy(e,t,r){const n=Math.max(t-S8,0);return uy(r-e(n),t-n)}const kc=.001,N8=.01,A8=10,D8=.05,P8=1;function B8({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,o=1-t;o=Ir(D8,P8,o),e=Ir(N8,A8,ir(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,p=$u(u,o),g=Math.exp(-h);return kc-f/p*g},i=u=>{const h=u*o*e,f=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),y=$u(Math.pow(u,2),o);return(-s(u)+kc>0?-1:1)*((f-p)*g)/y}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-kc+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const a=5/e,l=T8(s,i,a);if(e=pn(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const F8=12;function T8(e,t,r){let n=r;for(let s=1;s<F8;s++)n=n-e(n)/t(n);return n}function $u(e,t){return e*Math.sqrt(1-t*t)}const R8=["duration","bounce"],O8=["stiffness","damping","mass"];function dp(e,t){return t.some(r=>e[r]!==void 0)}function L8(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!dp(e,O8)&&dp(e,R8)){const r=B8(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function hy({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=L8({...n,velocity:-ir(n.velocity||0)}),p=h||0,g=l/(2*Math.sqrt(a*u)),y=i-s,b=ir(Math.sqrt(a/u)),v=Math.abs(y)<5;r||(r=v?.01:2),t||(t=v?.005:.5);let m;if(g<1){const x=$u(b,g);m=w=>{const C=Math.exp(-g*b*w);return i-C*((p+g*b*y)/x*Math.sin(x*w)+y*Math.cos(x*w))}}else if(g===1)m=x=>i-Math.exp(-b*x)*(y+(p+b*y)*x);else{const x=b*Math.sqrt(g*g-1);m=w=>{const C=Math.exp(-g*b*w),k=Math.min(x*w,300);return i-C*((p+g*b*y)*Math.sinh(k)+x*y*Math.cosh(k))/x}}return{calculatedDuration:f&&d||null,next:x=>{const w=m(x);if(f)o.done=x>=d;else{let C=p;x!==0&&(g<1?C=dy(m,x,w):C=0);const k=Math.abs(C)<=r,j=Math.abs(i-w)<=t;o.done=k&&j}return o.value=o.done?i:w,o}}}function hp({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=_=>a!==void 0&&_<a||l!==void 0&&_>l,g=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let y=r*t;const b=h+y,v=o===void 0?b:o(b);v!==b&&(y=v-h);const m=_=>-y*Math.exp(-_/n),x=_=>v+m(_),w=_=>{const F=m(_),S=x(_);f.done=Math.abs(F)<=u,f.value=f.done?v:S};let C,k;const j=_=>{p(f.value)&&(C=_,k=hy({keyframes:[f.value,g(f.value)],velocity:dy(x,_,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:_=>{let F=!1;return!k&&C===void 0&&(F=!0,w(_),j(_)),C!==void 0&&_>C?k.next(_-C):(!F&&w(_),f)}}}const I8=e=>{const t=({timestamp:r})=>e(r);return{start:()=>pe.update(t,!0),stop:()=>ur(t),now:()=>qe.isProcessing?qe.timestamp:performance.now()}},fp=2e4;function pp(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<fp;)t+=r,n=e.next(t);return t>=fp?1/0:t}const M8={decay:hp,inertia:hp,tween:pa,keyframes:pa,spring:hy};function xa({autoplay:e=!0,delay:t=0,driver:r=I8,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...f}){let p=1,g=!1,y,b;const v=()=>{b=new Promise(B=>{y=B})};v();let m;const x=M8[s]||pa;let w;x!==pa&&typeof n[0]!="number"&&(w=cy([0,100],n,{clamp:!1}),n=[0,100]);const C=x({...f,keyframes:n});let k;a==="mirror"&&(k=x({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let j="idle",_=null,F=null,S=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=pp(C));const{calculatedDuration:D}=C;let R=1/0,O=1/0;D!==null&&(R=D+o,O=R*(i+1)-o);let z=0;const I=B=>{if(F===null)return;p>0&&(F=Math.min(F,B)),p<0&&(F=Math.min(B-O/p,F)),_!==null?z=_:z=Math.round(B-F)*p;const L=z-t*(p>=0?1:-1),$=p>=0?L<0:L>O;z=Math.max(L,0),j==="finished"&&_===null&&(z=O);let U=z,le=C;if(i){const rt=Math.min(z,O)/R;let Ue=Math.floor(rt),$e=rt%1;!$e&&rt>=1&&($e=1),$e===1&&Ue--,Ue=Math.min(Ue,i+1),!!(Ue%2)&&(a==="reverse"?($e=1-$e,o&&($e-=o/R)):a==="mirror"&&(le=k)),U=Ir(0,1,$e)*R}const ne=$?{done:!1,value:n[0]}:le.next(U);w&&(ne.value=w(ne.value));let{done:J}=ne;!$&&D!==null&&(J=p>=0?z>=O:z<=0);const re=_===null&&(j==="finished"||j==="running"&&J);return h&&h(ne.value),re&&M(),ne},E=()=>{m&&m.stop(),m=void 0},q=()=>{j="idle",E(),y(),v(),F=S=null},M=()=>{j="finished",d&&d(),E(),y()},K=()=>{if(g)return;m||(m=r(I));const B=m.now();l&&l(),_!==null?F=B-_:(!F||j==="finished")&&(F=B),j==="finished"&&v(),S=F,_=null,j="running",m.start()};e&&K();const H={then(B,L){return b.then(B,L)},get time(){return ir(z)},set time(B){B=pn(B),z=B,_!==null||!m||p===0?_=B:F=m.now()-B/p},get duration(){const B=C.calculatedDuration===null?pp(C):C.calculatedDuration;return ir(B)},get speed(){return p},set speed(B){B===p||!m||(p=B,H.time=ir(z))},get state(){return j},play:K,pause:()=>{j="paused",_=z},stop:()=>{g=!0,j!=="idle"&&(j="idle",u&&u(),q())},cancel:()=>{S!==null&&I(S),q()},complete:()=>{j="finished"},sample:B=>(F=0,I(B))};return H}function U8(e){let t;return()=>(t===void 0&&(t=e()),t)}const $8=U8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),V8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),go=10,z8=2e4,H8=(e,t)=>t.type==="spring"||e==="backgroundColor"||!zv(t.ease);function W8(e,t,{onUpdate:r,onComplete:n,...s}){if(!($8()&&V8.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(x=>{a=x})};d();let{keyframes:h,duration:f=300,ease:p,times:g}=s;if(H8(t,s)){const x=xa({...s,repeat:0,delay:0});let w={done:!1,value:h[0]};const C=[];let k=0;for(;!w.done&&k<z8;)w=x.sample(k),C.push(w.value),k+=go;g=void 0,h=C,f=k-go,p="linear"}const y=t8(e.owner.current,t,h,{...s,duration:f,ease:p,times:g}),b=()=>{u=!1,y.cancel()},v=()=>{u=!0,pe.update(b),a(),d()};return y.onfinish=()=>{u||(e.set(r8(h,s)),n&&n(),v())},{then(x,w){return l.then(x,w)},attachTimeline(x){return y.timeline=x,y.onfinish=null,ke},get time(){return ir(y.currentTime||0)},set time(x){y.currentTime=pn(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return ir(f)},play:()=>{o||(y.play(),ur(b))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const w=xa({...s,autoplay:!1});e.setWithVelocity(w.sample(x-go).value,w.sample(x).value,go)}v()},complete:()=>{u||y.finish()},cancel:v}}function q8({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ke,pause:ke,stop:ke,then:i=>(i(),Promise.resolve()),cancel:ke,complete:ke});return t?xa({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const K8={type:"spring",stiffness:500,damping:25,restSpeed:10},G8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Q8={type:"keyframes",duration:.8},X8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y8=(e,{keyframes:t})=>t.length>2?Q8:En.has(e)?e.startsWith("scale")?G8(t[1]):K8:X8,Vu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mr.test(t)||t==="0")&&!t.startsWith("url(")),J8=new Set(["brightness","contrast","saturate","opacity"]);function Z8(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Ja)||[];if(!n)return e;const s=r.replace(n,"");let i=J8.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const e3=/([a-z-]*)\(.*?\)/g,zu={...Mr,getAnimatableNone:e=>{const t=e.match(e3);return t?t.map(Z8).join(" "):e}},t3={...Ev,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:zu,WebkitFilter:zu},wd=e=>t3[e];function fy(e,t){let r=wd(e);return r!==zu&&(r=Mr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const py=e=>/^0[^.\s]+$/.test(e);function r3(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||py(e)}function n3(e,t,r,n){const s=Vu(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),r3(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];i[d]=fy(t,a)}return i}function s3({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function bd(e,t){return e[t]||e.default||e}const i3={skipAnimations:!1},_d=(e,t,r,n={})=>s=>{const i=bd(n,e)||{},o=i.delay||n.delay||0;let{elapsed:a=0}=n;a=a-pn(o);const l=n3(t,e,r,i),u=l[0],d=l[l.length-1],h=Vu(e,u),f=Vu(e,d);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(s3(i)||(p={...p,...Y8(e,p)}),p.duration&&(p.duration=pn(p.duration)),p.repeatDelay&&(p.repeatDelay=pn(p.repeatDelay)),!h||!f||e8.current||i.type===!1||i3.skipAnimations)return q8(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=W8(t,e,p);if(g)return g}return xa(p)};function ma(e){return!!(dt(e)&&e.add)}const xy=e=>/^\-?\d*\.?\d+$/.test(e);function Cd(e,t){e.indexOf(t)===-1&&e.push(t)}function kd(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class jd{constructor(){this.subscriptions=[]}add(t){return Cd(this.subscriptions,t),()=>kd(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const o3=e=>!isNaN(parseFloat(e));class a3{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=qe;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,pe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>pe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=o3(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new jd);const n=this.events[t].add(r);return t==="change"?()=>{n(),pe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?uy(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xs(e,t){return new a3(e,t)}const my=e=>t=>t.test(e),l3={test:e=>e==="auto",parse:e=>e},gy=[Sn,ee,Kt,xr,mk,xk,l3],Ts=e=>gy.find(my(e)),c3=[...gy,Ye,Mr],u3=e=>c3.find(my(e));function d3(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,xs(r))}function h3(e,t){const r=el(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const a=Dk(i[o]);d3(e,o,a)}}function f3(e,t,r){var n,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[l])!==null&&n!==void 0?n:e.readValue(l))!==null&&s!==void 0?s:t[l]),d!=null&&(typeof d=="string"&&(xy(d)||py(d))?d=parseFloat(d):!u3(d)&&Mr.test(u)&&(d=fy(l,u)),e.addValue(l,xs(d,{owner:e})),r[l]===void 0&&(r[l]=d),d!==null&&e.setBaseTarget(l,d))}}function p3(e,t){return t?(t[e]||t.default||t).from:void 0}function x3(e,t,r){const n={};for(const s in e){const i=p3(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function m3({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function g3(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function vy(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const f=e.getValue(h),p=a[h];if(!f||p===void 0||d&&m3(d,h))continue;const g={delay:r,elapsed:0,...bd(i||{},h)};if(window.HandoffAppearAnimations){const v=e.getProps()[yv];if(v){const m=window.HandoffAppearAnimations(v,h,f,pe);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let y=!g.isHandoff&&!g3(f,p);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(_d(h,f,p,e.shouldReduceMotion&&En.has(h)?{type:!1}:g));const b=f.animation;ma(l)&&(l.add(h),b.then(()=>l.remove(h))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&h3(e,o)}),u}function Hu(e,t,r={}){const n=el(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(vy(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return v3(e,t,u+l,d,h,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function v3(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(y3).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Hu(u,t,{...i,delay:r+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function y3(e,t){return e.sortNodePosition(t)}function w3(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Hu(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Hu(e,t,r);else{const s=typeof t=="function"?el(e,t,r.custom):t;n=Promise.all(vy(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const b3=[...ad].reverse(),_3=ad.length;function C3(e){return t=>Promise.all(t.map(({animation:r,options:n})=>w3(e,r,n)))}function k3(e){let t=C3(e);const r=E3();let n=!0;const s=(l,u)=>{const d=el(e,u);if(d){const{transition:h,transitionEnd:f,...p}=d;l={...l,...p,...f}}return l};function i(l){t=l(e)}function o(l,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],p=new Set;let g={},y=1/0;for(let v=0;v<_3;v++){const m=b3[v],x=r[m],w=d[m]!==void 0?d[m]:h[m],C=Ei(w),k=m===u?x.isActive:null;k===!1&&(y=v);let j=w===h[m]&&w!==d[m]&&C;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),x.protectedKeys={...g},!x.isActive&&k===null||!w&&!x.prevProp||Xa(w)||typeof w=="boolean")continue;let F=j3(x.prevProp,w)||m===u&&x.isActive&&!j&&C||v>y&&C,S=!1;const D=Array.isArray(w)?w:[w];let R=D.reduce(s,{});k===!1&&(R={});const{prevResolvedValues:O={}}=x,z={...O,...R},I=E=>{F=!0,p.has(E)&&(S=!0,p.delete(E)),x.needsAnimating[E]=!0};for(const E in z){const q=R[E],M=O[E];if(g.hasOwnProperty(E))continue;let K=!1;da(q)&&da(M)?K=!$v(q,M):K=q!==M,K?q!==void 0?I(E):p.add(E):q!==void 0&&p.has(E)?I(E):x.protectedKeys[E]=!0}x.prevProp=w,x.prevResolvedValues=R,x.isActive&&(g={...g,...R}),n&&e.blockInitialAnimation&&(F=!1),F&&(!j||S)&&f.push(...D.map(E=>({animation:E,options:{type:m,...l}})))}if(p.size){const v={};p.forEach(m=>{const x=e.getBaseTarget(m);x!==void 0&&(v[m]=x)}),f.push({animation:v})}let b=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(f):Promise.resolve()}function a(l,u,d){var h;if(r[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),r[l].isActive=u;const f=o(d,l);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r}}function j3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$v(t,e):!1}function Yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E3(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class S3 extends Wr{constructor(t){super(t),t.animationState||(t.animationState=k3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Xa(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let N3=0;class A3 extends Wr{constructor(){super(...arguments),this.id=N3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const D3={animation:{Feature:S3},exit:{Feature:A3}},xp=(e,t)=>Math.abs(e-t);function P3(e,t){const r=xp(e.x,t.x),n=xp(e.y,t.y);return Math.sqrt(r**2+n**2)}class yy{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ec(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=P3(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:y}=qe;this.history.push({...g,timestamp:y});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=jc(f,this.transformPagePoint),pe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ec(h.type==="pointercancel"?this.lastMoveEventInfo:jc(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),g&&g(h,b)},!Ov(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Za(t),a=jc(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=qe;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Ec(a,this.history)),this.removeListeners=Rr(sr(this.contextWindow,"pointermove",this.handlePointerMove),sr(this.contextWindow,"pointerup",this.handlePointerUp),sr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ur(this.updatePoint)}}function jc(e,t){return t?{point:t(e.point)}:e}function mp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ec({point:e},t){return{point:e,delta:mp(e,wy(t)),offset:mp(e,B3(t)),velocity:F3(t,.1)}}function B3(e){return e[0]}function wy(e){return e[e.length-1]}function F3(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=wy(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>pn(t)));)r--;if(!n)return{x:0,y:0};const i=ir(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yt(e){return e.max-e.min}function Wu(e,t=0,r=.01){return Math.abs(e-t)<=r}function gp(e,t,r,n=.5){e.origin=n,e.originPoint=ye(t.min,t.max,e.origin),e.scale=yt(r)/yt(t),(Wu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ye(r.min,r.max,e.origin)-e.originPoint,(Wu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ni(e,t,r,n){gp(e.x,t.x,r.x,n?n.originX:void 0),gp(e.y,t.y,r.y,n?n.originY:void 0)}function vp(e,t,r){e.min=r.min+t.min,e.max=e.min+yt(t)}function T3(e,t,r){vp(e.x,t.x,r.x),vp(e.y,t.y,r.y)}function yp(e,t,r){e.min=t.min-r.min,e.max=e.min+yt(t)}function si(e,t,r){yp(e.x,t.x,r.x),yp(e.y,t.y,r.y)}function R3(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ye(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ye(r,e,n.max):Math.min(e,r)),e}function wp(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function O3(e,{top:t,left:r,bottom:n,right:s}){return{x:wp(e.x,r,s),y:wp(e.y,t,n)}}function bp(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function L3(e,t){return{x:bp(e.x,t.x),y:bp(e.y,t.y)}}function I3(e,t){let r=.5;const n=yt(e),s=yt(t);return s>n?r=Ni(t.min,t.max-n,e.min):n>s&&(r=Ni(e.min,e.max-s,t.min)),Ir(0,1,r)}function M3(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const qu=.35;function U3(e=qu){return e===!1?e=0:e===!0&&(e=qu),{x:_p(e,"left","right"),y:_p(e,"top","bottom")}}function _p(e,t,r){return{min:Cp(e,t),max:Cp(e,r)}}function Cp(e,t){return typeof e=="number"?e:e[t]||0}const kp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yn=()=>({x:kp(),y:kp()}),jp=()=>({min:0,max:0}),je=()=>({x:jp(),y:jp()});function Ct(e){return[e("x"),e("y")]}function by({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function $3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function V3(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Sc(e){return e===void 0||e===1}function Ku({scale:e,scaleX:t,scaleY:r}){return!Sc(e)||!Sc(t)||!Sc(r)}function tn(e){return Ku(e)||_y(e)||e.z||e.rotate||e.rotateX||e.rotateY}function _y(e){return Ep(e.x)||Ep(e.y)}function Ep(e){return e&&e!=="0%"}function ga(e,t,r){const n=e-r,s=t*n;return r+s}function Sp(e,t,r,n,s){return s!==void 0&&(e=ga(e,s,n)),ga(e,r,n)+t}function Gu(e,t=0,r=1,n,s){e.min=Sp(e.min,t,r,n,s),e.max=Sp(e.max,t,r,n,s)}function Cy(e,{x:t,y:r}){Gu(e.x,t.translate,t.scale,t.originPoint),Gu(e.y,r.translate,r.scale,r.originPoint)}function z3(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Jn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Cy(e,o)),n&&tn(i.latestValues)&&Jn(e,i.latestValues))}t.x=Np(t.x),t.y=Np(t.y)}function Np(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function yr(e,t){e.min=e.min+t,e.max=e.max+t}function Ap(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=ye(e.min,e.max,i);Gu(e,t[r],t[n],o,t.scale)}const H3=["x","scaleX","originX"],W3=["y","scaleY","originY"];function Jn(e,t){Ap(e.x,t,H3),Ap(e.y,t,W3)}function ky(e,t){return by(V3(e.getBoundingClientRect(),t))}function q3(e,t,r){const n=ky(e,r),{scroll:s}=t;return s&&(yr(n.x,s.offset.x),yr(n.y,s.offset.y)),n}const jy=({current:e})=>e?e.ownerDocument.defaultView:null,K3=new WeakMap;class G3{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Za(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Iv(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ct(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Kt.test(v)){const{projection:m}=this.visualElement;if(m&&m.layout){const x=m.layout.layoutBox[b];x&&(v=yt(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),g&&pe.update(()=>g(d,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=Q3(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Ct(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:jy(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&pe.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!vo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=R3(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Qn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=O3(s.layoutBox,r):this.constraints=!1,this.elastic=U3(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ct(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=M3(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Qn(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=q3(n,s.root,this.visualElement.getTransformPagePoint());let o=L3(s.layout.layoutBox,i);if(r){const a=r($3(o));this.hasMutatedConstraints=!!a,a&&(o=by(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ct(d=>{if(!vo(d,r,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(_d(t,n,0,r))}stopAnimation(){Ct(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ct(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ct(r=>{const{drag:n}=this.getProps();if(!vo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-ye(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Qn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ct(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=I3({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ct(o=>{if(!vo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ye(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;K3.set(this.visualElement,this);const t=this.visualElement.current,r=sr(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Qn(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=rr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ct(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=qu,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function vo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Q3(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class X3 extends Wr{constructor(t){super(t),this.removeGroupControls=ke,this.removeListeners=ke,this.controls=new G3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dp=e=>(t,r)=>{e&&pe.update(()=>e(t,r))};class Y3 extends Wr{constructor(){super(...arguments),this.removePointerDownListener=ke}onPointerDown(t){this.session=new yy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Dp(t),onStart:Dp(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&pe.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=sr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function J3(){const e=N.useContext(Ga);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=N.useId();return N.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const Bo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const r=Pp(e,t.target.x),n=Pp(e,t.target.y);return`${r}% ${n}%`}},Z3={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Mr.parse(e);if(s.length>5)return n;const i=Mr.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=ye(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class ej extends t0.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;lk(tj),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||pe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ey(e){const[t,r]=J3(),n=N.useContext(cd);return t0.createElement(ej,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(bv),isPresent:t,safeToRemove:r})}const tj={borderRadius:{...Rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomLeftRadius:Rs,borderBottomRightRadius:Rs,boxShadow:Z3},Sy=["TopLeft","TopRight","BottomLeft","BottomRight"],rj=Sy.length,Bp=e=>typeof e=="string"?parseFloat(e):e,Fp=e=>typeof e=="number"||ee.test(e);function nj(e,t,r,n,s,i){s?(e.opacity=ye(0,r.opacity!==void 0?r.opacity:1,sj(n)),e.opacityExit=ye(t.opacity!==void 0?t.opacity:1,0,ij(n))):i&&(e.opacity=ye(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<rj;o++){const a=`border${Sy[o]}Radius`;let l=Tp(t,a),u=Tp(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Fp(l)===Fp(u)?(e[a]=Math.max(ye(Bp(l),Bp(u),n),0),(Kt.test(u)||Kt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||r.rotate)&&(e.rotate=ye(t.rotate||0,r.rotate||0,n))}function Tp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sj=Ny(0,.5,Xv),ij=Ny(.5,.95,ke);function Ny(e,t,r){return n=>n<e?0:n>t?1:r(Ni(e,t,n))}function Rp(e,t){e.min=t.min,e.max=t.max}function _t(e,t){Rp(e.x,t.x),Rp(e.y,t.y)}function Op(e,t,r,n,s){return e-=t,e=ga(e,1/r,n),s!==void 0&&(e=ga(e,1/s,n)),e}function oj(e,t=0,r=1,n=.5,s,i=e,o=e){if(Kt.test(t)&&(t=parseFloat(t),t=ye(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ye(i.min,i.max,n);e===i&&(a-=t),e.min=Op(e.min,t,r,a,s),e.max=Op(e.max,t,r,a,s)}function Lp(e,t,[r,n,s],i,o){oj(e,t[r],t[n],t[s],t.scale,i,o)}const aj=["x","scaleX","originX"],lj=["y","scaleY","originY"];function Ip(e,t,r,n){Lp(e.x,t,aj,r?r.x:void 0,n?n.x:void 0),Lp(e.y,t,lj,r?r.y:void 0,n?n.y:void 0)}function Mp(e){return e.translate===0&&e.scale===1}function Ay(e){return Mp(e.x)&&Mp(e.y)}function cj(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Dy(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Up(e){return yt(e.x)/yt(e.y)}class uj{constructor(){this.members=[]}add(t){Cd(this.members,t),t.scheduleRender()}remove(t){if(kd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $p(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:l,rotateX:u,rotateY:d}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const dj=(e,t)=>e.depth-t.depth;class hj{constructor(){this.children=[],this.isDirty=!1}add(t){Cd(this.children,t),this.isDirty=!0}remove(t){kd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dj),this.isDirty=!1,this.children.forEach(t)}}function fj(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(ur(n),e(i-t))};return pe.read(n,!0),()=>ur(n)}function pj(e){window.MotionDebug&&window.MotionDebug.record(e)}function xj(e){return e instanceof SVGElement&&e.tagName!=="svg"}function mj(e,t,r){const n=dt(e)?e:xs(e);return n.start(_d("",n,t,r)),n.animation}const Vp=["","X","Y","Z"],gj={visibility:"hidden"},zp=1e3;let vj=0;const rn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Py({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=vj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rn.totalNodes=rn.resolvedTargetDeltas=rn.recalculatedProjection=0,this.nodes.forEach(bj),this.nodes.forEach(Ej),this.nodes.forEach(Sj),this.nodes.forEach(_j),pj(rn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xj(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=fj(f,250),Bo.hasAnimatedSinceResize&&(Bo.hasAnimatedSinceResize=!1,this.nodes.forEach(Wp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Bj,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),m=!this.targetLayout||!Dy(this.targetLayout,g)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const w={...bd(y,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Wp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hp);return}this.isUpdating||this.nodes.forEach(kj),this.isUpdating=!1,this.nodes.forEach(jj),this.nodes.forEach(yj),this.nodes.forEach(wj),this.clearAllSnapshots();const a=performance.now();qe.delta=Ir(0,1e3/60,a-qe.timestamp),qe.timestamp=a,qe.isProcessing=!0,gc.update.process(qe),gc.preRender.process(qe),gc.render.process(qe),qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Cj),this.sharedNodes.forEach(Aj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ay(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||tn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Fj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return je();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(yr(a.x,l.offset.x),yr(a.y,l.offset.y)),a}removeElementScroll(o){const a=je();_t(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){_t(a,o);const{scroll:f}=this.root;f&&(yr(a.x,-f.offset.x),yr(a.y,-f.offset.y))}yr(a.x,d.offset.x),yr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=je();_t(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Jn(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),tn(d.latestValues)&&Jn(l,d.latestValues)}return tn(this.latestValues)&&Jn(l,this.latestValues),l}removeTransform(o){const a=je();_t(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!tn(u.latestValues))continue;Ku(u.latestValues)&&u.updateSnapshot();const d=je(),h=u.measurePageBox();_t(d,h),Ip(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return tn(this.latestValues)&&Ip(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=qe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),si(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),_t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_t(this.target,this.layout.layoutBox),Cy(this.target,this.targetDelta)):_t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),si(this.relativeTargetOrigin,this.target,p.target),_t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ku(this.parent.latestValues)||_y(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===qe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;_t(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;z3(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Yn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Yn(),this.projectionDeltaWithTransform=Yn());const y=this.projectionTransform;ni(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=$p(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),rn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Yn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=je(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,b=this.getStack(),v=!b||b.members.length<=1,m=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(Pj));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const C=w/1e3;qp(h.x,o.x,C),qp(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(si(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dj(this.relativeTarget,this.relativeTargetOrigin,f,C),x&&cj(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=je()),_t(x,this.relativeTarget)),y&&(this.animationValues=d,nj(d,u,this.latestValues,C,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pe.update(()=>{Bo.hasAnimatedSinceResize=!0,this.currentAnimation=mj(0,zp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&By(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||je();const h=yt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=yt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}_t(a,l),Jn(a,d),ni(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<Vp.length;d++){const h="rotate"+Vp[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gj;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Po(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Po(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!tn(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=$p(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ca){if(f[y]===void 0)continue;const{correct:b,applyTo:v}=ca[y],m=u.transform==="none"?f[y]:b(f[y],h);if(v){const x=v.length;for(let w=0;w<x;w++)u[v[w]]=m}else u[y]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Po(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Hp),this.root.sharedNodes.clear()}}}function yj(e){e.updateLayout()}function wj(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Ct(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=yt(f);f.min=n[h].min,f.max=f.min+p}):By(i,r.layoutBox,n)&&Ct(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=yt(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=Yn();ni(a,n,r.layoutBox);const l=Yn();o?ni(l,e.applyTransform(s,!0),r.measuredBox):ni(l,n,r.layoutBox);const u=!Ay(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=je();si(g,r.layoutBox,f.layoutBox);const y=je();si(y,n,p.layoutBox),Dy(g,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function bj(e){rn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _j(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Cj(e){e.clearSnapshot()}function Hp(e){e.clearMeasurements()}function kj(e){e.isLayoutDirty=!1}function jj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Wp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ej(e){e.resolveTargetDelta()}function Sj(e){e.calcProjection()}function Nj(e){e.resetRotation()}function Aj(e){e.removeLeadSnapshot()}function qp(e,t,r){e.translate=ye(t.translate,0,r),e.scale=ye(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Kp(e,t,r,n){e.min=ye(t.min,r.min,n),e.max=ye(t.max,r.max,n)}function Dj(e,t,r,n){Kp(e.x,t.x,r.x,n),Kp(e.y,t.y,r.y,n)}function Pj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Bj={duration:.45,ease:[.4,0,.1,1]},Gp=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Qp=Gp("applewebkit/")&&!Gp("chrome/")?Math.round:ke;function Xp(e){e.min=Qp(e.min),e.max=Qp(e.max)}function Fj(e){Xp(e.x),Xp(e.y)}function By(e,t,r){return e==="position"||e==="preserve-aspect"&&!Wu(Up(t),Up(r),.2)}const Tj=Py({attachResizeListener:(e,t)=>rr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nc={current:void 0},Fy=Py({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Nc.current){const e=new Tj({});e.mount(window),e.setOptions({layoutScroll:!0}),Nc.current=e}return Nc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Rj={pan:{Feature:Y3},drag:{Feature:X3,ProjectionNode:Fy,MeasureLayout:Ey}},Oj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Lj(e){const t=Oj.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Qu(e,t,r=1){const[n,s]=Lj(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return xy(o)?parseFloat(o):o}else return Iu(s)?Qu(s,t,r+1):s}function Ij(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!Iu(i))return;const o=Qu(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!Iu(i))continue;const o=Qu(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const Mj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ty=e=>Mj.has(e),Uj=e=>Object.keys(e).some(Ty),Yp=e=>e===Sn||e===ee,Jp=(e,t)=>parseFloat(e.split(", ")[t]),Zp=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return Jp(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?Jp(i[1],e):0}},$j=new Set(["x","y","z"]),Vj=Ui.filter(e=>!$j.has(e));function zj(e){const t=[];return Vj.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ms={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Zp(4,13),y:Zp(5,14)};ms.translateX=ms.x;ms.translateY=ms.y;const Hj=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{a[u]=ms[u](n,i)}),t.render();const l=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=ms[u](l,i)}),e},Wj=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(Ty);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=r[l],h=Ts(d);const f=t[l];let p;if(da(f)){const g=f.length,y=f[0]===null?1:0;d=f[y],h=Ts(d);for(let b=y;b<g&&f[b]!==null;b++)p?ha(Ts(f[b])===p):p=Ts(f[b])}else p=Ts(f);if(h!==p)if(Yp(h)&&Yp(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&p===ee&&(t[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?u.set(p.transform(d)):t[l]=h.transform(f):(o||(i=zj(e),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:t[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Hj(t,e,a);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),Qa&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function qj(e,t,r,n){return Uj(t)?Wj(e,t,r,n):{target:t,transitionEnd:n}}const Kj=(e,t,r,n)=>{const s=Ij(e,t,n);return t=s.target,n=s.transitionEnd,qj(e,t,r,n)},Xu={current:null},Ry={current:!1};function Gj(){if(Ry.current=!0,!!Qa)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xu.current=e.matches;e.addListener(t),t()}else Xu.current=!1}function Qj(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(dt(i))e.addValue(s,i),ma(n)&&n.add(s);else if(dt(o))e.addValue(s,xs(i,{owner:e})),ma(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,xs(a!==void 0?a:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const ex=new WeakMap,Oy=Object.keys(Si),Xj=Oy.length,tx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Yj=ld.length;class Jj{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>pe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Ya(r),this.isVariantNode=wv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const f=d[h];a[h]!==void 0&&dt(f)&&(f.set(a[h],!1),ma(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,ex.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Ry.current||Gj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ex.delete(this.current),this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=En.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&pe.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,a;for(let l=0;l<Xj;l++){const u=Oy[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:p}=Si[u];f&&(o=f),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Qn(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<tx.length;n++){const s=tx[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Qj(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<Yj;n++){const s=ld[n],i=this.props[s];(Ei(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=xs(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=md(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!dt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new jd),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Ly extends Jj{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=x3(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){f3(this,n,o);const a=Kj(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:t,transitionEnd:r,...n}}}function Zj(e){return window.getComputedStyle(e)}class eE extends Ly{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(En.has(r)){const n=wd(r);return n&&n.default||0}else{const n=Zj(t),s=(kv(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return ky(t,r)}build(t,r,n,s){dd(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return xd(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){Dv(t,r,n,s)}}class tE extends Ly{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(En.has(r)){const n=wd(r);return n&&n.default||0}return r=Pv.has(r)?r:od(r),t.getAttribute(r)}measureInstanceViewportBox(){return je()}scrapeMotionValuesFromProps(t,r){return Fv(t,r)}build(t,r,n,s){fd(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){Bv(t,r,n,s)}mount(t){this.isSVGTag=pd(t.tagName),super.mount(t)}}const rE=(e,t)=>ud(e)?new tE(t,{enableHardwareAcceleration:!1}):new eE(t,{enableHardwareAcceleration:!0}),nE={layout:{ProjectionNode:Fy,MeasureLayout:Ey}},sE={...D3,...Yk,...Rj,...nE},Ac=ok((e,t)=>Ik(e,t,sE,rE));function Iy(){const e=N.useRef(!1);return id(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function iE(){const e=Iy(),[t,r]=N.useState(0),n=N.useCallback(()=>{e.current&&r(t+1)},[t]);return[N.useCallback(()=>pe.postRender(n),[n]),t]}class oE extends N.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aE({children:e,isPresent:t}){const r=N.useId(),n=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),N.createElement(oE,{isPresent:t,childRef:n,sizeRef:s},N.cloneElement(e,{ref:n}))}const Dc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Tv(lE),l=N.useId(),u=N.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;n&&n()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[r]);return N.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[r]),N.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=N.createElement(aE,{isPresent:r},e)),N.createElement(Ga.Provider,{value:u},e)};function lE(){return new Map}function cE(e){return N.useEffect(()=>()=>e(),[])}const nn=e=>e.key||"";function uE(e,t){e.forEach(r=>{const n=nn(r);t.set(n,r)})}function dE(e){const t=[];return N.Children.forEach(e,r=>{N.isValidElement(r)&&t.push(r)}),t}const rx=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=N.useContext(cd).forceRender||iE()[0],l=Iy(),u=dE(e);let d=u;const h=N.useRef(new Map).current,f=N.useRef(d),p=N.useRef(new Map).current,g=N.useRef(!0);if(id(()=>{g.current=!1,uE(u,p),f.current=d}),cE(()=>{g.current=!0,p.clear(),h.clear()}),g.current)return N.createElement(N.Fragment,null,d.map(m=>N.createElement(Dc,{key:nn(m),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},m)));d=[...d];const y=f.current.map(nn),b=u.map(nn),v=y.length;for(let m=0;m<v;m++){const x=y[m];b.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((m,x)=>{if(b.indexOf(x)!==-1)return;const w=p.get(x);if(!w)return;const C=y.indexOf(x);let k=m;if(!k){const j=()=>{h.delete(x);const _=Array.from(p.keys()).filter(F=>!b.includes(F));if(_.forEach(F=>p.delete(F)),f.current=u.filter(F=>{const S=nn(F);return S===x||_.includes(S)}),!h.size){if(l.current===!1)return;a(),n&&n()}};k=N.createElement(Dc,{key:nn(w),isPresent:!1,onExitComplete:j,custom:t,presenceAffectsLayout:i,mode:o},w),h.set(x,k)}d.splice(C,0,k)}),d=d.map(m=>{const x=m.key;return h.has(x)?m:N.createElement(Dc,{key:nn(m),isPresent:!0,presenceAffectsLayout:i,mode:o},m)}),N.createElement(N.Fragment,null,h.size?d:d.map(m=>N.cloneElement(m)))},My=({children:e,onSwipeLeft:t,onSwipeRight:r,leftAction:n={icon:c.jsx(ed,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:s={icon:c.jsx(qa,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},className:i=""})=>{const[o,a]=N.useState(0),[l,u]=N.useState(!1),d=XC({onSwiping:h=>{const f=h.deltaX,p=100,g=Math.max(-p,Math.min(p,f));a(g),u(Math.abs(g)>20)},onSwipedLeft:()=>{Math.abs(o)>50&&t&&t(),a(0),u(!1)},onSwipedRight:()=>{Math.abs(o)>50&&r&&r(),a(0),u(!1)},onSwiped:()=>{a(0),u(!1)},trackMouse:!0,trackTouch:!0});return c.jsxs("div",{className:`relative overflow-hidden ${i}`,...d,children:[c.jsx(rx,{children:o>20&&c.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`absolute left-0 top-0 h-full flex items-center px-4 ${s.color}`,style:{width:Math.abs(o)},children:c.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[s.icon,Math.abs(o)>60&&c.jsx("span",{className:"text-sm font-medium",children:s.label})]})})}),c.jsx(rx,{children:o<-20&&c.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`absolute right-0 top-0 h-full flex items-center justify-end px-4 ${n.color}`,style:{width:Math.abs(o)},children:c.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[Math.abs(o)>60&&c.jsx("span",{className:"text-sm font-medium",children:n.label}),n.icon]})})}),c.jsx(Ac.div,{animate:{x:o},transition:{type:"spring",stiffness:300,damping:30},className:`relative z-10 ${l?"shadow-lg":""}`,children:e})]})},hE=()=>{const{notifications:e,markNotificationAsRead:t,clearAllNotifications:r}=ht(),n=l=>{switch(l){case"like":return c.jsx(lv,{className:"w-5 h-5 text-red-400"});case"repost":return c.jsx(hv,{className:"w-5 h-5 text-green-400"});case"comment":return c.jsx(Ou,{className:"w-5 h-5 text-blue-400"});case"follow":return c.jsx(Er,{className:"w-5 h-5 text-purple-400"});case"mention":return c.jsx(xC,{className:"w-5 h-5 text-yellow-400"});case"message":return c.jsx(Ou,{className:"w-5 h-5 text-pink-400"});default:return c.jsx(oa,{className:"w-5 h-5 text-gray-400"})}},s=l=>{switch(l.type){case"like":return"liked your post";case"repost":return"reposted your post";case"comment":return"commented on your post";case"follow":return"started following you";case"mention":return"mentioned you in a post";case"message":return"sent you a message";default:return"interacted with your content"}},i=l=>{t(l)},o=l=>{console.log("Archive notification:",l)},a=l=>{console.log("Delete notification:",l)};return c.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[c.jsx("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Stay updated with your community"})]}),e.length>0&&c.jsxs("button",{onClick:r,className:"flex items-center space-x-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-gray-300 hover:text-white",children:[c.jsx(Gt,{className:"w-4 h-4"}),c.jsx("span",{children:"Clear All"})]})]})}),c.jsx("div",{className:"divide-y divide-gray-700/30",children:e.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(oa,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No notifications yet"}),c.jsx("p",{className:"text-gray-500",children:"When someone interacts with your content, you'll see it here."})]}):e.map(l=>{var u;return c.jsx(My,{onSwipeLeft:()=>o(l.id),onSwipeRight:()=>a(l.id),leftAction:{icon:c.jsx(ed,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:{icon:c.jsx(Gt,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},children:c.jsx("div",{onClick:()=>i(l.id),className:`p-6 hover:bg-gray-800/20 transition-colors cursor-pointer ${l.read?"":"bg-purple-900/10 border-l-4 border-purple-500"}`,children:c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:n(l.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.fromUser&&c.jsx("img",{src:l.fromUser.avatar,alt:l.fromUser.displayName,className:"w-8 h-8 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:"text-white",children:[c.jsx("span",{className:"font-semibold",children:((u=l.fromUser)==null?void 0:u.displayName)||"Someone"})," ",c.jsx("span",{className:"text-gray-300",children:s(l)})]}),c.jsx("p",{className:"text-gray-500 text-sm",children:l.timestamp.toLocaleString()})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[!l.read&&c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsx("button",{onClick:d=>{d.stopPropagation(),i(l.id)},className:"p-1 text-gray-400 hover:text-green-400 transition-colors",children:c.jsx(mC,{className:"w-4 h-4"})})]})]}),l.message&&c.jsx("p",{className:"text-gray-400 text-sm mt-2 bg-gray-800/30 rounded-lg p-3",children:l.message})]})]})})},l.id)})})]})},fE=()=>{var z;const{chats:e,sendMessage:t,createChat:r,allUsers:n}=ht(),{user:s}=De(),[i,o]=N.useState(null),[a,l]=N.useState(""),[u,d]=N.useState(!1),[h,f]=N.useState(""),[p,g]=N.useState([]),[y,b]=N.useState([]),[v,m]=N.useState(""),[x,w]=N.useState(!1);N.useEffect(()=>{i&&C(i.id)},[i]);const C=async I=>{const E=[{id:"1",content:"Hey! How's your latest character development going?",senderId:"other-user",chatId:I,timestamp:new Date(Date.now()-36e5),isEncrypted:!0,readBy:["other-user",(s==null?void 0:s.id)||""]},{id:"2",content:"Great! Just finished writing a backstory for my new cyberpunk detective. Want to see?",senderId:(s==null?void 0:s.id)||"",chatId:I,timestamp:new Date(Date.now()-3e6),isEncrypted:!0,readBy:[(s==null?void 0:s.id)||""]},{id:"3",content:"Absolutely! I love cyberpunk settings. What's their specialty?",senderId:"other-user",chatId:I,timestamp:new Date(Date.now()-18e5),isEncrypted:!0,readBy:["other-user"]}];g(E)},k=async I=>{if(I.preventDefault(),a.trim()&&i&&s){await t(i.id,a.trim(),s.id);const E={id:Date.now().toString(),content:a.trim(),senderId:s.id,chatId:i.id,timestamp:new Date,isEncrypted:!0,readBy:[s.id]};g(q=>[...q,E]),l("")}},j=async()=>{if(y.length!==0)try{const I=await r(y,x,v||void 0);o(I),d(!1),b([]),m(""),w(!1)}catch(I){console.error("Error creating chat:",I)}},_=I=>{console.log("Archive chat:",I)},F=I=>{console.log("Delete chat:",I)},S=()=>{console.log("Image upload clicked")},D=()=>{console.log("Video upload clicked")},R=e.filter(I=>{var E;return((E=I.name)==null?void 0:E.toLowerCase().includes(h.toLowerCase()))||I.participants.some(q=>q.toLowerCase().includes(h.toLowerCase()))}),O=n.filter(I=>I.id!==(s==null?void 0:s.id));return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm flex",children:[c.jsxs("div",{className:"w-80 border-r border-gray-700/50 bg-black/20",children:[c.jsxs("div",{className:"p-4 border-b border-gray-700/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Messages"}),c.jsx("button",{onClick:()=>d(!0),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full transition-colors",children:c.jsx(Wa,{className:"w-5 h-5 text-white"})})]}),c.jsxs("div",{className:"relative",children:[c.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),placeholder:"Search conversations...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-9 pr-4 py-2 text-white text-sm focus:border-purple-500 focus:outline-none"})]})]}),c.jsx("div",{className:"overflow-y-auto",children:R.length===0?c.jsxs("div",{className:"p-6 text-center",children:[c.jsx(cn,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-400",children:"No conversations yet"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Start a new chat to connect with other writers"})]}):R.map(I=>{var E,q;return c.jsx(My,{onSwipeLeft:()=>_(I.id),onSwipeRight:()=>F(I.id),leftAction:{icon:c.jsx(ed,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:{icon:c.jsx(qa,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},children:c.jsx("button",{onClick:()=>o(I),className:`w-full p-4 text-left hover:bg-gray-800/30 transition-colors border-b border-gray-700/20 ${(i==null?void 0:i.id)===I.id?"bg-purple-900/20":""}`,children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:I.isGroup?c.jsx(cn,{className:"w-6 h-6 text-white"}):c.jsx("span",{className:"text-white font-semibold",children:((E=I.name)==null?void 0:E[0])||"U"})}),I.isEncrypted&&c.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:c.jsx(aa,{className:"w-2 h-2 text-white"})})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-white font-medium truncate",children:I.name||(I.id?`Chat ${I.id.slice(0,8)}`:"Unnamed Chat")}),c.jsx("p",{className:"text-gray-400 text-sm truncate",children:((q=I.lastMessage)==null?void 0:q.content)||"No messages yet"})]})]})})},I.id)})})]}),c.jsx("div",{className:"flex-1 flex flex-col",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"p-4 border-b border-gray-700/50 bg-black/20",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:i.isGroup?c.jsx(cn,{className:"w-5 h-5 text-white"}):c.jsx("span",{className:"text-white font-semibold",children:((z=i.name)==null?void 0:z[0])||"U"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-semibold",children:i.name||(i.id?`Chat ${i.id.slice(0,8)}`:"Unnamed Chat")}),c.jsxs("div",{className:"flex items-center space-x-2",children:[i.isEncrypted&&c.jsxs("div",{className:"flex items-center space-x-1 text-green-400 text-xs",children:[c.jsx(aa,{className:"w-3 h-3"}),c.jsx("span",{children:"Encrypted"})]}),c.jsxs("span",{className:"text-gray-400 text-sm",children:[i.participants.length," participants"]})]})]})]}),c.jsx("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",children:c.jsx(dv,{className:"w-5 h-5"})})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:p.map(I=>c.jsx("div",{className:`flex ${I.senderId===(s==null?void 0:s.id)?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs rounded-2xl p-3 ${I.senderId===(s==null?void 0:s.id)?"bg-purple-600 rounded-br-md":"bg-gray-800 rounded-bl-md"}`,children:[c.jsx("p",{className:"text-white text-sm",children:I.content}),c.jsx("p",{className:`text-xs mt-1 ${I.senderId===(s==null?void 0:s.id)?"text-purple-200":"text-gray-400"}`,children:I.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},I.id))}),c.jsx("form",{onSubmit:k,className:"p-4 border-t border-gray-700/50 bg-black/20",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{type:"button",onClick:S,className:"p-2 text-gray-400 hover:text-purple-400 transition-colors",children:c.jsx(cv,{className:"w-5 h-5"})}),c.jsx("button",{type:"button",onClick:D,className:"p-2 text-gray-400 hover:text-purple-400 transition-colors",children:c.jsx(pv,{className:"w-5 h-5"})}),c.jsx("input",{type:"text",value:a,onChange:I=>l(I.target.value),placeholder:"Type a message...",className:"flex-1 bg-gray-800 border border-gray-600 rounded-full px-4 py-2 text-white focus:border-purple-500 focus:outline-none"}),c.jsx("button",{type:"submit",disabled:!a.trim(),className:"p-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-full transition-colors",children:c.jsx(EC,{className:"w-5 h-5 text-white"})})]})})]}):c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(cn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"Select a conversation"}),c.jsx("p",{className:"text-gray-500",children:"Choose from your existing conversations or start a new one"})]})})})]}),u&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-md mx-4 max-h-[80vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Start New Conversation"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("input",{type:"checkbox",id:"groupChat",checked:x,onChange:I=>w(I.target.checked),className:"text-purple-600 focus:ring-purple-500 rounded"}),c.jsx("label",{htmlFor:"groupChat",className:"text-white text-sm",children:"Create group chat"})]}),x&&c.jsx("input",{type:"text",value:v,onChange:I=>m(I.target.value),placeholder:"Group name (optional)",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white text-sm mb-2",children:"Select users:"}),c.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:O.map(I=>c.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-800 rounded-lg cursor-pointer",children:[c.jsx("input",{type:x?"checkbox":"radio",name:"selectedUsers",value:I.id,checked:y.includes(I.id),onChange:E=>{x?E.target.checked?b(q=>[...q,I.id]):b(q=>q.filter(M=>M!==I.id)):b([I.id])},className:"text-purple-600 focus:ring-purple-500"}),c.jsx("img",{src:I.avatar,alt:I.displayName,className:"w-8 h-8 rounded-full object-cover"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white text-sm",children:I.displayName}),c.jsxs("p",{className:"text-gray-400 text-xs",children:["@",I.username]})]})]},I.id))})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx("button",{onClick:j,disabled:y.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3 rounded-lg transition-colors",children:"Create Chat"}),c.jsx("button",{onClick:()=>{d(!1),b([]),m(""),w(!1)},className:"px-6 py-3 text-gray-400 hover:text-white transition-colors",children:"Cancel"})]})]})]})})})]})},pE=()=>{const{user:e}=De(),{posts:t,characters:r,allUsers:n,bookmarkedPosts:s,bookmarkedCharacters:i,bookmarkedUsers:o,likePost:a,repostPost:l}=ht(),[u,d]=N.useState(""),[h,f]=N.useState("all"),[p,g]=N.useState(null),[y,b]=N.useState(null),v=t.filter(E=>s.includes(E.id)),m=r.filter(E=>i.includes(E.id)),x=n.filter(E=>o.includes(E.id)),w=()=>{const E=u.toLowerCase();let q=v,M=m,K=x;return u&&(q=q.filter(H=>{var B,L;return H.content.toLowerCase().includes(E)||((B=H.character)==null?void 0:B.name.toLowerCase().includes(E))||((L=H.user)==null?void 0:L.displayName.toLowerCase().includes(E))}),M=M.filter(H=>H.name.toLowerCase().includes(E)||H.username.toLowerCase().includes(E)||H.verseTag.toLowerCase().includes(E)),K=K.filter(H=>H.displayName.toLowerCase().includes(E)||H.username.toLowerCase().includes(E)||H.writersTag.toLowerCase().includes(E))),{filteredPosts:q,filteredCharacters:M,filteredUsers:K}},{filteredPosts:C,filteredCharacters:k,filteredUsers:j}=w(),_=E=>{a(E)},F=E=>{l(E)},S=E=>{g(E)},D=E=>{b(E)},R=h==="all"||h==="posts",O=h==="all"||h==="characters",z=h==="all"||h==="writers",I=R&&C.length>0||O&&k.length>0||z&&j.length>0;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[c.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Bookmarks"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",value:u,onChange:E=>d(E.target.value),placeholder:"Search bookmarks...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-10 pr-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(wC,{className:"w-4 h-4 text-gray-400"}),c.jsx("div",{className:"flex space-x-1",children:[{key:"all",label:"All"},{key:"posts",label:"Posts"},{key:"characters",label:"Characters"},{key:"writers",label:"Writers"}].map(E=>c.jsx("button",{onClick:()=>f(E.key),className:`px-3 py-1 rounded-full text-sm transition-colors ${h===E.key?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:E.label},E.key))})]})]})]}),c.jsx("div",{className:"p-6 space-y-8",children:I?c.jsxs(c.Fragment,{children:[R&&C.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Bookmarked Posts"}),c.jsx("div",{className:"space-y-4",children:C.map(E=>c.jsx(Mi,{post:E,onLike:()=>_(E.id),onRepost:()=>F(E.id)},E.id))})]}),O&&k.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Bookmarked Characters"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(E=>c.jsx("div",{onClick:()=>D(E),children:c.jsx(ei,{character:E,showActions:!1,showFollowButton:E.userId!==(e==null?void 0:e.id)})},E.id))})]}),z&&j.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Bookmarked Writers"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(E=>c.jsxs("div",{onClick:()=>S(E),className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50 hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx("img",{src:E.avatar,alt:E.displayName,className:"w-16 h-16 rounded-full object-cover ring-2 ring-purple-500/30"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:E.displayName}),c.jsxs("p",{className:"text-gray-400",children:["@",E.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#",E.writersTag]})]})]}),c.jsx("p",{className:"text-gray-300 text-sm",children:E.bio})]},E.id))})]})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(av,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:u?"No matching bookmarks":"No bookmarks yet"}),c.jsx("p",{className:"text-gray-500",children:u?"Try adjusting your search or filter criteria":"Save posts, characters, and writers you want to revisit later"})]})}),c.jsx("div",{className:"p-6 text-center border-t border-gray-700/50 bg-black/20",children:c.jsxs("p",{className:"text-gray-500 text-sm",children:["Verse  ",new Date().getFullYear()," - UNWYRE TECH AND CONSULTING"]})})]}),p&&c.jsx(mv,{user:p,onClose:()=>g(null)}),y&&c.jsx(sd,{character:y,onClose:()=>b(null)})]})},xE=({onClose:e})=>{const{addCharacter:t}=ht(),{user:r}=De(),[n,s]=N.useState({username:"",name:"",title:"",bio:"",universe:"",verseTag:"",traits:"",customColor:"#8b5cf6",customFont:"Inter"}),i=a=>{if(a.preventDefault(),!r)return;const l={id:Date.now().toString(),username:n.username,name:n.name,title:n.title,avatar:"https://images.pexels.com/photos/1382734/pexels-photo-1382734.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",headerImage:"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=800&h=300",bio:n.bio,universe:n.universe,verseTag:n.verseTag,traits:n.traits.split(",").map(u=>u.trim()).filter(u=>u),userId:r.id,customColor:n.customColor,customFont:n.customFont,createdAt:new Date};t(l),e()},o=["Inter","Roboto","Open Sans","Lato","Montserrat","Playfair Display","Crimson Text","Merriweather","Courier New","Georgia"];return c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"Create New Character"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(Gt,{className:"w-6 h-6 text-gray-400"})})]}),c.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Username *"}),c.jsx("input",{type:"text",value:n.username,onChange:a=>s(l=>({...l,username:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"character_username",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Name *"}),c.jsx("input",{type:"text",value:n.name,onChange:a=>s(l=>({...l,name:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"Character's full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title/Role *"}),c.jsx("input",{type:"text",value:n.title,onChange:a=>s(l=>({...l,title:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Elven Ranger, Detective, Wizard",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Universe *"}),c.jsx("input",{type:"text",value:n.universe,onChange:a=>s(l=>({...l,universe:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Middle Earth, Marvel Universe",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Verse Tag *"}),c.jsx("input",{type:"text",value:n.verseTag,onChange:a=>s(l=>({...l,verseTag:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Marvel, Fantasy, SciFi",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Color"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"color",value:n.customColor,onChange:a=>s(l=>({...l,customColor:a.target.value})),className:"w-12 h-12 rounded-lg border border-gray-600 bg-gray-800"}),c.jsx("div",{className:"flex-1",children:c.jsx("input",{type:"text",value:n.customColor,onChange:a=>s(l=>({...l,customColor:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio *"}),c.jsx("textarea",{value:n.bio,onChange:a=>s(l=>({...l,bio:a.target.value})),rows:4,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",placeholder:"Describe your character's background, personality, and story...",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Traits (comma-separated)"}),c.jsx("input",{type:"text",value:n.traits,onChange:a=>s(l=>({...l,traits:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Brave, Mysterious, Loyal, Cunning"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Font"}),c.jsx("select",{value:n.customFont,onChange:a=>s(l=>({...l,customFont:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",children:o.map(a=>c.jsx("option",{value:a,style:{fontFamily:a},children:a},a))})]}),c.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[c.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Create Character"})]})]})]})})},mE=({onClose:e})=>{const{user:t,updateUser:r}=De(),[n,s]=N.useState({displayName:(t==null?void 0:t.displayName)||"",bio:(t==null?void 0:t.bio)||"",writersTag:(t==null?void 0:t.writersTag)||"",avatar:(t==null?void 0:t.avatar)||"",headerImage:(t==null?void 0:t.headerImage)||""}),i=o=>{o.preventDefault(),r(n),e()};return c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-lg mx-4",children:[c.jsxs("div",{className:"p-4 border-b border-gray-700/50 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"Edit Profile"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(Gt,{className:"w-6 h-6 text-gray-400"})})]}),c.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Header Image"}),c.jsx(la,{currentImage:n.headerImage,onImageChange:o=>s(a=>({...a,headerImage:o})),type:"header"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Picture"}),c.jsx(la,{currentImage:n.avatar,onImageChange:o=>s(a=>({...a,avatar:o})),type:"avatar",className:"w-32"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),c.jsx("input",{type:"text",value:n.displayName,onChange:o=>s(a=>({...a,displayName:o.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),c.jsx("textarea",{value:n.bio,onChange:o=>s(a=>({...a,bio:o.target.value})),rows:3,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",placeholder:"Tell us about yourself..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),c.jsx("input",{type:"text",value:n.writersTag,onChange:o=>s(a=>({...a,writersTag:o.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., fantasy, scifi, modern",required:!0})]})]}),c.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[c.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Save Changes"})]})]})]})})},gE=()=>{const{user:e,updateUser:t}=De(),{characters:r,posts:n,getUserFollowers:s,getUserFollowing:i}=ht(),[o,a]=N.useState("posts"),[l,u]=N.useState(!1),[d,h]=N.useState(!1),[f,p]=N.useState([]),[g,y]=N.useState([]),b=n.filter(w=>w.userId===(e==null?void 0:e.id)),v=r.filter(w=>w.userId===(e==null?void 0:e.id));N.useEffect(()=>{e&&(o==="followers"?m():o==="following"&&x())},[o,e]);const m=async()=>{if(e){const w=await s(e.id);p(w)}},x=async()=>{if(e){const w=await i(e.id);y(w)}};return e?c.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"h-48 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-800 relative",children:[c.jsx("img",{src:e.headerImage,alt:"Profile header",className:"w-full h-full object-cover"}),c.jsx("button",{className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:c.jsx(Ru,{className:"w-5 h-5 text-white"})})]}),c.jsxs("div",{className:"relative px-6 pb-6",children:[c.jsxs("div",{className:"flex items-end justify-between -mt-16 mb-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:e.avatar,alt:e.displayName,className:"w-32 h-32 rounded-full object-cover ring-4 ring-gray-900 bg-gray-900"}),c.jsx("button",{className:"absolute bottom-2 right-2 p-2 bg-purple-600 hover:bg-purple-700 rounded-full transition-colors",children:c.jsx(Ru,{className:"w-4 h-4 text-white"})})]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-full transition-colors text-white border border-gray-600",children:[c.jsx(nd,{className:"w-4 h-4"}),c.jsx("span",{children:"Edit Profile"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:e.displayName}),c.jsxs("p",{className:"text-gray-400",children:["@",e.username]})]}),c.jsx("p",{className:"text-gray-300",children:e.bio}),c.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Ha,{className:"w-4 h-4"}),c.jsxs("span",{children:["Joined ",e.createdAt.toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsxs("span",{children:["#",e.writersTag]})]})]}),c.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[c.jsxs("button",{onClick:()=>a("following"),className:"hover:text-white transition-colors",children:[c.jsx("span",{className:"font-bold text-white",children:e.following.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Following"})]}),c.jsxs("button",{onClick:()=>a("followers"),className:"hover:text-white transition-colors",children:[c.jsx("span",{className:"font-bold text-white",children:e.followers.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Followers"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-white",children:v.length}),c.jsx("span",{className:"text-gray-400 ml-1",children:"Characters"})]})]})]})]})]}),c.jsx("div",{className:"border-b border-gray-700/50 bg-black/20 sticky top-0 z-10",children:c.jsx("div",{className:"flex",children:[{key:"posts",label:"Posts",count:b.length},{key:"characters",label:"Characters",count:v.length},{key:"followers",label:"Followers",count:e.followers.length},{key:"following",label:"Following",count:e.following.length}].map(w=>c.jsxs("button",{onClick:()=>a(w.key),className:`flex-1 px-4 py-4 text-center transition-colors relative ${o===w.key?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,children:[c.jsx("span",{className:"font-medium",children:w.label}),w.count>0&&c.jsx("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-1 rounded-full",children:w.count})]},w.key))})}),c.jsxs("div",{className:"p-6",children:[o==="posts"&&c.jsx("div",{className:"space-y-4",children:b.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-400 mb-4",children:"No posts yet"}),c.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full transition-colors",children:"Create your first post"})]}):b.map(w=>c.jsxs("div",{className:"bg-gray-800/30 rounded-xl p-4 border border-gray-700/50",children:[c.jsx("p",{className:"text-white",children:w.content}),c.jsxs("div",{className:"flex items-center justify-between mt-3 text-gray-400 text-sm",children:[c.jsx("span",{children:w.timestamp.toLocaleDateString()}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("span",{children:[w.likes," likes"]}),c.jsxs("span",{children:[w.reposts," reposts"]})]})]})]},w.id))}),o==="characters"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Your Characters"}),c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:[c.jsx(Wa,{className:"w-4 h-4"}),c.jsx("span",{children:"New Character"})]})]}),v.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-400 mb-4",children:"No characters created yet"}),c.jsx("button",{onClick:()=>u(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full transition-colors",children:"Create your first character"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(w=>c.jsx(ei,{character:w},w.id))})]}),o==="followers"&&c.jsx("div",{className:"space-y-4",children:f.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"No followers yet"})}):f.map(w=>c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsx("img",{src:w.avatar,alt:w.displayName,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-medium",children:w.displayName}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",w.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#",w.writersTag]})]})]},w.id))}),o==="following"&&c.jsx("div",{className:"space-y-4",children:g.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"Not following anyone yet"})}):g.map(w=>c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[c.jsx("img",{src:w.avatar,alt:w.displayName,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-medium",children:w.displayName}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["@",w.username]}),c.jsxs("p",{className:"text-purple-300 text-sm",children:["#",w.writersTag]})]})]},w.id))})]}),l&&c.jsx(xE,{onClose:()=>u(!1)}),d&&c.jsx(mE,{onClose:()=>h(!1)})]}):null},vE=()=>{const{user:e,updateUser:t,enableTwoFactor:r}=De(),[n,s]=N.useState("privacy"),[i,o]=N.useState({currentPassword:"",newPassword:"",confirmPassword:"",email:(e==null?void 0:e.email)||"",otpCode:""}),a=[{key:"privacy",label:"Privacy & Safety",icon:AC},{key:"account",label:"Account",icon:fv},{key:"security",label:"Security",icon:aa},{key:"notifications",label:"Notifications",icon:oa}],l=async h=>{if(h.preventDefault(),i.newPassword!==i.confirmPassword){alert("Passwords do not match");return}console.log("Password change requested")},u=async()=>{i.email&&await r(i.email)},d=(h,f)=>{e&&t({privacySettings:{...e.privacySettings,[h]:f}})};return c.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[c.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Settings"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Manage your account and privacy preferences"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"w-64 border-r border-gray-700/50 bg-black/20 p-4",children:c.jsx("nav",{className:"space-y-2",children:a.map(h=>c.jsxs("button",{onClick:()=>s(h.key),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors ${n===h.key?"bg-purple-600/20 text-purple-300 border border-purple-500/30":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[c.jsx(h.icon,{className:"w-5 h-5"}),c.jsx("span",{children:h.label})]},h.key))})}),c.jsxs("div",{className:"flex-1 p-6",children:[n==="privacy"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[c.jsx(td,{className:"w-5 h-5 text-purple-400"}),c.jsx("span",{children:"Profile Visibility"})]}),c.jsx("div",{className:"space-y-4",children:[{value:"public",label:"Public",desc:"Anyone can see your profile"},{value:"followers",label:"Followers Only",desc:"Only your followers can see your profile"},{value:"private",label:"Private",desc:"Only you can see your profile"}].map(h=>c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"profileVisibility",value:h.value,checked:(e==null?void 0:e.privacySettings.profileVisibility)===h.value,onChange:f=>d("profileVisibility",f.target.value),className:"text-purple-600 focus:ring-purple-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:h.label}),c.jsx("p",{className:"text-gray-400 text-sm",children:h.desc})]})]},h.value))})]}),c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Message Permissions"}),c.jsx("div",{className:"space-y-4",children:[{value:"everyone",label:"Everyone",desc:"Anyone can send you messages"},{value:"followers",label:"Followers Only",desc:"Only your followers can message you"},{value:"none",label:"No One",desc:"Disable direct messages"}].map(h=>c.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"messagePermissions",value:h.value,checked:(e==null?void 0:e.privacySettings.messagePermissions)===h.value,onChange:f=>d("messagePermissions",f.target.value),className:"text-purple-600 focus:ring-purple-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:h.label}),c.jsx("p",{className:"text-gray-400 text-sm",children:h.desc})]})]},h.value))})]})]}),n==="account"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Account Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),c.jsx("input",{type:"text",value:e==null?void 0:e.username,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",readOnly:!0}),c.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Username cannot be changed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),c.jsx("input",{type:"text",value:e==null?void 0:e.displayName,onChange:h=>t({displayName:h.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),c.jsx("input",{type:"text",value:e==null?void 0:e.writersTag,onChange:h=>t({writersTag:h.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),c.jsx("textarea",{value:e==null?void 0:e.bio,onChange:h=>t({bio:h.target.value}),rows:3,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none"})]})]})]})}),n==="security"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[c.jsx(CC,{className:"w-5 h-5 text-purple-400"}),c.jsx("span",{children:"Change Password"})]}),c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),c.jsx("input",{type:"password",value:i.currentPassword,onChange:h=>o(f=>({...f,currentPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),c.jsx("input",{type:"password",value:i.newPassword,onChange:h=>o(f=>({...f,newPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),c.jsx("input",{type:"password",value:i.confirmPassword,onChange:h=>o(f=>({...f,confirmPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),c.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"Update Password"})]})]}),c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[c.jsx(DC,{className:"w-5 h-5 text-purple-400"}),c.jsx("span",{children:"Two-Factor Authentication"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:"2FA Status"}),c.jsx("p",{className:"text-gray-400 text-sm",children:e!=null&&e.twoFactorEnabled?"Enabled":"Disabled"})]}),c.jsx("div",{className:`w-4 h-4 rounded-full ${e!=null&&e.twoFactorEnabled?"bg-green-500":"bg-red-500"}`})]}),!(e!=null&&e.twoFactorEnabled)&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email for 2FA"}),c.jsx("input",{type:"email",value:i.email,onChange:h=>o(f=>({...f,email:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"your@email.com"})]}),c.jsx("button",{onClick:u,className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"Enable 2FA"})]})]})]})]}),n==="notifications"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Notification Preferences"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:"Tag Notifications"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when someone mentions you"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e==null?void 0:e.privacySettings.tagNotifications,onChange:h=>d("tagNotifications",h.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:"Direct Message Notifications"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified about new messages"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e==null?void 0:e.privacySettings.directMessageNotifications,onChange:h=>d("directMessageNotifications",h.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]})})]})]})]})},yE=({unreadNotifications:e,isOpen:t=!0,onToggle:r})=>{const n=Ng(),s=Ra(),{user:i,logout:o}=De(),a=[{icon:_C,label:"Home",path:"/"},{icon:os,label:"Explore",path:"/explore"},{icon:oa,label:"Notifications",path:"/notifications",badge:e},{icon:kC,label:"Messages",path:"/messages"},{icon:av,label:"Bookmarks",path:"/bookmarks"},{icon:fv,label:"Profile",path:"/profile"},{icon:SC,label:"Settings",path:"/settings"}];return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:r,className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-gray-900 rounded-full border border-gray-700",children:t?c.jsx(Gt,{className:"w-6 h-6 text-white"}):c.jsx(jC,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:`
        fixed md:sticky top-0 left-0 h-screen bg-black/20 backdrop-blur-sm border-r border-gray-700/50 z-40
        transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full"}
        md:translate-x-0 w-64 md:w-64
      `,children:[c.jsxs("div",{className:"p-6 space-y-8",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:c.jsx(rd,{className:"w-5 h-5 text-white"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"VERSE"})]}),c.jsx("nav",{className:"space-y-2",children:a.map(l=>c.jsxs("button",{onClick:()=>{n(l.path),r&&window.innerWidth<768&&r()},className:`w-full flex items-center space-x-4 px-4 py-3 rounded-xl transition-all duration-200 relative ${s.pathname===l.path?"bg-purple-600/20 text-purple-300 border border-purple-500/30":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[c.jsx(l.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"font-medium",children:l.label}),l.badge&&l.badge>0&&c.jsx("span",{className:"absolute right-3 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:l.badge>99?"99+":l.badge})]},l.label))}),c.jsxs("button",{onClick:()=>{n("/"),r&&window.innerWidth<768&&r()},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-purple-500/25",children:[c.jsx(Wa,{className:"w-5 h-5"}),c.jsx("span",{children:"Create Post"})]}),c.jsx("div",{className:"pt-8 border-t border-gray-700/50",children:c.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-800/50 transition-colors cursor-pointer group",children:[c.jsx("img",{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.displayName,className:"w-12 h-12 rounded-full object-cover ring-2 ring-purple-500/30"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-white font-medium truncate",children:i==null?void 0:i.displayName}),c.jsxs("p",{className:"text-gray-400 text-sm truncate",children:["@",i==null?void 0:i.username]})]}),c.jsx("button",{onClick:o,className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400 transition-all duration-200 text-sm",children:"Logout"})]})})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-center border-t border-gray-700/50 bg-black/20",children:c.jsxs("p",{className:"text-gray-500 text-xs",children:["Verse  ",new Date().getFullYear()," - UNWYRE TECH AND CONSULTING"]})})]}),t&&c.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-30",onClick:r})]})},wE=({children:e})=>{const{unreadNotifications:t}=ht(),[r,n]=N.useState(!1);return c.jsxs("div",{className:"max-w-7xl mx-auto flex min-h-screen",children:[c.jsx(yE,{unreadNotifications:t,isOpen:r,onToggle:()=>n(!r)}),c.jsx("main",{className:"flex-1 max-w-2xl border-x border-gray-700/50 md:ml-0",children:e}),c.jsx("div",{className:"hidden lg:block w-80 h-screen sticky top-0 p-6 bg-black/20 backdrop-blur-sm"})]})},bE=()=>{const{isAuthenticated:e,loading:t}=De();return t?c.jsx(xv,{}):e?c.jsx(wE,{children:c.jsxs(db,{children:[c.jsx(Qt,{path:"/",element:c.jsx(LC,{})}),c.jsx(Qt,{path:"/explore",element:c.jsx(MC,{})}),c.jsx(Qt,{path:"/notifications",element:c.jsx(hE,{})}),c.jsx(Qt,{path:"/messages",element:c.jsx(fE,{})}),c.jsx(Qt,{path:"/bookmarks",element:c.jsx(pE,{})}),c.jsx(Qt,{path:"/profile",element:c.jsx(gE,{})}),c.jsx(Qt,{path:"/settings",element:c.jsx(vE,{})}),c.jsx(Qt,{path:"*",element:c.jsx(cb,{to:"/",replace:!0})})]})}):c.jsx(TC,{})};function _E(){return c.jsx(dC,{children:c.jsx(hC,{children:c.jsx(pb,{children:c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:c.jsx(bE,{})})})})})}gg(document.getElementById("root")).render(c.jsx(N.StrictMode,{children:c.jsx(_E,{})}));
