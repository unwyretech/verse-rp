function e1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var fx={exports:{}},Ca={},px={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),t1=Symbol.for("react.portal"),r1=Symbol.for("react.fragment"),n1=Symbol.for("react.strict_mode"),s1=Symbol.for("react.profiler"),i1=Symbol.for("react.provider"),o1=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),l1=Symbol.for("react.suspense"),c1=Symbol.for("react.memo"),u1=Symbol.for("react.lazy"),Md=Symbol.iterator;function d1(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var xx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mx=Object.assign,gx={};function ws(e,t,r){this.props=e,this.context=t,this.refs=gx,this.updater=r||xx}ws.prototype.isReactComponent={};ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vx(){}vx.prototype=ws.prototype;function n0(e,t,r){this.props=e,this.context=t,this.refs=gx,this.updater=r||xx}var s0=n0.prototype=new vx;s0.constructor=n0;mx(s0,ws.prototype);s0.isPureReactComponent=!0;var Ud=Array.isArray,yx=Object.prototype.hasOwnProperty,i0={current:null},wx={key:!0,ref:!0,__self:!0,__source:!0};function bx(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)yx.call(t,n)&&!wx.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ti,type:e,key:i,ref:o,props:s,_owner:i0.current}}function h1(e,t){return{$$typeof:Ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function o0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ti}function f1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $d=/\/+/g;function al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?f1(""+e.key):t.toString(36)}function Co(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ti:case t1:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+al(o,0):n,Ud(s)?(r="",e!=null&&(r=e.replace($d,"$&/")+"/"),Co(s,t,r,"",function(u){return u})):s!=null&&(o0(s)&&(s=h1(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($d,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ud(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+al(i,a);o+=Co(i,t,r,c,s)}else if(c=d1(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+al(i,a++),o+=Co(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xi(e,t,r){if(e==null)return e;var n=[],s=0;return Co(e,n,"","",function(i){return t.call(r,i,s++)}),n}function p1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},ko={transition:null},x1={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:ko,ReactCurrentOwner:i0};function _x(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Xi,forEach:function(e,t,r){Xi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xi(e,function(){t++}),t},toArray:function(e){return Xi(e,function(t){return t})||[]},only:function(e){if(!o0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=ws;ce.Fragment=r1;ce.Profiler=s1;ce.PureComponent=n0;ce.StrictMode=n1;ce.Suspense=l1;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x1;ce.act=_x;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mx({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=i0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)yx.call(t,c)&&!wx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ti,type:e.type,key:s,ref:i,props:n,_owner:o}};ce.createContext=function(e){return e={$$typeof:o1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i1,_context:e},e.Consumer=e};ce.createElement=bx;ce.createFactory=function(e){var t=bx.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:a1,render:e}};ce.isValidElement=o0;ce.lazy=function(e){return{$$typeof:u1,_payload:{_status:-1,_result:e},_init:p1}};ce.memo=function(e,t){return{$$typeof:c1,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=ko.transition;ko.transition={};try{e()}finally{ko.transition=t}};ce.unstable_act=_x;ce.useCallback=function(e,t){return et.current.useCallback(e,t)};ce.useContext=function(e){return et.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return et.current.useDeferredValue(e)};ce.useEffect=function(e,t){return et.current.useEffect(e,t)};ce.useId=function(){return et.current.useId()};ce.useImperativeHandle=function(e,t,r){return et.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return et.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return et.current.useReducer(e,t,r)};ce.useRef=function(e){return et.current.useRef(e)};ce.useState=function(e){return et.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return et.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return et.current.useTransition()};ce.version="18.3.1";px.exports=ce;var N=px.exports;const a0=dx(N),m1=e1({__proto__:null,default:a0},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1=N,v1=Symbol.for("react.element"),y1=Symbol.for("react.fragment"),w1=Object.prototype.hasOwnProperty,b1=g1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_1={key:!0,ref:!0,__self:!0,__source:!0};function Cx(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)w1.call(t,n)&&!_1.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:v1,type:e,key:i,ref:o,props:s,_owner:b1.current}}Ca.Fragment=y1;Ca.jsx=Cx;Ca.jsxs=Cx;fx.exports=Ca;var l=fx.exports,kx={exports:{}},_t={},jx={exports:{}},Ex={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,M){var H=$.length;$.push(M);e:for(;0<H;){var F=H-1>>>1,L=$[F];if(0<s(L,M))$[F]=M,$[H]=L,H=F;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var M=$[0],H=$.pop();if(H!==M){$[0]=H;e:for(var F=0,L=$.length,z=L>>>1;F<z;){var U=2*(F+1)-1,ae=$[U],I=U+1,Z=$[I];if(0>s(ae,H))I<L&&0>s(Z,ae)?($[F]=Z,$[I]=H,F=I):($[F]=ae,$[U]=H,F=U);else if(I<L&&0>s(Z,H))$[F]=Z,$[I]=H,F=I;else break e}}return M}function s($,M){var H=$.sortIndex-M.sortIndex;return H!==0?H:$.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=$)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function b($){if(v=!1,x($),!g)if(r(c)!==null)g=!0,A(C);else{var M=r(u);M!==null&&Q(b,M.startTime-$)}}function C($,M){g=!1,v&&(v=!1,y(_),_=-1),p=!0;var H=f;try{for(x(M),h=r(c);h!==null&&(!(h.expirationTime>M)||$&&!B());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var L=F(h.expirationTime<=M);M=e.unstable_now(),typeof L=="function"?h.callback=L:h===r(c)&&n(c),x(M)}else n(c);h=r(c)}if(h!==null)var z=!0;else{var U=r(u);U!==null&&Q(b,U.startTime-M),z=!1}return z}finally{h=null,f=H,p=!1}}var k=!1,j=null,_=-1,T=5,E=-1;function B(){return!(e.unstable_now()-E<T)}function P(){if(j!==null){var $=e.unstable_now();E=$;var M=!0;try{M=j(!0,$)}finally{M?O():(k=!1,j=null)}}else k=!1}var O;if(typeof m=="function")O=function(){m(P)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,G=q.port2;q.port1.onmessage=P,O=function(){G.postMessage(null)}}else O=function(){w(P,0)};function A($){j=$,k||(k=!0,O())}function Q($,M){_=w(function(){$(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,A(C))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var H=f;f=M;try{return $()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,M){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=f;f=$;try{return M()}finally{f=H}},e.unstable_scheduleCallback=function($,M,H){var F=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,$={id:d++,callback:M,priorityLevel:$,startTime:H,expirationTime:L,sortIndex:-1},H>F?($.sortIndex=H,t(u,$),r(c)===null&&$===r(u)&&(v?(y(_),_=-1):v=!0,Q(b,H-F))):($.sortIndex=L,t(c,$),g||p||(g=!0,A(C))),$},e.unstable_shouldYield=B,e.unstable_wrapCallback=function($){var M=f;return function(){var H=f;f=M;try{return $.apply(this,arguments)}finally{f=H}}}})(Ex);jx.exports=Ex;var C1=jx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=N,wt=C1;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sx=new Set,ui={};function Cn(e,t){cs(e,t),cs(e+"Capture",t)}function cs(e,t){for(ui[e]=t,e=0;e<t.length;e++)Sx.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=Object.prototype.hasOwnProperty,j1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},zd={};function E1(e){return Lc.call(zd,e)?!0:Lc.call(Vd,e)?!1:j1.test(e)?zd[e]=!0:(Vd[e]=!0,!1)}function S1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N1(e,t,r,n){if(t===null||typeof t>"u"||S1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var l0=/[\-:]([a-z])/g;function c0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(l0,c0);ze[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(l0,c0);ze[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(l0,c0);ze[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function u0(e,t,r,n){var s=ze.hasOwnProperty(t)?ze[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N1(t,r,s,n)&&(r=null),n||s===null?E1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var mr=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),In=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),h0=Symbol.for("react.forward_ref"),Mc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),f0=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Px=Symbol.for("react.offscreen"),Hd=Symbol.iterator;function Ps(e){return e===null||typeof e!="object"?null:(e=Hd&&e[Hd]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,ll;function $s(e){if(ll===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ll=t&&t[1]||""}return`
`+ll+e}var cl=!1;function ul(e,t){if(!e||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$s(e):""}function A1(e){switch(e.tag){case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return e=ul(e.type,!1),e;case 11:return e=ul(e.type.render,!1),e;case 1:return e=ul(e.type,!0),e;default:return""}}function $c(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mn:return"Fragment";case In:return"Portal";case Ic:return"Profiler";case d0:return"StrictMode";case Mc:return"Suspense";case Uc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ax:return(e.displayName||"Context")+".Consumer";case Nx:return(e._context.displayName||"Context")+".Provider";case h0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case f0:return t=e.displayName||null,t!==null?t:$c(e.type)||"Memo";case _r:t=e._payload,e=e._init;try{return $c(e(t))}catch{}}return null}function P1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $c(t);case 8:return t===d0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D1(e){var t=Dx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zi(e){e._valueTracker||(e._valueTracker=D1(e))}function Bx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Dx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vc(e,t){var r=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fx(e,t){t=t.checked,t!=null&&u0(e,"checked",t,!1)}function zc(e,t){Fx(e,t);var r=Vr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hc(e,t.type,Vr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hc(e,t,r){(t!=="number"||Lo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vs=Array.isArray;function ts(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Vs(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vr(r)}}function Tx(e,t){var r=Vr(t.value),n=Vr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Gd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ji,Ox=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ji=Ji||document.createElement("div"),Ji.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ji.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function di(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B1=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){B1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function Lx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function Ix(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Lx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var F1=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kc(e,t){if(t){if(F1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Gc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=null;function p0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xc=null,rs=null,ns=null;function Qd(e){if(e=Li(e)){if(typeof Xc!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Na(t),Xc(e.stateNode,e.type,t))}}function Mx(e){rs?ns?ns.push(e):ns=[e]:rs=e}function Ux(){if(rs){var e=rs,t=ns;if(ns=rs=null,Qd(e),t)for(e=0;e<t.length;e++)Qd(t[e])}}function $x(e,t){return e(t)}function Vx(){}var dl=!1;function zx(e,t,r){if(dl)return e(t,r);dl=!0;try{return $x(e,t,r)}finally{dl=!1,(rs!==null||ns!==null)&&(Vx(),Ux())}}function hi(e,t){var r=e.stateNode;if(r===null)return null;var n=Na(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Yc=!1;if(dr)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Yc=!1}function T1(e,t,r,n,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Gs=!1,Io=null,Mo=!1,Zc=null,R1={onError:function(e){Gs=!0,Io=e}};function O1(e,t,r,n,s,i,o,a,c){Gs=!1,Io=null,T1.apply(R1,arguments)}function L1(e,t,r,n,s,i,o,a,c){if(O1.apply(this,arguments),Gs){if(Gs){var u=Io;Gs=!1,Io=null}else throw Error(W(198));Mo||(Mo=!0,Zc=u)}}function kn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Hx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xd(e){if(kn(e)!==e)throw Error(W(188))}function I1(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Xd(s),e;if(i===n)return Xd(s),t;i=i.sibling}throw Error(W(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function Wx(e){return e=I1(e),e!==null?qx(e):null}function qx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qx(e);if(t!==null)return t;e=e.sibling}return null}var Kx=wt.unstable_scheduleCallback,Yd=wt.unstable_cancelCallback,M1=wt.unstable_shouldYield,U1=wt.unstable_requestPaint,Ee=wt.unstable_now,$1=wt.unstable_getCurrentPriorityLevel,x0=wt.unstable_ImmediatePriority,Gx=wt.unstable_UserBlockingPriority,Uo=wt.unstable_NormalPriority,V1=wt.unstable_LowPriority,Qx=wt.unstable_IdlePriority,ka=null,Qt=null;function z1(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ka,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:q1,H1=Math.log,W1=Math.LN2;function q1(e){return e>>>=0,e===0?32:31-(H1(e)/W1|0)|0}var eo=64,to=4194304;function zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $o(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=zs(a):(i&=o,i!==0&&(n=zs(i)))}else o=r&~s,o!==0?n=zs(o):i!==0&&(n=zs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mt(t),s=1<<r,n|=e[r],t&=~s;return n}function K1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G1(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Mt(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=K1(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Jc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xx(){var e=eo;return eo<<=1,!(eo&4194240)&&(eo=64),e}function hl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ri(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=r}function Q1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function m0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var fe=0;function Yx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zx,g0,Jx,em,tm,eu=!1,ro=[],Fr=null,Tr=null,Rr=null,fi=new Map,pi=new Map,Er=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zd(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(t.pointerId)}}function Bs(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Li(t),t!==null&&g0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Y1(e,t,r,n,s){switch(t){case"focusin":return Fr=Bs(Fr,e,t,r,n,s),!0;case"dragenter":return Tr=Bs(Tr,e,t,r,n,s),!0;case"mouseover":return Rr=Bs(Rr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return fi.set(i,Bs(fi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,pi.set(i,Bs(pi.get(i)||null,e,t,r,n,s)),!0}return!1}function rm(e){var t=un(e.target);if(t!==null){var r=kn(t);if(r!==null){if(t=r.tag,t===13){if(t=Hx(r),t!==null){e.blockedOn=t,tm(e.priority,function(){Jx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qc=n,r.target.dispatchEvent(n),Qc=null}else return t=Li(r),t!==null&&g0(t),e.blockedOn=r,!1;t.shift()}return!0}function Jd(e,t,r){jo(e)&&r.delete(t)}function Z1(){eu=!1,Fr!==null&&jo(Fr)&&(Fr=null),Tr!==null&&jo(Tr)&&(Tr=null),Rr!==null&&jo(Rr)&&(Rr=null),fi.forEach(Jd),pi.forEach(Jd)}function Fs(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Z1)))}function xi(e){function t(s){return Fs(s,e)}if(0<ro.length){Fs(ro[0],e);for(var r=1;r<ro.length;r++){var n=ro[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fr!==null&&Fs(Fr,e),Tr!==null&&Fs(Tr,e),Rr!==null&&Fs(Rr,e),fi.forEach(t),pi.forEach(t),r=0;r<Er.length;r++)n=Er[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Er.length&&(r=Er[0],r.blockedOn===null);)rm(r),r.blockedOn===null&&Er.shift()}var ss=mr.ReactCurrentBatchConfig,Vo=!0;function J1(e,t,r,n){var s=fe,i=ss.transition;ss.transition=null;try{fe=1,v0(e,t,r,n)}finally{fe=s,ss.transition=i}}function ew(e,t,r,n){var s=fe,i=ss.transition;ss.transition=null;try{fe=4,v0(e,t,r,n)}finally{fe=s,ss.transition=i}}function v0(e,t,r,n){if(Vo){var s=tu(e,t,r,n);if(s===null)_l(e,t,n,zo,r),Zd(e,n);else if(Y1(s,e,t,r,n))n.stopPropagation();else if(Zd(e,n),t&4&&-1<X1.indexOf(e)){for(;s!==null;){var i=Li(s);if(i!==null&&Zx(i),i=tu(e,t,r,n),i===null&&_l(e,t,n,zo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else _l(e,t,n,null,r)}}var zo=null;function tu(e,t,r,n){if(zo=null,e=p0(n),e=un(e),e!==null)if(t=kn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Hx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function nm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($1()){case x0:return 1;case Gx:return 4;case Uo:case V1:return 16;case Qx:return 536870912;default:return 16}default:return 16}}var Ar=null,y0=null,Eo=null;function sm(){if(Eo)return Eo;var e,t=y0,r=t.length,n,s="value"in Ar?Ar.value:Ar.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Eo=s.slice(e,1<n?1-n:void 0)}function So(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function no(){return!0}function eh(){return!1}function Ct(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?no:eh,this.isPropagationStopped=eh,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),t}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w0=Ct(bs),Oi=Ce({},bs,{view:0,detail:0}),tw=Ct(Oi),fl,pl,Ts,ja=Ce({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(fl=e.screenX-Ts.screenX,pl=e.screenY-Ts.screenY):pl=fl=0,Ts=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),th=Ct(ja),rw=Ce({},ja,{dataTransfer:0}),nw=Ct(rw),sw=Ce({},Oi,{relatedTarget:0}),xl=Ct(sw),iw=Ce({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),ow=Ct(iw),aw=Ce({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lw=Ct(aw),cw=Ce({},bs,{data:0}),rh=Ct(cw),uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hw[e])?!!t[e]:!1}function b0(){return fw}var pw=Ce({},Oi,{key:function(e){if(e.key){var t=uw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b0,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xw=Ct(pw),mw=Ce({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=Ct(mw),gw=Ce({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b0}),vw=Ct(gw),yw=Ce({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ww=Ct(yw),bw=Ce({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_w=Ct(bw),Cw=[9,13,27,32],_0=dr&&"CompositionEvent"in window,Qs=null;dr&&"documentMode"in document&&(Qs=document.documentMode);var kw=dr&&"TextEvent"in window&&!Qs,im=dr&&(!_0||Qs&&8<Qs&&11>=Qs),sh=" ",ih=!1;function om(e,t){switch(e){case"keyup":return Cw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function jw(e,t){switch(e){case"compositionend":return am(t);case"keypress":return t.which!==32?null:(ih=!0,sh);case"textInput":return e=t.data,e===sh&&ih?null:e;default:return null}}function Ew(e,t){if(Un)return e==="compositionend"||!_0&&om(e,t)?(e=sm(),Eo=y0=Ar=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return im&&t.locale!=="ko"?null:t.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sw[e.type]:t==="textarea"}function lm(e,t,r,n){Mx(n),t=Ho(t,"onChange"),0<t.length&&(r=new w0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xs=null,mi=null;function Nw(e){ym(e,0)}function Ea(e){var t=zn(e);if(Bx(t))return e}function Aw(e,t){if(e==="change")return t}var cm=!1;if(dr){var ml;if(dr){var gl="oninput"in document;if(!gl){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),gl=typeof ah.oninput=="function"}ml=gl}else ml=!1;cm=ml&&(!document.documentMode||9<document.documentMode)}function lh(){Xs&&(Xs.detachEvent("onpropertychange",um),mi=Xs=null)}function um(e){if(e.propertyName==="value"&&Ea(mi)){var t=[];lm(t,mi,e,p0(e)),zx(Nw,t)}}function Pw(e,t,r){e==="focusin"?(lh(),Xs=t,mi=r,Xs.attachEvent("onpropertychange",um)):e==="focusout"&&lh()}function Dw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(mi)}function Bw(e,t){if(e==="click")return Ea(t)}function Fw(e,t){if(e==="input"||e==="change")return Ea(t)}function Tw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Tw;function gi(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Lc.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function ch(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uh(e,t){var r=ch(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ch(r)}}function dm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hm(){for(var e=window,t=Lo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Lo(e.document)}return t}function C0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rw(e){var t=hm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dm(r.ownerDocument.documentElement,r)){if(n!==null&&C0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=uh(r,i);var o=uh(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ow=dr&&"documentMode"in document&&11>=document.documentMode,$n=null,ru=null,Ys=null,nu=!1;function dh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||$n==null||$n!==Lo(n)||(n=$n,"selectionStart"in n&&C0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ys&&gi(Ys,n)||(Ys=n,n=Ho(ru,"onSelect"),0<n.length&&(t=new w0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$n)))}function so(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vn={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},vl={},fm={};dr&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Sa(e){if(vl[e])return vl[e];if(!Vn[e])return e;var t=Vn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fm)return vl[e]=t[r];return e}var pm=Sa("animationend"),xm=Sa("animationiteration"),mm=Sa("animationstart"),gm=Sa("transitionend"),vm=new Map,hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){vm.set(e,t),Cn(t,[e])}for(var yl=0;yl<hh.length;yl++){var wl=hh[yl],Lw=wl.toLowerCase(),Iw=wl[0].toUpperCase()+wl.slice(1);qr(Lw,"on"+Iw)}qr(pm,"onAnimationEnd");qr(xm,"onAnimationIteration");qr(mm,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(gm,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function fh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,L1(n,t,void 0,e),e.currentTarget=null}function ym(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;fh(s,a,u),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;fh(s,a,u),i=c}}}if(Mo)throw e=Zc,Mo=!1,Zc=null,e}function ge(e,t){var r=t[lu];r===void 0&&(r=t[lu]=new Set);var n=e+"__bubble";r.has(n)||(wm(t,e,2,!1),r.add(n))}function bl(e,t,r){var n=0;t&&(n|=4),wm(r,e,n,t)}var io="_reactListening"+Math.random().toString(36).slice(2);function vi(e){if(!e[io]){e[io]=!0,Sx.forEach(function(r){r!=="selectionchange"&&(Mw.has(r)||bl(r,!1,e),bl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[io]||(t[io]=!0,bl("selectionchange",!1,t))}}function wm(e,t,r,n){switch(nm(t)){case 1:var s=J1;break;case 4:s=ew;break;default:s=v0}r=s.bind(null,t,r,e),s=void 0,!Yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function _l(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=un(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}zx(function(){var u=i,d=p0(r),h=[];e:{var f=vm.get(e);if(f!==void 0){var p=w0,g=e;switch(e){case"keypress":if(So(r)===0)break e;case"keydown":case"keyup":p=xw;break;case"focusin":g="focus",p=xl;break;case"focusout":g="blur",p=xl;break;case"beforeblur":case"afterblur":p=xl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vw;break;case pm:case xm:case mm:p=ow;break;case gm:p=ww;break;case"scroll":p=tw;break;case"wheel":p=_w;break;case"copy":case"cut":case"paste":p=lw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nh}var v=(t&4)!==0,w=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,x;m!==null;){x=m;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,y!==null&&(b=hi(m,y),b!=null&&v.push(yi(m,b,x)))),w)break;m=m.return}0<v.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Qc&&(g=r.relatedTarget||r.fromElement)&&(un(g)||g[hr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?un(g):null,g!==null&&(w=kn(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=th,b="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=nh,b="onPointerLeave",y="onPointerEnter",m="pointer"),w=p==null?f:zn(p),x=g==null?f:zn(g),f=new v(b,m+"leave",p,r,d),f.target=w,f.relatedTarget=x,b=null,un(d)===u&&(v=new v(y,m+"enter",g,r,d),v.target=x,v.relatedTarget=w,b=v),w=b,p&&g)t:{for(v=p,y=g,m=0,x=v;x;x=Bn(x))m++;for(x=0,b=y;b;b=Bn(b))x++;for(;0<m-x;)v=Bn(v),m--;for(;0<x-m;)y=Bn(y),x--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=Bn(v),y=Bn(y)}v=null}else v=null;p!==null&&ph(h,f,p,v,!1),g!==null&&w!==null&&ph(h,w,g,v,!0)}}e:{if(f=u?zn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=Aw;else if(oh(f))if(cm)C=Fw;else{C=Dw;var k=Pw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Bw);if(C&&(C=C(e,u))){lm(h,C,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Hc(f,"number",f.value)}switch(k=u?zn(u):window,e){case"focusin":(oh(k)||k.contentEditable==="true")&&($n=k,ru=u,Ys=null);break;case"focusout":Ys=ru=$n=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,dh(h,r,d);break;case"selectionchange":if(Ow)break;case"keydown":case"keyup":dh(h,r,d)}var j;if(_0)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Un?om(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(im&&r.locale!=="ko"&&(Un||_!=="onCompositionStart"?_==="onCompositionEnd"&&Un&&(j=sm()):(Ar=d,y0="value"in Ar?Ar.value:Ar.textContent,Un=!0)),k=Ho(u,_),0<k.length&&(_=new rh(_,e,null,r,d),h.push({event:_,listeners:k}),j?_.data=j:(j=am(r),j!==null&&(_.data=j)))),(j=kw?jw(e,r):Ew(e,r))&&(u=Ho(u,"onBeforeInput"),0<u.length&&(d=new rh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}ym(h,t)})}function yi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ho(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hi(e,r),i!=null&&n.unshift(yi(e,i,s)),i=hi(e,t),i!=null&&n.push(yi(e,i,s))),e=e.return}return n}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ph(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=hi(r,i),c!=null&&o.unshift(yi(r,c,a))):s||(c=hi(r,i),c!=null&&o.push(yi(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Uw=/\r\n?/g,$w=/\u0000|\uFFFD/g;function xh(e){return(typeof e=="string"?e:""+e).replace(Uw,`
`).replace($w,"")}function oo(e,t,r){if(t=xh(t),xh(e)!==t&&r)throw Error(W(425))}function Wo(){}var su=null,iu=null;function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,Vw=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,zw=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(e){return mh.resolve(null).then(e).catch(Hw)}:au;function Hw(e){setTimeout(function(){throw e})}function Cl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),xi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);xi(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),Gt="__reactFiber$"+_s,wi="__reactProps$"+_s,hr="__reactContainer$"+_s,lu="__reactEvents$"+_s,Ww="__reactListeners$"+_s,qw="__reactHandles$"+_s;function un(e){var t=e[Gt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hr]||r[Gt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gh(e);e!==null;){if(r=e[Gt])return r;e=gh(e)}return t}e=r,r=e.parentNode}return null}function Li(e){return e=e[Gt]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Na(e){return e[wi]||null}var cu=[],Hn=-1;function Kr(e){return{current:e}}function ve(e){0>Hn||(e.current=cu[Hn],cu[Hn]=null,Hn--)}function xe(e,t){Hn++,cu[Hn]=e.current,e.current=t}var zr={},Qe=Kr(zr),dt=Kr(!1),vn=zr;function us(e,t){var r=e.type.contextTypes;if(!r)return zr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ht(e){return e=e.childContextTypes,e!=null}function qo(){ve(dt),ve(Qe)}function vh(e,t,r){if(Qe.current!==zr)throw Error(W(168));xe(Qe,t),xe(dt,r)}function bm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(W(108,P1(e)||"Unknown",s));return Ce({},r,n)}function Ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,vn=Qe.current,xe(Qe,e),xe(dt,dt.current),!0}function yh(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=bm(e,t,vn),n.__reactInternalMemoizedMergedChildContext=e,ve(dt),ve(Qe),xe(Qe,e)):ve(dt),xe(dt,r)}var sr=null,Aa=!1,kl=!1;function _m(e){sr===null?sr=[e]:sr.push(e)}function Kw(e){Aa=!0,_m(e)}function Gr(){if(!kl&&sr!==null){kl=!0;var e=0,t=fe;try{var r=sr;for(fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}sr=null,Aa=!1}catch(s){throw sr!==null&&(sr=sr.slice(e+1)),Kx(x0,Gr),s}finally{fe=t,kl=!1}}return null}var Wn=[],qn=0,Go=null,Qo=0,Et=[],St=0,yn=null,ir=1,or="";function rn(e,t){Wn[qn++]=Qo,Wn[qn++]=Go,Go=e,Qo=t}function Cm(e,t,r){Et[St++]=ir,Et[St++]=or,Et[St++]=yn,yn=e;var n=ir;e=or;var s=32-Mt(n)-1;n&=~(1<<s),r+=1;var i=32-Mt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ir=1<<32-Mt(t)+s|r<<s|n,or=i+e}else ir=1<<i|r<<s|n,or=e}function k0(e){e.return!==null&&(rn(e,1),Cm(e,1,0))}function j0(e){for(;e===Go;)Go=Wn[--qn],Wn[qn]=null,Qo=Wn[--qn],Wn[qn]=null;for(;e===yn;)yn=Et[--St],Et[St]=null,or=Et[--St],Et[St]=null,ir=Et[--St],Et[St]=null}var yt=null,vt=null,ye=!1,It=null;function km(e,t){var r=Nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yn!==null?{id:ir,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yt=e,vt=null,!0):!1;default:return!1}}function uu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if(ye){var t=vt;if(t){var r=t;if(!wh(e,t)){if(uu(e))throw Error(W(418));t=Or(r.nextSibling);var n=yt;t&&wh(e,t)?km(n,r):(e.flags=e.flags&-4097|2,ye=!1,yt=e)}}else{if(uu(e))throw Error(W(418));e.flags=e.flags&-4097|2,ye=!1,yt=e}}}function bh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function ao(e){if(e!==yt)return!1;if(!ye)return bh(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ou(e.type,e.memoizedProps)),t&&(t=vt)){if(uu(e))throw jm(),Error(W(418));for(;t;)km(e,t),t=Or(t.nextSibling)}if(bh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=Or(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?Or(e.stateNode.nextSibling):null;return!0}function jm(){for(var e=vt;e;)e=Or(e.nextSibling)}function ds(){vt=yt=null,ye=!1}function E0(e){It===null?It=[e]:It.push(e)}var Gw=mr.ReactCurrentBatchConfig;function Rs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function lo(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _h(e){var t=e._init;return t(e._payload)}function Em(e){function t(y,m){if(e){var x=y.deletions;x===null?(y.deletions=[m],y.flags|=16):x.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Ur(y,m),y.index=0,y.sibling=null,y}function i(y,m,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<m?(y.flags|=2,m):x):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,x,b){return m===null||m.tag!==6?(m=Dl(x,y.mode,b),m.return=y,m):(m=s(m,x),m.return=y,m)}function c(y,m,x,b){var C=x.type;return C===Mn?d(y,m,x.props.children,b,x.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_r&&_h(C)===m.type)?(b=s(m,x.props),b.ref=Rs(y,m,x),b.return=y,b):(b=To(x.type,x.key,x.props,null,y.mode,b),b.ref=Rs(y,m,x),b.return=y,b)}function u(y,m,x,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Bl(x,y.mode,b),m.return=y,m):(m=s(m,x.children||[]),m.return=y,m)}function d(y,m,x,b,C){return m===null||m.tag!==7?(m=xn(x,y.mode,b,C),m.return=y,m):(m=s(m,x),m.return=y,m)}function h(y,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Dl(""+m,y.mode,x),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yi:return x=To(m.type,m.key,m.props,null,y.mode,x),x.ref=Rs(y,null,m),x.return=y,x;case In:return m=Bl(m,y.mode,x),m.return=y,m;case _r:var b=m._init;return h(y,b(m._payload),x)}if(Vs(m)||Ps(m))return m=xn(m,y.mode,x,null),m.return=y,m;lo(y,m)}return null}function f(y,m,x,b){var C=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(y,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yi:return x.key===C?c(y,m,x,b):null;case In:return x.key===C?u(y,m,x,b):null;case _r:return C=x._init,f(y,m,C(x._payload),b)}if(Vs(x)||Ps(x))return C!==null?null:d(y,m,x,b,null);lo(y,x)}return null}function p(y,m,x,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(x)||null,a(m,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yi:return y=y.get(b.key===null?x:b.key)||null,c(m,y,b,C);case In:return y=y.get(b.key===null?x:b.key)||null,u(m,y,b,C);case _r:var k=b._init;return p(y,m,x,k(b._payload),C)}if(Vs(b)||Ps(b))return y=y.get(x)||null,d(m,y,b,C,null);lo(m,b)}return null}function g(y,m,x,b){for(var C=null,k=null,j=m,_=m=0,T=null;j!==null&&_<x.length;_++){j.index>_?(T=j,j=null):T=j.sibling;var E=f(y,j,x[_],b);if(E===null){j===null&&(j=T);break}e&&j&&E.alternate===null&&t(y,j),m=i(E,m,_),k===null?C=E:k.sibling=E,k=E,j=T}if(_===x.length)return r(y,j),ye&&rn(y,_),C;if(j===null){for(;_<x.length;_++)j=h(y,x[_],b),j!==null&&(m=i(j,m,_),k===null?C=j:k.sibling=j,k=j);return ye&&rn(y,_),C}for(j=n(y,j);_<x.length;_++)T=p(j,y,_,x[_],b),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?_:T.key),m=i(T,m,_),k===null?C=T:k.sibling=T,k=T);return e&&j.forEach(function(B){return t(y,B)}),ye&&rn(y,_),C}function v(y,m,x,b){var C=Ps(x);if(typeof C!="function")throw Error(W(150));if(x=C.call(x),x==null)throw Error(W(151));for(var k=C=null,j=m,_=m=0,T=null,E=x.next();j!==null&&!E.done;_++,E=x.next()){j.index>_?(T=j,j=null):T=j.sibling;var B=f(y,j,E.value,b);if(B===null){j===null&&(j=T);break}e&&j&&B.alternate===null&&t(y,j),m=i(B,m,_),k===null?C=B:k.sibling=B,k=B,j=T}if(E.done)return r(y,j),ye&&rn(y,_),C;if(j===null){for(;!E.done;_++,E=x.next())E=h(y,E.value,b),E!==null&&(m=i(E,m,_),k===null?C=E:k.sibling=E,k=E);return ye&&rn(y,_),C}for(j=n(y,j);!E.done;_++,E=x.next())E=p(j,y,_,E.value,b),E!==null&&(e&&E.alternate!==null&&j.delete(E.key===null?_:E.key),m=i(E,m,_),k===null?C=E:k.sibling=E,k=E);return e&&j.forEach(function(P){return t(y,P)}),ye&&rn(y,_),C}function w(y,m,x,b){if(typeof x=="object"&&x!==null&&x.type===Mn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yi:e:{for(var C=x.key,k=m;k!==null;){if(k.key===C){if(C=x.type,C===Mn){if(k.tag===7){r(y,k.sibling),m=s(k,x.props.children),m.return=y,y=m;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_r&&_h(C)===k.type){r(y,k.sibling),m=s(k,x.props),m.ref=Rs(y,k,x),m.return=y,y=m;break e}r(y,k);break}else t(y,k);k=k.sibling}x.type===Mn?(m=xn(x.props.children,y.mode,b,x.key),m.return=y,y=m):(b=To(x.type,x.key,x.props,null,y.mode,b),b.ref=Rs(y,m,x),b.return=y,y=b)}return o(y);case In:e:{for(k=x.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(y,m.sibling),m=s(m,x.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=Bl(x,y.mode,b),m.return=y,y=m}return o(y);case _r:return k=x._init,w(y,m,k(x._payload),b)}if(Vs(x))return g(y,m,x,b);if(Ps(x))return v(y,m,x,b);lo(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,x),m.return=y,y=m):(r(y,m),m=Dl(x,y.mode,b),m.return=y,y=m),o(y)):r(y,m)}return w}var hs=Em(!0),Sm=Em(!1),Xo=Kr(null),Yo=null,Kn=null,S0=null;function N0(){S0=Kn=Yo=null}function A0(e){var t=Xo.current;ve(Xo),e._currentValue=t}function hu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function is(e,t){Yo=e,S0=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(S0!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(Yo===null)throw Error(W(308));Kn=e,Yo.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var dn=null;function P0(e){dn===null?dn=[e]:dn.push(e)}function Nm(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,P0(t)):(r.next=s.next,s.next=r),t.interleaved=r,fr(e,n)}function fr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Cr=!1;function D0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Am(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,fr(e,r)}return s=n.interleaved,s===null?(t.next=t,P0(n)):(t.next=s.next,s.next=t),n.interleaved=t,fr(e,r)}function No(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,m0(e,r)}}function Ch(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zo(e,t,r,n){var s=e.updateQueue;Cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(f=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Ce({},h,f);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);bn|=o,e.lanes=o,e.memoizedState=h}}function kh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(W(191,s));s.call(n)}}}var Ii={},Xt=Kr(Ii),bi=Kr(Ii),_i=Kr(Ii);function hn(e){if(e===Ii)throw Error(W(174));return e}function B0(e,t){switch(xe(_i,t),xe(bi,e),xe(Xt,Ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qc(t,e)}ve(Xt),xe(Xt,t)}function fs(){ve(Xt),ve(bi),ve(_i)}function Pm(e){hn(_i.current);var t=hn(Xt.current),r=qc(t,e.type);t!==r&&(xe(bi,e),xe(Xt,r))}function F0(e){bi.current===e&&(ve(Xt),ve(bi))}var we=Kr(0);function Jo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function T0(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var Ao=mr.ReactCurrentDispatcher,El=mr.ReactCurrentBatchConfig,wn=0,_e=null,Te=null,Ie=null,ea=!1,Zs=!1,Ci=0,Qw=0;function We(){throw Error(W(321))}function R0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$t(e[r],t[r]))return!1;return!0}function O0(e,t,r,n,s,i){if(wn=i,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ao.current=e===null||e.memoizedState===null?Jw:e2,e=r(n,s),Zs){i=0;do{if(Zs=!1,Ci=0,25<=i)throw Error(W(301));i+=1,Ie=Te=null,t.updateQueue=null,Ao.current=t2,e=r(n,s)}while(Zs)}if(Ao.current=ta,t=Te!==null&&Te.next!==null,wn=0,Ie=Te=_e=null,ea=!1,t)throw Error(W(300));return e}function L0(){var e=Ci!==0;return Ci=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?_e.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Dt(){if(Te===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ie===null?_e.memoizedState:Ie.next;if(t!==null)Ie=t,Te=e;else{if(e===null)throw Error(W(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ie===null?_e.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function ki(e,t){return typeof t=="function"?t(e):t}function Sl(e){var t=Dt(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=Te,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((wn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=n):c=c.next=h,_e.lanes|=d,bn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=a,$t(n,t.memoizedState)||(ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,_e.lanes|=i,bn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nl(e){var t=Dt(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);$t(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Dm(){}function Bm(e,t){var r=_e,n=Dt(),s=t(),i=!$t(n.memoizedState,s);if(i&&(n.memoizedState=s,ut=!0),n=n.queue,I0(Rm.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,ji(9,Tm.bind(null,r,n,s,t),void 0,null),Me===null)throw Error(W(349));wn&30||Fm(r,t,s)}return s}function Fm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Tm(e,t,r,n){t.value=r,t.getSnapshot=n,Om(t)&&Lm(e)}function Rm(e,t,r){return r(function(){Om(t)&&Lm(e)})}function Om(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$t(e,r)}catch{return!0}}function Lm(e){var t=fr(e,1);t!==null&&Ut(t,e,1,-1)}function jh(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},t.queue=e,e=e.dispatch=Zw.bind(null,_e,e),[t.memoizedState,e]}function ji(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Im(){return Dt().memoizedState}function Po(e,t,r,n){var s=Kt();_e.flags|=e,s.memoizedState=ji(1|t,r,void 0,n===void 0?null:n)}function Pa(e,t,r,n){var s=Dt();n=n===void 0?null:n;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,n!==null&&R0(n,o.deps)){s.memoizedState=ji(t,r,i,n);return}}_e.flags|=e,s.memoizedState=ji(1|t,r,i,n)}function Eh(e,t){return Po(8390656,8,e,t)}function I0(e,t){return Pa(2048,8,e,t)}function Mm(e,t){return Pa(4,2,e,t)}function Um(e,t){return Pa(4,4,e,t)}function $m(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vm(e,t,r){return r=r!=null?r.concat([e]):null,Pa(4,4,$m.bind(null,t,e),r)}function M0(){}function zm(e,t){var r=Dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&R0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hm(e,t){var r=Dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&R0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wm(e,t,r){return wn&21?($t(r,t)||(r=Xx(),_e.lanes|=r,bn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=r)}function Xw(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var n=El.transition;El.transition={};try{e(!1),t()}finally{fe=r,El.transition=n}}function qm(){return Dt().memoizedState}function Yw(e,t,r){var n=Mr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Km(e))Gm(t,r);else if(r=Nm(e,t,r,n),r!==null){var s=Je();Ut(r,e,n,s),Qm(r,t,n)}}function Zw(e,t,r){var n=Mr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Km(e))Gm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,$t(a,o)){var c=t.interleaved;c===null?(s.next=s,P0(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Nm(e,t,s,n),r!==null&&(s=Je(),Ut(r,e,n,s),Qm(r,t,n))}}function Km(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Gm(e,t){Zs=ea=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,m0(e,r)}}var ta={readContext:Pt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Jw={readContext:Pt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Eh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Po(4194308,4,$m.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var r=Kt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Yw.bind(null,_e,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:jh,useDebugValue:M0,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=jh(!1),t=e[0];return e=Xw.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_e,s=Kt();if(ye){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Me===null)throw Error(W(349));wn&30||Fm(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Eh(Rm.bind(null,n,i,e),[e]),n.flags|=2048,ji(9,Tm.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Kt(),t=Me.identifierPrefix;if(ye){var r=or,n=ir;r=(n&~(1<<32-Mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ci++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Qw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e2={readContext:Pt,useCallback:zm,useContext:Pt,useEffect:I0,useImperativeHandle:Vm,useInsertionEffect:Mm,useLayoutEffect:Um,useMemo:Hm,useReducer:Sl,useRef:Im,useState:function(){return Sl(ki)},useDebugValue:M0,useDeferredValue:function(e){var t=Dt();return Wm(t,Te.memoizedState,e)},useTransition:function(){var e=Sl(ki)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Dm,useSyncExternalStore:Bm,useId:qm,unstable_isNewReconciler:!1},t2={readContext:Pt,useCallback:zm,useContext:Pt,useEffect:I0,useImperativeHandle:Vm,useInsertionEffect:Mm,useLayoutEffect:Um,useMemo:Hm,useReducer:Nl,useRef:Im,useState:function(){return Nl(ki)},useDebugValue:M0,useDeferredValue:function(e){var t=Dt();return Te===null?t.memoizedState=e:Wm(t,Te.memoizedState,e)},useTransition:function(){var e=Nl(ki)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Dm,useSyncExternalStore:Bm,useId:qm,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Da={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Je(),s=Mr(e),i=lr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Lr(e,i,s),t!==null&&(Ut(t,e,s,n),No(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Je(),s=Mr(e),i=lr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Lr(e,i,s),t!==null&&(Ut(t,e,s,n),No(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Je(),n=Mr(e),s=lr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Lr(e,s,n),t!==null&&(Ut(t,e,n,r),No(t,e,n))}};function Sh(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!gi(r,n)||!gi(s,i):!0}function Xm(e,t,r){var n=!1,s=zr,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(s=ht(t)?vn:Qe.current,n=t.contextTypes,i=(n=n!=null)?us(e,s):zr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Da,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Nh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Da.enqueueReplaceState(t,t.state,null)}function pu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},D0(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pt(i):(i=ht(t)?vn:Qe.current,s.context=us(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Da.enqueueReplaceState(s,s.state,null),Zo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var r="",n=t;do r+=A1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Al(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var r2=typeof WeakMap=="function"?WeakMap:Map;function Ym(e,t,r){r=lr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){na||(na=!0,ju=n),xu(e,t)},r}function Zm(e,t,r){r=lr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){xu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xu(e,t),typeof n!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ah(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new r2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=m2.bind(null,e,t,r),t.then(e,e))}function Ph(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=lr(-1,1),t.tag=2,Lr(r,t,1))),r.lanes|=1),e)}var n2=mr.ReactCurrentOwner,ut=!1;function Ze(e,t,r,n){t.child=e===null?Sm(t,null,r,n):hs(t,e.child,r,n)}function Bh(e,t,r,n,s){r=r.render;var i=t.ref;return is(t,s),n=O0(e,t,r,n,i,s),r=L0(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pr(e,t,s)):(ye&&r&&k0(t),t.flags|=1,Ze(e,t,n,s),t.child)}function Fh(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!K0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Jm(e,t,i,n,s)):(e=To(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:gi,r(o,n)&&e.ref===t.ref)return pr(e,t,s)}return t.flags|=1,e=Ur(i,n),e.ref=t.ref,e.return=t,t.child=e}function Jm(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(gi(i,n)&&e.ref===t.ref)if(ut=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,pr(e,t,s)}return mu(e,t,r,n,s)}function eg(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Qn,gt),gt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Qn,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,xe(Qn,gt),gt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,xe(Qn,gt),gt|=n;return Ze(e,t,s,r),t.child}function tg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function mu(e,t,r,n,s){var i=ht(r)?vn:Qe.current;return i=us(t,i),is(t,s),r=O0(e,t,r,n,i,s),n=L0(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pr(e,t,s)):(ye&&n&&k0(t),t.flags|=1,Ze(e,t,r,s),t.child)}function Th(e,t,r,n,s){if(ht(r)){var i=!0;Ko(t)}else i=!1;if(is(t,s),t.stateNode===null)Do(e,t),Xm(t,r,n),pu(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=ht(r)?vn:Qe.current,u=us(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Nh(t,o,n,u),Cr=!1;var f=t.memoizedState;o.state=f,Zo(t,n,o,s),c=t.memoizedState,a!==n||f!==c||dt.current||Cr?(typeof d=="function"&&(fu(t,r,d,n),c=t.memoizedState),(a=Cr||Sh(t,r,a,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Am(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Rt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=ht(r)?vn:Qe.current,c=us(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Nh(t,o,n,c),Cr=!1,f=t.memoizedState,o.state=f,Zo(t,n,o,s);var g=t.memoizedState;a!==h||f!==g||dt.current||Cr?(typeof p=="function"&&(fu(t,r,p,n),g=t.memoizedState),(u=Cr||Sh(t,r,u,n,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return gu(e,t,r,n,i,s)}function gu(e,t,r,n,s,i){tg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&yh(t,r,!1),pr(e,t,i);n=t.stateNode,n2.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=hs(t,e.child,null,i),t.child=hs(t,null,a,i)):Ze(e,t,a,i),t.memoizedState=n.state,s&&yh(t,r,!0),t.child}function rg(e){var t=e.stateNode;t.pendingContext?vh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vh(e,t.context,!1),B0(e,t.containerInfo)}function Rh(e,t,r,n,s){return ds(),E0(s),t.flags|=256,Ze(e,t,r,n),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function yu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ng(e,t,r){var n=t.pendingProps,s=we.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(we,s&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ta(o,n,0,null),e=xn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yu(r),t.memoizedState=vu,e):U0(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return s2(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ur(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ur(a,i):(i=xn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?yu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=vu,n}return i=e.child,e=i.sibling,n=Ur(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function U0(e,t){return t=Ta({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function co(e,t,r,n){return n!==null&&E0(n),hs(t,e.child,null,r),e=U0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s2(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Al(Error(W(422))),co(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ta({mode:"visible",children:n.children},s,0,null),i=xn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hs(t,e.child,null,o),t.child.memoizedState=yu(o),t.memoizedState=vu,i);if(!(t.mode&1))return co(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(W(419)),n=Al(i,n,void 0),co(e,t,o,n)}if(a=(o&e.childLanes)!==0,ut||a){if(n=Me,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fr(e,s),Ut(n,e,s,-1))}return q0(),n=Al(Error(W(421))),co(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=g2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=Or(s.nextSibling),yt=t,ye=!0,It=null,e!==null&&(Et[St++]=ir,Et[St++]=or,Et[St++]=yn,ir=e.id,or=e.overflow,yn=t),t=U0(t,n.children),t.flags|=4096,t)}function Oh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hu(e.return,t,r)}function Pl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function sg(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ze(e,t,n.children,r),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oh(e,r,t);else if(e.tag===19)Oh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xe(we,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Jo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Pl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Pl(t,!0,r,null,i);break;case"together":Pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Do(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),bn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Ur(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ur(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function i2(e,t,r){switch(t.tag){case 3:rg(t),ds();break;case 5:Pm(t);break;case 1:ht(t.type)&&Ko(t);break;case 4:B0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;xe(Xo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xe(we,we.current&1),t.flags|=128,null):r&t.child.childLanes?ng(e,t,r):(xe(we,we.current&1),e=pr(e,t,r),e!==null?e.sibling:null);xe(we,we.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,eg(e,t,r)}return pr(e,t,r)}var ig,wu,og,ag;ig=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wu=function(){};og=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,hn(Xt.current);var i=null;switch(r){case"input":s=Vc(e,s),n=Vc(e,n),i=[];break;case"select":s=Ce({},s,{value:void 0}),n=Ce({},n,{value:void 0}),i=[];break;case"textarea":s=Wc(e,s),n=Wc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wo)}Kc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ui.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ui.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ge("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ag=function(e,t,r,n){r!==n&&(t.flags|=4)};function Os(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function o2(e,t,r){var n=t.pendingProps;switch(j0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return ht(t.type)&&qo(),qe(t),null;case 3:return n=t.stateNode,fs(),ve(dt),ve(Qe),T0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Nu(It),It=null))),wu(e,t),qe(t),null;case 5:F0(t);var s=hn(_i.current);if(r=t.type,e!==null&&t.stateNode!=null)og(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return qe(t),null}if(e=hn(Xt.current),ao(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Gt]=t,n[wi]=i,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(s=0;s<Hs.length;s++)ge(Hs[s],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":Wd(n,i),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ge("invalid",n);break;case"textarea":Kd(n,i),ge("invalid",n)}Kc(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&oo(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&oo(n.textContent,a,e),s=["children",""+a]):ui.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ge("scroll",n)}switch(r){case"input":Zi(n),qd(n,i,!0);break;case"textarea":Zi(n),Gd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Gt]=t,e[wi]=n,ig(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gc(r,n),r){case"dialog":ge("cancel",e),ge("close",e),s=n;break;case"iframe":case"object":case"embed":ge("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hs.length;s++)ge(Hs[s],e);s=n;break;case"source":ge("error",e),s=n;break;case"img":case"image":case"link":ge("error",e),ge("load",e),s=n;break;case"details":ge("toggle",e),s=n;break;case"input":Wd(e,n),s=Vc(e,n),ge("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ce({},n,{value:void 0}),ge("invalid",e);break;case"textarea":Kd(e,n),s=Wc(e,n),ge("invalid",e);break;default:s=n}Kc(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ix(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ox(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&di(e,c):typeof c=="number"&&di(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ui.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ge("scroll",e):c!=null&&u0(e,i,c,o))}switch(r){case"input":Zi(e),qd(e,n,!1);break;case"textarea":Zi(e),Gd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ts(e,!!n.multiple,i,!1):n.defaultValue!=null&&ts(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)ag(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=hn(_i.current),hn(Xt.current),ao(t)){if(n=t.stateNode,r=t.memoizedProps,n[Gt]=t,(i=n.nodeValue!==r)&&(e=yt,e!==null))switch(e.tag){case 3:oo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oo(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gt]=t,t.stateNode=n}return qe(t),null;case 13:if(ve(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&vt!==null&&t.mode&1&&!(t.flags&128))jm(),ds(),t.flags|=98560,i=!1;else if(i=ao(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Gt]=t}else ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else It!==null&&(Nu(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Re===0&&(Re=3):q0())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return fs(),wu(e,t),e===null&&vi(t.stateNode.containerInfo),qe(t),null;case 10:return A0(t.type._context),qe(t),null;case 17:return ht(t.type)&&qo(),qe(t),null;case 19:if(ve(we),i=t.memoizedState,i===null)return qe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Os(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Jo(e),o!==null){for(t.flags|=128,Os(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xe(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>xs&&(t.flags|=128,n=!0,Os(i,!1),t.lanes=4194304)}else{if(!n)if(e=Jo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return qe(t),null}else 2*Ee()-i.renderingStartTime>xs&&r!==1073741824&&(t.flags|=128,n=!0,Os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,r=we.current,xe(we,n?r&1|2:r&1),t):(qe(t),null);case 22:case 23:return W0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function a2(e,t){switch(j0(t),t.tag){case 1:return ht(t.type)&&qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fs(),ve(dt),ve(Qe),T0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return F0(t),null;case 13:if(ve(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(we),null;case 4:return fs(),null;case 10:return A0(t.type._context),null;case 22:case 23:return W0(),null;case 24:return null;default:return null}}var uo=!1,Ge=!1,l2=typeof WeakSet=="function"?WeakSet:Set,X=null;function Gn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(e,t,n)}else r.current=null}function bu(e,t,r){try{r()}catch(n){ke(e,t,n)}}var Lh=!1;function c2(e,t){if(su=Vo,e=hm(),C0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(iu={focusedElem:e,selectionRange:r},Vo=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Rt(t.type,v),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){ke(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return g=Lh,Lh=!1,g}function Js(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bu(t,r,i)}s=s.next}while(s!==n)}}function Ba(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _u(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lg(e){var t=e.alternate;t!==null&&(e.alternate=null,lg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[wi],delete t[lu],delete t[Ww],delete t[qw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cg(e){return e.tag===5||e.tag===3||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wo));else if(n!==4&&(e=e.child,e!==null))for(Cu(e,t,r),e=e.sibling;e!==null;)Cu(e,t,r),e=e.sibling}function ku(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ku(e,t,r),e=e.sibling;e!==null;)ku(e,t,r),e=e.sibling}var $e=null,Ot=!1;function yr(e,t,r){for(r=r.child;r!==null;)ug(e,t,r),r=r.sibling}function ug(e,t,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ka,r)}catch{}switch(r.tag){case 5:Ge||Gn(r,t);case 6:var n=$e,s=Ot;$e=null,yr(e,t,r),$e=n,Ot=s,$e!==null&&(Ot?(e=$e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$e.removeChild(r.stateNode));break;case 18:$e!==null&&(Ot?(e=$e,r=r.stateNode,e.nodeType===8?Cl(e.parentNode,r):e.nodeType===1&&Cl(e,r),xi(e)):Cl($e,r.stateNode));break;case 4:n=$e,s=Ot,$e=r.stateNode.containerInfo,Ot=!0,yr(e,t,r),$e=n,Ot=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bu(r,t,o),s=s.next}while(s!==n)}yr(e,t,r);break;case 1:if(!Ge&&(Gn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ke(r,t,a)}yr(e,t,r);break;case 21:yr(e,t,r);break;case 22:r.mode&1?(Ge=(n=Ge)||r.memoizedState!==null,yr(e,t,r),Ge=n):yr(e,t,r);break;default:yr(e,t,r)}}function Mh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new l2),t.forEach(function(n){var s=v2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:$e=a.stateNode,Ot=!1;break e;case 3:$e=a.stateNode.containerInfo,Ot=!0;break e;case 4:$e=a.stateNode.containerInfo,Ot=!0;break e}a=a.return}if($e===null)throw Error(W(160));ug(i,o,s),$e=null,Ot=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ke(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dg(t,e),t=t.sibling}function dg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),qt(e),n&4){try{Js(3,e,e.return),Ba(3,e)}catch(v){ke(e,e.return,v)}try{Js(5,e,e.return)}catch(v){ke(e,e.return,v)}}break;case 1:Ft(t,e),qt(e),n&512&&r!==null&&Gn(r,r.return);break;case 5:if(Ft(t,e),qt(e),n&512&&r!==null&&Gn(r,r.return),e.flags&32){var s=e.stateNode;try{di(s,"")}catch(v){ke(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Fx(s,i),Gc(a,o);var u=Gc(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Ix(s,h):d==="dangerouslySetInnerHTML"?Ox(s,h):d==="children"?di(s,h):u0(s,d,h,u)}switch(a){case"input":zc(s,i);break;case"textarea":Tx(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ts(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ts(s,!!i.multiple,i.defaultValue,!0):ts(s,!!i.multiple,i.multiple?[]:"",!1))}s[wi]=i}catch(v){ke(e,e.return,v)}}break;case 6:if(Ft(t,e),qt(e),n&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ke(e,e.return,v)}}break;case 3:if(Ft(t,e),qt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(v){ke(e,e.return,v)}break;case 4:Ft(t,e),qt(e);break;case 13:Ft(t,e),qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(z0=Ee())),n&4&&Mh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||d,Ft(t,e),Ge=u):Ft(t,e),qt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,p=f.child,f.tag){case 0:case 11:case 14:case 15:Js(4,f,f.return);break;case 1:Gn(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){ke(n,r,v)}}break;case 5:Gn(f,f.return);break;case 22:if(f.memoizedState!==null){$h(h);continue}}p!==null?(p.return=f,X=p):$h(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Lx("display",o))}catch(v){ke(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ke(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ft(t,e),qt(e),n&4&&Mh(e);break;case 21:break;default:Ft(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cg(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(di(s,""),n.flags&=-33);var i=Ih(e);ku(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Ih(e);Cu(e,a,o);break;default:throw Error(W(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u2(e,t,r){X=e,hg(e)}function hg(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||uo;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ge;a=uo;var u=Ge;if(uo=o,(Ge=c)&&!u)for(X=s;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?Vh(s):c!==null?(c.return=o,X=c):Vh(s);for(;i!==null;)X=i,hg(i),i=i.sibling;X=s,uo=a,Ge=u}Uh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Uh(e)}}function Uh(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Ba(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ge)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Rt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kh(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kh(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&xi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ge||t.flags&512&&_u(t)}catch(f){ke(t,t.return,f)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function $h(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function Vh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ba(4,t)}catch(c){ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ke(t,s,c)}}var i=t.return;try{_u(t)}catch(c){ke(t,i,c)}break;case 5:var o=t.return;try{_u(t)}catch(c){ke(t,o,c)}}}catch(c){ke(t,t.return,c)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var d2=Math.ceil,ra=mr.ReactCurrentDispatcher,$0=mr.ReactCurrentOwner,At=mr.ReactCurrentBatchConfig,he=0,Me=null,Pe=null,Ve=0,gt=0,Qn=Kr(0),Re=0,Ei=null,bn=0,Fa=0,V0=0,ei=null,lt=null,z0=0,xs=1/0,rr=null,na=!1,ju=null,Ir=null,ho=!1,Pr=null,sa=0,ti=0,Eu=null,Bo=-1,Fo=0;function Je(){return he&6?Ee():Bo!==-1?Bo:Bo=Ee()}function Mr(e){return e.mode&1?he&2&&Ve!==0?Ve&-Ve:Gw.transition!==null?(Fo===0&&(Fo=Xx()),Fo):(e=fe,e!==0||(e=window.event,e=e===void 0?16:nm(e.type)),e):1}function Ut(e,t,r,n){if(50<ti)throw ti=0,Eu=null,Error(W(185));Ri(e,r,n),(!(he&2)||e!==Me)&&(e===Me&&(!(he&2)&&(Fa|=r),Re===4&&Sr(e,Ve)),ft(e,n),r===1&&he===0&&!(t.mode&1)&&(xs=Ee()+500,Aa&&Gr()))}function ft(e,t){var r=e.callbackNode;G1(e,t);var n=$o(e,e===Me?Ve:0);if(n===0)r!==null&&Yd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yd(r),t===1)e.tag===0?Kw(zh.bind(null,e)):_m(zh.bind(null,e)),zw(function(){!(he&6)&&Gr()}),r=null;else{switch(Yx(n)){case 1:r=x0;break;case 4:r=Gx;break;case 16:r=Uo;break;case 536870912:r=Qx;break;default:r=Uo}r=wg(r,fg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function fg(e,t){if(Bo=-1,Fo=0,he&6)throw Error(W(327));var r=e.callbackNode;if(os()&&e.callbackNode!==r)return null;var n=$o(e,e===Me?Ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ia(e,n);else{t=n;var s=he;he|=2;var i=xg();(Me!==e||Ve!==t)&&(rr=null,xs=Ee()+500,pn(e,t));do try{p2();break}catch(a){pg(e,a)}while(!0);N0(),ra.current=i,he=s,Pe!==null?t=0:(Me=null,Ve=0,t=Re)}if(t!==0){if(t===2&&(s=Jc(e),s!==0&&(n=s,t=Su(e,s))),t===1)throw r=Ei,pn(e,0),Sr(e,n),ft(e,Ee()),r;if(t===6)Sr(e,n);else{if(s=e.current.alternate,!(n&30)&&!h2(s)&&(t=ia(e,n),t===2&&(i=Jc(e),i!==0&&(n=i,t=Su(e,i))),t===1))throw r=Ei,pn(e,0),Sr(e,n),ft(e,Ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:nn(e,lt,rr);break;case 3:if(Sr(e,n),(n&130023424)===n&&(t=z0+500-Ee(),10<t)){if($o(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=au(nn.bind(null,e,lt,rr),t);break}nn(e,lt,rr);break;case 4:if(Sr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Mt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*d2(n/1960))-n,10<n){e.timeoutHandle=au(nn.bind(null,e,lt,rr),n);break}nn(e,lt,rr);break;case 5:nn(e,lt,rr);break;default:throw Error(W(329))}}}return ft(e,Ee()),e.callbackNode===r?fg.bind(null,e):null}function Su(e,t){var r=ei;return e.current.memoizedState.isDehydrated&&(pn(e,t).flags|=256),e=ia(e,t),e!==2&&(t=lt,lt=r,t!==null&&Nu(t)),e}function Nu(e){lt===null?lt=e:lt.push.apply(lt,e)}function h2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!$t(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t){for(t&=~V0,t&=~Fa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mt(t),n=1<<r;e[r]=-1,t&=~n}}function zh(e){if(he&6)throw Error(W(327));os();var t=$o(e,0);if(!(t&1))return ft(e,Ee()),null;var r=ia(e,t);if(e.tag!==0&&r===2){var n=Jc(e);n!==0&&(t=n,r=Su(e,n))}if(r===1)throw r=Ei,pn(e,0),Sr(e,t),ft(e,Ee()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,lt,rr),ft(e,Ee()),null}function H0(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(xs=Ee()+500,Aa&&Gr())}}function _n(e){Pr!==null&&Pr.tag===0&&!(he&6)&&os();var t=he;he|=1;var r=At.transition,n=fe;try{if(At.transition=null,fe=1,e)return e()}finally{fe=n,At.transition=r,he=t,!(he&6)&&Gr()}}function W0(){gt=Qn.current,ve(Qn)}function pn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Vw(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(j0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qo();break;case 3:fs(),ve(dt),ve(Qe),T0();break;case 5:F0(n);break;case 4:fs();break;case 13:ve(we);break;case 19:ve(we);break;case 10:A0(n.type._context);break;case 22:case 23:W0()}r=r.return}if(Me=e,Pe=e=Ur(e.current,null),Ve=gt=t,Re=0,Ei=null,V0=Fa=bn=0,lt=ei=null,dn!==null){for(t=0;t<dn.length;t++)if(r=dn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}dn=null}return e}function pg(e,t){do{var r=Pe;try{if(N0(),Ao.current=ta,ea){for(var n=_e.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ea=!1}if(wn=0,Ie=Te=_e=null,Zs=!1,Ci=0,$0.current=null,r===null||r.return===null){Re=1,Ei=t,Pe=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=Ve,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ph(o);if(p!==null){p.flags&=-257,Dh(p,o,a,i,t),p.mode&1&&Ah(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Ah(i,u,t),q0();break e}c=Error(W(426))}}else if(ye&&a.mode&1){var w=Ph(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Dh(w,o,a,i,t),E0(ps(c,a));break e}}i=c=ps(c,a),Re!==4&&(Re=2),ei===null?ei=[i]:ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Ym(i,c,t);Ch(i,y);break e;case 1:a=c;var m=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ir===null||!Ir.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Zm(i,a,t);Ch(i,b);break e}}i=i.return}while(i!==null)}gg(r)}catch(C){t=C,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function xg(){var e=ra.current;return ra.current=ta,e===null?ta:e}function q0(){(Re===0||Re===3||Re===2)&&(Re=4),Me===null||!(bn&268435455)&&!(Fa&268435455)||Sr(Me,Ve)}function ia(e,t){var r=he;he|=2;var n=xg();(Me!==e||Ve!==t)&&(rr=null,pn(e,t));do try{f2();break}catch(s){pg(e,s)}while(!0);if(N0(),he=r,ra.current=n,Pe!==null)throw Error(W(261));return Me=null,Ve=0,Re}function f2(){for(;Pe!==null;)mg(Pe)}function p2(){for(;Pe!==null&&!M1();)mg(Pe)}function mg(e){var t=yg(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?gg(e):Pe=t,$0.current=null}function gg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=a2(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Pe=null;return}}else if(r=o2(r,t,gt),r!==null){Pe=r;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Re===0&&(Re=5)}function nn(e,t,r){var n=fe,s=At.transition;try{At.transition=null,fe=1,x2(e,t,r,n)}finally{At.transition=s,fe=n}return null}function x2(e,t,r,n){do os();while(Pr!==null);if(he&6)throw Error(W(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Q1(e,i),e===Me&&(Pe=Me=null,Ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ho||(ho=!0,wg(Uo,function(){return os(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=At.transition,At.transition=null;var o=fe;fe=1;var a=he;he|=4,$0.current=null,c2(e,r),dg(r,e),Rw(iu),Vo=!!su,iu=su=null,e.current=r,u2(r),U1(),he=a,fe=o,At.transition=i}else e.current=r;if(ho&&(ho=!1,Pr=e,sa=s),i=e.pendingLanes,i===0&&(Ir=null),z1(r.stateNode),ft(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(na)throw na=!1,e=ju,ju=null,e;return sa&1&&e.tag!==0&&os(),i=e.pendingLanes,i&1?e===Eu?ti++:(ti=0,Eu=e):ti=0,Gr(),null}function os(){if(Pr!==null){var e=Yx(sa),t=At.transition,r=fe;try{if(At.transition=null,fe=16>e?16:e,Pr===null)var n=!1;else{if(e=Pr,Pr=null,sa=0,he&6)throw Error(W(331));var s=he;for(he|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Js(8,d,i)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,p=d.return;if(lg(d),d===u){X=null;break}if(f!==null){f.return=p,X=f;break}X=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Js(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,X=y;break e}X=i.return}}var m=e.current;for(X=m;X!==null;){o=X;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,X=x;else e:for(o=m;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ba(9,a)}}catch(C){ke(a,a.return,C)}if(a===o){X=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,X=b;break e}X=a.return}}if(he=s,Gr(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ka,e)}catch{}n=!0}return n}finally{fe=r,At.transition=t}}return!1}function Hh(e,t,r){t=ps(r,t),t=Ym(e,t,1),e=Lr(e,t,1),t=Je(),e!==null&&(Ri(e,1,t),ft(e,t))}function ke(e,t,r){if(e.tag===3)Hh(e,e,r);else for(;t!==null;){if(t.tag===3){Hh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ir===null||!Ir.has(n))){e=ps(r,e),e=Zm(t,e,1),t=Lr(t,e,1),e=Je(),t!==null&&(Ri(t,1,e),ft(t,e));break}}t=t.return}}function m2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&r,Me===e&&(Ve&r)===r&&(Re===4||Re===3&&(Ve&130023424)===Ve&&500>Ee()-z0?pn(e,0):V0|=r),ft(e,t)}function vg(e,t){t===0&&(e.mode&1?(t=to,to<<=1,!(to&130023424)&&(to=4194304)):t=1);var r=Je();e=fr(e,t),e!==null&&(Ri(e,t,r),ft(e,r))}function g2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vg(e,r)}function v2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),vg(e,r)}var yg;yg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ut=!1,i2(e,t,r);ut=!!(e.flags&131072)}else ut=!1,ye&&t.flags&1048576&&Cm(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Do(e,t),e=t.pendingProps;var s=us(t,Qe.current);is(t,r),s=O0(null,t,n,e,s,r);var i=L0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(n)?(i=!0,Ko(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,D0(t),s.updater=Da,t.stateNode=s,s._reactInternals=t,pu(t,n,e,r),t=gu(null,t,n,!0,i,r)):(t.tag=0,ye&&i&&k0(t),Ze(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Do(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=w2(n),e=Rt(n,e),s){case 0:t=mu(null,t,n,e,r);break e;case 1:t=Th(null,t,n,e,r);break e;case 11:t=Bh(null,t,n,e,r);break e;case 14:t=Fh(null,t,n,Rt(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),mu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),Th(e,t,n,s,r);case 3:e:{if(rg(t),e===null)throw Error(W(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Am(e,t),Zo(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ps(Error(W(423)),t),t=Rh(e,t,n,r,s);break e}else if(n!==s){s=ps(Error(W(424)),t),t=Rh(e,t,n,r,s);break e}else for(vt=Or(t.stateNode.containerInfo.firstChild),yt=t,ye=!0,It=null,r=Sm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ds(),n===s){t=pr(e,t,r);break e}Ze(e,t,n,r)}t=t.child}return t;case 5:return Pm(t),e===null&&du(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ou(n,s)?o=null:i!==null&&ou(n,i)&&(t.flags|=32),tg(e,t),Ze(e,t,o,r),t.child;case 6:return e===null&&du(t),null;case 13:return ng(e,t,r);case 4:return B0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hs(t,null,n,r):Ze(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),Bh(e,t,n,s,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,xe(Xo,n._currentValue),n._currentValue=o,i!==null)if($t(i.value,o)){if(i.children===s.children&&!dt.current){t=pr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=lr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),hu(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),hu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,is(t,r),s=Pt(s),n=n(s),t.flags|=1,Ze(e,t,n,r),t.child;case 14:return n=t.type,s=Rt(n,t.pendingProps),s=Rt(n.type,s),Fh(e,t,n,s,r);case 15:return Jm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rt(n,s),Do(e,t),t.tag=1,ht(n)?(e=!0,Ko(t)):e=!1,is(t,r),Xm(t,n,s),pu(t,n,s,r),gu(null,t,n,!0,e,r);case 19:return sg(e,t,r);case 22:return eg(e,t,r)}throw Error(W(156,t.tag))};function wg(e,t){return Kx(e,t)}function y2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,r,n){return new y2(e,t,r,n)}function K0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w2(e){if(typeof e=="function")return K0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===h0)return 11;if(e===f0)return 14}return 2}function Ur(e,t){var r=e.alternate;return r===null?(r=Nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function To(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")K0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mn:return xn(r.children,s,i,t);case d0:o=8,s|=8;break;case Ic:return e=Nt(12,r,t,s|2),e.elementType=Ic,e.lanes=i,e;case Mc:return e=Nt(13,r,t,s),e.elementType=Mc,e.lanes=i,e;case Uc:return e=Nt(19,r,t,s),e.elementType=Uc,e.lanes=i,e;case Px:return Ta(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nx:o=10;break e;case Ax:o=9;break e;case h0:o=11;break e;case f0:o=14;break e;case _r:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Nt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function xn(e,t,r,n){return e=Nt(7,e,n,t),e.lanes=r,e}function Ta(e,t,r,n){return e=Nt(22,e,n,t),e.elementType=Px,e.lanes=r,e.stateNode={isHidden:!1},e}function Dl(e,t,r){return e=Nt(6,e,null,t),e.lanes=r,e}function Bl(e,t,r){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function G0(e,t,r,n,s,i,o,a,c){return e=new b2(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},D0(i),e}function _2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bg(e){if(!e)return zr;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(ht(r))return bm(e,r,t)}return t}function _g(e,t,r,n,s,i,o,a,c){return e=G0(r,n,!0,e,s,i,o,a,c),e.context=bg(null),r=e.current,n=Je(),s=Mr(r),i=lr(n,s),i.callback=t??null,Lr(r,i,s),e.current.lanes=s,Ri(e,s,n),ft(e,n),e}function Ra(e,t,r,n){var s=t.current,i=Je(),o=Mr(s);return r=bg(r),t.context===null?t.context=r:t.pendingContext=r,t=lr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Lr(s,t,o),e!==null&&(Ut(e,s,o,i),No(e,s,o)),o}function oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Q0(e,t){Wh(e,t),(e=e.alternate)&&Wh(e,t)}function C2(){return null}var Cg=typeof reportError=="function"?reportError:function(e){console.error(e)};function X0(e){this._internalRoot=e}Oa.prototype.render=X0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Ra(e,t,null,null)};Oa.prototype.unmount=X0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_n(function(){Ra(null,e,null,null)}),t[hr]=null}};function Oa(e){this._internalRoot=e}Oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=em();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Er.length&&t!==0&&t<Er[r].priority;r++);Er.splice(r,0,e),r===0&&rm(e)}};function Y0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qh(){}function k2(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=oa(o);i.call(u)}}var o=_g(t,n,e,0,null,!1,!1,"",qh);return e._reactRootContainer=o,e[hr]=o.current,vi(e.nodeType===8?e.parentNode:e),_n(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=oa(c);a.call(u)}}var c=G0(e,0,!1,null,null,!1,!1,"",qh);return e._reactRootContainer=c,e[hr]=c.current,vi(e.nodeType===8?e.parentNode:e),_n(function(){Ra(t,c,r,n)}),c}function Ia(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=oa(o);a.call(c)}}Ra(t,o,e,s)}else o=k2(r,t,e,s,n);return oa(o)}Zx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zs(t.pendingLanes);r!==0&&(m0(t,r|1),ft(t,Ee()),!(he&6)&&(xs=Ee()+500,Gr()))}break;case 13:_n(function(){var n=fr(e,1);if(n!==null){var s=Je();Ut(n,e,1,s)}}),Q0(e,1)}};g0=function(e){if(e.tag===13){var t=fr(e,134217728);if(t!==null){var r=Je();Ut(t,e,134217728,r)}Q0(e,134217728)}};Jx=function(e){if(e.tag===13){var t=Mr(e),r=fr(e,t);if(r!==null){var n=Je();Ut(r,e,t,n)}Q0(e,t)}};em=function(){return fe};tm=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};Xc=function(e,t,r){switch(t){case"input":if(zc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Na(n);if(!s)throw Error(W(90));Bx(n),zc(n,s)}}}break;case"textarea":Tx(e,r);break;case"select":t=r.value,t!=null&&ts(e,!!r.multiple,t,!1)}};$x=H0;Vx=_n;var j2={usingClientEntryPoint:!1,Events:[Li,zn,Na,Mx,Ux,H0]},Ls={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E2={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||C2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{ka=fo.inject(E2),Qt=fo}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j2;_t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y0(t))throw Error(W(200));return _2(e,t,null,r)};_t.createRoot=function(e,t){if(!Y0(e))throw Error(W(299));var r=!1,n="",s=Cg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=G0(e,1,!1,null,null,r,!1,n,s),e[hr]=t.current,vi(e.nodeType===8?e.parentNode:e),new X0(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Wx(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return _n(e)};_t.hydrate=function(e,t,r){if(!La(t))throw Error(W(200));return Ia(null,e,t,!0,r)};_t.hydrateRoot=function(e,t,r){if(!Y0(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Cg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=_g(t,null,e,1,r??null,s,!1,i,o),e[hr]=t.current,vi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Oa(t)};_t.render=function(e,t,r){if(!La(t))throw Error(W(200));return Ia(null,e,t,!1,r)};_t.unmountComponentAtNode=function(e){if(!La(e))throw Error(W(40));return e._reactRootContainer?(_n(function(){Ia(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};_t.unstable_batchedUpdates=H0;_t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!La(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Ia(e,t,r,!1,n)};_t.version="18.3.1-next-f1338f8080-20240426";function kg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kg)}catch(e){console.error(e)}}kg(),kx.exports=_t;var S2=kx.exports,jg,Kh=S2;jg=Kh.createRoot,Kh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}var Dr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dr||(Dr={}));const Gh="popstate";function N2(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Au("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Sg(s)}return P2(t,r,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Eg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A2(){return Math.random().toString(36).substr(2,8)}function Qh(e,t){return{usr:e.state,key:e.key,idx:t}}function Au(e,t,r,n){return r===void 0&&(r=null),Si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cs(t):t,{state:r,key:t&&t.key||n||A2()})}function Sg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function P2(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Dr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Si({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Dr.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:a,location:v.location,delta:y})}function f(w,y){a=Dr.Push;let m=Au(v.location,w,y);u=d()+1;let x=Qh(m,u),b=v.createHref(m);try{o.pushState(x,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&c&&c({action:a,location:v.location,delta:1})}function p(w,y){a=Dr.Replace;let m=Au(v.location,w,y);u=d();let x=Qh(m,u),b=v.createHref(m);o.replaceState(x,"",b),i&&c&&c({action:a,location:v.location,delta:0})}function g(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Sg(w);return m=m.replace(/ $/,"%20"),De(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let v={get action(){return a},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Gh,h),c=w,()=>{s.removeEventListener(Gh,h),c=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(w){return o.go(w)}};return v}var Xh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xh||(Xh={}));function D2(e,t,r){return r===void 0&&(r="/"),B2(e,t,r,!1)}function B2(e,t,r,n){let s=typeof t=="string"?Cs(t):t,i=Pg(s.pathname||"/",r);if(i==null)return null;let o=Ng(e);F2(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=H2(i);a=V2(o[c],u,n)}return a}function Ng(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(De(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=mn([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(De(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ng(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:U2(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Ag(i.path))s(i,o,c)}),t}function Ag(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Ag(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function F2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const T2=/^:[\w-]+$/,R2=3,O2=2,L2=1,I2=10,M2=-2,Yh=e=>e==="*";function U2(e,t){let r=e.split("/"),n=r.length;return r.some(Yh)&&(n+=M2),t&&(n+=O2),r.filter(s=>!Yh(s)).reduce((s,i)=>s+(T2.test(i)?R2:i===""?L2:I2),n)}function $2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function V2(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Zh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Zh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:mn([i,h.pathname]),pathnameBase:G2(mn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=mn([i,h.pathnameBase]))}return o}function Zh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=z2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function z2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Eg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function H2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Eg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function W2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Cs(e):e;return{pathname:r?r.startsWith("/")?r:q2(r,t):t,search:Q2(n),hash:X2(s)}}function q2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Fl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dg(e,t){let r=K2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Bg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Cs(e):(s=Si({},e),De(!s.pathname||!s.pathname.includes("?"),Fl("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),Fl("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),Fl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let c=W2(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const mn=e=>e.join("/").replace(/\/\/+/g,"/"),G2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,X2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fg=["post","put","patch","delete"];new Set(Fg);const Z2=["get",...Fg];new Set(Z2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}const Z0=N.createContext(null),J2=N.createContext(null),Mi=N.createContext(null),Ma=N.createContext(null),jn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Tg=N.createContext(null);function Ui(){return N.useContext(Ma)!=null}function Ua(){return Ui()||De(!1),N.useContext(Ma).location}function Rg(e){N.useContext(Mi).static||N.useLayoutEffect(e)}function J0(){let{isDataRoute:e}=N.useContext(jn);return e?hb():eb()}function eb(){Ui()||De(!1);let e=N.useContext(Z0),{basename:t,future:r,navigator:n}=N.useContext(Mi),{matches:s}=N.useContext(jn),{pathname:i}=Ua(),o=JSON.stringify(Dg(s,r.v7_relativeSplatPath)),a=N.useRef(!1);return Rg(()=>{a.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=Bg(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:mn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function tb(e,t){return rb(e,t)}function rb(e,t,r,n){Ui()||De(!1);let{navigator:s}=N.useContext(Mi),{matches:i}=N.useContext(jn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ua(),d;if(t){var h;let w=typeof t=="string"?Cs(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||De(!1),d=w}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=D2(e,{pathname:p}),v=ab(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:mn([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:mn([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&v?N.createElement(Ma.Provider,{value:{location:Ni({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Dr.Pop}},v):v}function nb(){let e=db(),t=Y2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const sb=N.createElement(nb,null);class ib extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(jn.Provider,{value:this.props.routeContext},N.createElement(Tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ob(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(Z0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(jn.Provider,{value:t},n)}function ab(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||De(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,g=!1,v=null,w=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||sb,c&&(u<0&&f===0?(g=!0,w=null):u===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),m=()=>{let x;return p?x=v:g?x=w:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,N.createElement(ob,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(ib,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Og=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Og||{}),aa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(aa||{});function lb(e){let t=N.useContext(Z0);return t||De(!1),t}function cb(e){let t=N.useContext(J2);return t||De(!1),t}function ub(e){let t=N.useContext(jn);return t||De(!1),t}function Lg(e){let t=ub(),r=t.matches[t.matches.length-1];return r.route.id||De(!1),r.route.id}function db(){var e;let t=N.useContext(Tg),r=cb(aa.UseRouteError),n=Lg(aa.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function hb(){let{router:e}=lb(Og.UseNavigateStable),t=Lg(aa.UseNavigateStable),r=N.useRef(!1);return Rg(()=>{r.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ni({fromRouteId:t},i)))},[e,t])}function fb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pb(e){let{to:t,replace:r,state:n,relative:s}=e;Ui()||De(!1);let{future:i,static:o}=N.useContext(Mi),{matches:a}=N.useContext(jn),{pathname:c}=Ua(),u=J0(),d=Bg(t,Dg(a,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function er(e){De(!1)}function xb(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Dr.Pop,navigator:i,static:o=!1,future:a}=e;Ui()&&De(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:o,future:Ni({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=Cs(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,v=N.useMemo(()=>{let w=Pg(d,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:g},navigationType:s}},[c,d,h,f,p,g,s]);return v==null?null:N.createElement(Mi.Provider,{value:u},N.createElement(Ma.Provider,{children:r,value:v}))}function mb(e){let{children:t,location:r}=e;return tb(Pu(t),r)}new Promise(()=>{});function Pu(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let i=[...t,s];if(n.type===N.Fragment){r.push.apply(r,Pu(n.props.children,i));return}n.type!==er&&De(!1),!n.props.index||!n.props.children||De(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Pu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const gb="6";try{window.__reactRouterVersion=gb}catch{}const vb="startTransition",Jh=m1[vb];function yb(e){let{basename:t,children:r,future:n,window:s}=e,i=N.useRef();i.current==null&&(i.current=N2({window:s,v5Compat:!0}));let o=i.current,[a,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=N.useCallback(h=>{u&&Jh?Jh(()=>c(h)):c(h)},[c,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>fb(n),[n]),N.createElement(xb,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var ef;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ef||(ef={}));var tf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tf||(tf={}));const wb="modulepreload",bb=function(e){return"/"+e},rf={},$i=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=bb(c),c in rf)return;rf[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":wb,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},_b=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$i(async()=>{const{default:n}=await Promise.resolve().then(()=>ks);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ed extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Cb extends ed{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kb extends ed{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jb extends ed{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Du;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Du||(Du={}));var Eb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class Sb{constructor(t,{headers:r={},customFetch:n,region:s=Du.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=_b(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Eb(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(g=>{throw new Cb(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new kb(d);if(!d.ok)throw new jb(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var ct={},td={},$a={},Vi={},Va={},za={},Nb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ms=Nb();const Ab=ms.fetch,Ig=ms.fetch.bind(ms),Mg=ms.Headers,Pb=ms.Request,Db=ms.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mg,Request:Pb,Response:Db,default:Ig,fetch:Ab},Symbol.toStringTag,{value:"Module"})),Bb=hx(ks);var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});let Fb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ha.default=Fb;var Ug=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(za,"__esModule",{value:!0});const Tb=Ug(Bb),Rb=Ug(Ha);let Ob=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Tb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&v===""?(f=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Rb.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};za.default=Ob;var Lb=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Va,"__esModule",{value:!0});const Ib=Lb(za);let Mb=class extends Ib.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Va.default=Mb;var Ub=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});const $b=Ub(Va);let Vb=class extends $b.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Vi.default=Vb;var zb=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});const Is=zb(Vi);let Hb=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Is.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Is.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Is.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$a.default=Hb;var Wa={},qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.version=void 0;qa.version="0.0.0-automated";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.DEFAULT_HEADERS=void 0;const Wb=qa;Wa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Wb.version}`};var $g=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(td,"__esModule",{value:!0});const qb=$g($a),Kb=$g(Vi),Gb=Wa;let Qb=class Vg{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Gb.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new qb.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Kb.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};td.default=Qb;var js=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ct,"__esModule",{value:!0});ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const zg=js(td);ct.PostgrestClient=zg.default;const Hg=js($a);ct.PostgrestQueryBuilder=Hg.default;const Wg=js(Vi);ct.PostgrestFilterBuilder=Wg.default;const qg=js(Va);ct.PostgrestTransformBuilder=qg.default;const Kg=js(za);ct.PostgrestBuilder=Kg.default;const Gg=js(Ha);ct.PostgrestError=Gg.default;var Xb=ct.default={PostgrestClient:zg.default,PostgrestQueryBuilder:Hg.default,PostgrestFilterBuilder:Wg.default,PostgrestTransformBuilder:qg.default,PostgrestBuilder:Kg.default,PostgrestError:Gg.default};const{PostgrestClient:Yb,PostgrestQueryBuilder:DE,PostgrestFilterBuilder:BE,PostgrestTransformBuilder:FE,PostgrestBuilder:TE,PostgrestError:RE}=Xb;let Bu;typeof window>"u"?Bu=require("ws"):Bu=window.WebSocket;const Zb=Bu,Jb="2.11.10",e4={"X-Client-Info":`realtime-js/${Jb}`},t4="1.0.0",Qg=1e4,r4=1e3;var as;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(as||(as={}));var Xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xe||(Xe={}));var Lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lt||(Lt={}));var Fu;(function(e){e.websocket="websocket"})(Fu||(Fu={}));var cn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cn||(cn={}));class n4{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Xg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pe||(pe={}));const nf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=s4(o,e,t,s),i),{})},s4=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Yg(i,o):Tu(o)},Yg=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return l4(t,r)}switch(e){case pe.bool:return i4(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return o4(t);case pe.json:case pe.jsonb:return a4(t);case pe.timestamp:return c4(t);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return Tu(t);default:return Tu(t)}},Tu=e=>e,i4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},o4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},a4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},l4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Yg(t,a))}return e},c4=e=>typeof e=="string"?e.replace(" ","T"):e,Zg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Tl{constructor(t,r,n={},s=Qg){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sf||(sf={}));class ri{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ri.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ri.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ri.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),g=d.filter(w=>p.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(a[u]=g),v.length>0&&(c[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var of;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(of||(of={}));var af;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(af||(af={}));var nr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class rd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tl(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new Xg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ri(this),this.broadcastEndpointURL=Zg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(nr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(nr.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(nr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<p;v++){const w=f[v],{filter:{event:y,schema:m,table:x,filter:b}}=w,C=d&&d[v];if(C&&C.event===y&&C.schema===m&&C.table===x&&C.filter===b)g.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Xe.errored,t==null||t(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(nr.SUBSCRIBED);return}}).receive("error",d=>{this.state=Xe.errored,t==null||t(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Tl(this,Lt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Tl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=Lt;if(n&&[a,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,v,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,v,w,y,m,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,C=(g=p.filter)===null||g===void 0?void 0:g.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:w,commit_timestamp:y,type:m,errors:x}=g;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:m,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rd.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lt.close,{},t)}_onError(t){this._on(Lt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=nf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=nf(t.columns,t.old_record)),r}}const lf=()=>{},u4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d4{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=e4,this.params={},this.timeout=Qg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lf,this.ref=0,this.logger=lf,this.conn=null,this.sendBuffer=[],this.serializer=new n4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>$i(async()=>{const{default:c}=await Promise.resolve().then(()=>ks);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Fu.websocket}`,this.httpEndpoint=Zg(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Zb),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new h4(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t4}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case as.connecting:return cn.Connecting;case as.open:return cn.Open;case as.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new rd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Lt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(r4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([u4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class h4{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=as.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class nd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class f4 extends nd{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ru extends nd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var p4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const Jg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$i(async()=>{const{default:n}=await Promise.resolve().then(()=>ks);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},x4=()=>p4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $i(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),Ou=e=>{if(Array.isArray(e))return e.map(r=>Ou(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ou(n)}),t};var En=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const Rl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m4=(e,t,r)=>En(void 0,void 0,void 0,function*(){const n=yield x4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new f4(Rl(s),e.status||500))}).catch(s=>{t(new Ru(Rl(s),s))}):t(new Ru(Rl(e),e))}),g4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function zi(e,t,r,n,s,i){return En(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,g4(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>m4(c,a,n))})})}function la(e,t,r,n){return En(this,void 0,void 0,function*(){return zi(e,"GET",t,r,n)})}function kr(e,t,r,n,s){return En(this,void 0,void 0,function*(){return zi(e,"POST",t,n,s,r)})}function v4(e,t,r,n,s){return En(this,void 0,void 0,function*(){return zi(e,"PUT",t,n,s,r)})}function y4(e,t,r,n){return En(this,void 0,void 0,function*(){return zi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ev(e,t,r,n,s){return En(this,void 0,void 0,function*(){return zi(e,"DELETE",t,n,s,r)})}var at=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const w4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class b4{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Jg(s)}uploadOrUpdate(t,r,n,s){return at(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},cf),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}upload(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return at(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:cf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield kr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new nd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}update(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield kr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return at(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield kr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return at(this,void 0,void 0,function*(){try{const s=yield kr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}download(t,r){return at(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield la(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}info(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield la(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ou(n),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}exists(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield y4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Le(n)&&n instanceof Ru){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return at(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}list(t,r,n){return at(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},w4),r),{prefix:t||""});return{data:yield kr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const _4="2.7.1",C4={"X-Client-Info":`storage-js/${_4}`};var Fn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class k4{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},C4),r),this.fetch=Jg(n)}listBuckets(){return Fn(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Fn(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Fn(this,void 0,void 0,function*(){try{return{data:yield v4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}}class j4 extends k4{constructor(t,r={},n){super(t,r,n)}from(t){return new b4(this.url,this.headers,t,this.fetch)}}const E4="2.50.0";let Ws="";typeof Deno<"u"?Ws="deno":typeof document<"u"?Ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ws="react-native":Ws="node";const S4={"X-Client-Info":`supabase-js-${Ws}/${E4}`},N4={headers:S4},A4={schema:"public"},P4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D4={};var B4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const F4=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ig:t=fetch,(...r)=>t(...r)},T4=()=>typeof Headers>"u"?Mg:Headers,R4=(e,t,r)=>{const n=F4(r),s=T4();return(i,o)=>B4(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var O4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};function L4(e){return e.endsWith("/")?e:e+"/"}function I4(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>O4(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const tv="2.70.0",Ln=30*1e3,Lu=3,Ol=Lu*Ln,M4="http://localhost:9999",U4="supabase.auth.token",$4={"X-Client-Info":`gotrue-js/${tv}`},Iu="X-Supabase-Api-Version",rv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z4=6e5;class sd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class H4 extends sd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function W4(e){return ie(e)&&e.name==="AuthApiError"}class nv extends sd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Qr extends sd{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class wr extends Qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q4(e){return ie(e)&&e.name==="AuthSessionMissingError"}class po extends Qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xo extends Qr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mo extends Qr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K4(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class uf extends Qr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mu extends Qr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ll(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class df extends Qr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ni extends Qr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hf=` 	
\r=`.split(""),G4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hf.length;t+=1)e[hf[t].charCodeAt(0)]=-2;for(let t=0;t<ca.length;t+=1)e[ca[t].charCodeAt(0)]=t;return e})();function ff(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ca[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ca[n]),t.queuedBits-=6}}function sv(e,t,r){const n=G4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pf(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Y4(o,n,r)};for(let o=0;o<e.length;o+=1)sv(e.charCodeAt(o),s,i);return t.join("")}function Q4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function X4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Q4(n,t)}}function Y4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Z4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)sv(e.charCodeAt(s),r,n);return new Uint8Array(t)}function J4(e){const t=[];return X4(e,r=>t.push(r)),new Uint8Array(t)}function e_(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ff(s,r,n)),ff(null,r,n),t.join("")}function t_(e){return Math.round(Date.now()/1e3)+e}function r_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},si=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function n_(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const iv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$i(async()=>{const{default:n}=await Promise.resolve().then(()=>ks);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},s_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ov=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},go=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vo=async(e,t)=>{await e.removeItem(t)};class Ka{constructor(){this.promise=new Ka.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ka.promiseConstructor=Promise;function Il(e){const t=e.split(".");if(t.length!==3)throw new ni("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!V4.test(t[n]))throw new ni("JWT not in base64url format");return{header:JSON.parse(pf(t[0])),payload:JSON.parse(pf(t[1])),signature:Z4(t[2]),raw:{header:t[0],payload:t[1]}}}async function i_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function o_(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function a_(e){return("0"+e.toString(16)).substr(-2)}function l_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,a_).join("")}async function c_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function u_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await c_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tn(e,t,r=!1){const n=l_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ov(e,`${t}-code-verifier`,s);const i=await u_(n);return[i,n===i?"plain":"s256"]}const d_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h_(e){const t=e.headers.get(Iu);if(!t||!t.match(d_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function f_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function p_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rn(e){if(!x_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var m_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const sn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),g_=[502,503,504];async function xf(e){var t;if(!s_(e))throw new Mu(sn(e),0);if(g_.includes(e.status))throw new Mu(sn(e),e.status);let r;try{r=await e.json()}catch(i){throw new nv(sn(i),i)}let n;const s=h_(e);if(s&&s.getTime()>=rv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new df(sn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new df(sn(r),e.status,r.weak_password.reasons);throw new H4(sn(r),e.status||500,n)}const v_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function le(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Iu]||(i[Iu]=rv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await y_(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function y_(e,t,r,n,s,i){const o=v_(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Mu(sn(c),0)}if(a.ok||await xf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await xf(c)}}function tr(e){var t;let r=null;C_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=t_(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function mf(e){const t=tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function w_(e){return{data:e,error:null}}function b_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=m_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function __(e){return e}function C_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ml=["global","local","others"];var k_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class j_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ml[0]){if(Ml.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ml.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=k_(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:b_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:__});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Rn(t);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rn(t);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Nr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rn(t);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rn(t.userId);try{const{data:r,error:n}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rn(t.userId),Rn(t.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}const E_={getItem:e=>si()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{si()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{si()&&globalThis.localStorage.removeItem(e)}};function gf(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function S_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const On={debug:!!(globalThis&&si()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class av extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class N_ extends av{}async function A_(e,t,r){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),On.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{On.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw On.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new N_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(On.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}S_();const P_={url:M4,storageKey:U4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vf(e,t,r){return await r()}class Ai{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ai.nextInstanceID,Ai.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},P_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new j_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=iv(s.fetch),this.lock=s.lock||vf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=A_:this.lock=vf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:si()?this.storage=E_:(this.memoryStorage={},this.storage=gf(this.memoryStorage)):(this.memoryStorage={},this.storage=gf(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=n_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Tt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),K4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new nv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:tr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Tn(this.storage,this.storageKey)),i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:tr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tr})}else throw new xo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mf})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mf})}else throw new xo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new po}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,c,u,d,h,f,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:w,wallet:y,statement:m,options:x}=t;let b;if(Tt())if(typeof y=="object")b=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const C=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),v=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${C.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:w,error:y}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:e_(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tr});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new po}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(ie(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await go(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tr});if(await vo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new po}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ie(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tr}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new po}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Tn(this.storage,this.storageKey));const{error:h}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xo("You must provide either an email or phone number.")}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tn(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:w_})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wr;const{error:s}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xo("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await go(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ol:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Nr})})}catch(r){if(ie(r))return q4(r)&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new wr;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Tn(this.storage,this.storageKey));const{data:u,error:d}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Nr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Il(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Tt())throw new mo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new uf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uf("No code detected.");const{data:m,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new mo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await go(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(W4(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=r_(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tn(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Tt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await o_(async s=>(s>0&&await i_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ll(i)&&Date.now()+o-n<Ln})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Tt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await go(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ol;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ol}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ll(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ka;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new wr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ie(i)){const o={session:null,error:i};return Ll(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ov(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await vo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ln}ms, refresh threshold is ${Lu} ticks`),s<=Lu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof av)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Il(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+z4>Date.now()))return n;const{data:s,error:i}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ni("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new ni("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Il(n);if(f_(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=p_(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,J4(`${a}.${c}`)))throw new ni("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}}Ai.nextInstanceID=0;const D_=Ai;class B_ extends D_{constructor(t){super(t)}}var F_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class T_{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=L4(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:A4,realtime:D4,auth:Object.assign(Object.assign({},P4),{storageKey:u}),global:N4},h=I4(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=R4(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Yb(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Sb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new j4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return F_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new d4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const R_=(e,t,r)=>new T_(e,t,r);var lv={exports:{}};function O_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ul={exports:{}};const L_={},I_=Object.freeze(Object.defineProperty({__proto__:null,default:L_},Symbol.toStringTag,{value:"Module"})),M_=hx(I_);var yf;function de(){return yf||(yf=1,function(e,t){(function(r,n){e.exports=n()})(te,function(){var r=r||function(n,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof te<"u"&&te.crypto&&(i=te.crypto),!i&&typeof O_=="function")try{i=M_}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(x){var b;return m.prototype=x,b=new m,m.prototype=null,b}}(),c={},u=c.lib={},d=u.Base=function(){return{extend:function(m){var x=a(this);return m&&x.mixIn(m),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var x in m)m.hasOwnProperty(x)&&(this[x]=m[x]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=u.WordArray=d.extend({init:function(m,x){m=this.words=m||[],x!=s?this.sigBytes=x:this.sigBytes=m.length*4},toString:function(m){return(m||p).stringify(this)},concat:function(m){var x=this.words,b=m.words,C=this.sigBytes,k=m.sigBytes;if(this.clamp(),C%4)for(var j=0;j<k;j++){var _=b[j>>>2]>>>24-j%4*8&255;x[C+j>>>2]|=_<<24-(C+j)%4*8}else for(var T=0;T<k;T+=4)x[C+T>>>2]=b[T>>>2];return this.sigBytes+=k,this},clamp:function(){var m=this.words,x=this.sigBytes;m[x>>>2]&=4294967295<<32-x%4*8,m.length=n.ceil(x/4)},clone:function(){var m=d.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var x=[],b=0;b<m;b+=4)x.push(o());return new h.init(x,m)}}),f=c.enc={},p=f.Hex={stringify:function(m){for(var x=m.words,b=m.sigBytes,C=[],k=0;k<b;k++){var j=x[k>>>2]>>>24-k%4*8&255;C.push((j>>>4).toString(16)),C.push((j&15).toString(16))}return C.join("")},parse:function(m){for(var x=m.length,b=[],C=0;C<x;C+=2)b[C>>>3]|=parseInt(m.substr(C,2),16)<<24-C%8*4;return new h.init(b,x/2)}},g=f.Latin1={stringify:function(m){for(var x=m.words,b=m.sigBytes,C=[],k=0;k<b;k++){var j=x[k>>>2]>>>24-k%4*8&255;C.push(String.fromCharCode(j))}return C.join("")},parse:function(m){for(var x=m.length,b=[],C=0;C<x;C++)b[C>>>2]|=(m.charCodeAt(C)&255)<<24-C%4*8;return new h.init(b,x)}},v=f.Utf8={stringify:function(m){try{return decodeURIComponent(escape(g.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return g.parse(unescape(encodeURIComponent(m)))}},w=u.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=v.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var x,b=this._data,C=b.words,k=b.sigBytes,j=this.blockSize,_=j*4,T=k/_;m?T=n.ceil(T):T=n.max((T|0)-this._minBufferSize,0);var E=T*j,B=n.min(E*4,k);if(E){for(var P=0;P<E;P+=j)this._doProcessBlock(C,P);x=C.splice(0,E),b.sigBytes-=B}return new h.init(x,B)},clone:function(){var m=d.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});u.Hasher=w.extend({cfg:d.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(m){return function(x,b){return new m.init(b).finalize(x)}},_createHmacHelper:function(m){return function(x,b){return new y.HMAC.init(m,b).finalize(x)}}});var y=c.algo={};return c}(Math);return r})}(Ul)),Ul.exports}var $l={exports:{}},wf;function Ga(){return wf||(wf=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){return function(n){var s=r,i=s.lib,o=i.Base,a=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(u,d){this.high=u,this.low=d}}),c.WordArray=o.extend({init:function(u,d){u=this.words=u||[],d!=n?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,h=[],f=0;f<d;f++){var p=u[f];h.push(p.high),h.push(p.low)}return a.create(h,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),d=u.words=this.words.slice(0),h=d.length,f=0;f<h;f++)d[f]=d[f].clone();return u}})}(),r})}($l)),$l.exports}var Vl={exports:{}},bf;function U_(){return bf||(bf=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,s=n.lib,i=s.WordArray,o=i.init,a=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,d=[],h=0;h<u;h++)d[h>>>2]|=c[h]<<24-h%4*8;o.call(this,d,u)}else o.apply(this,arguments)};a.prototype=i}}(),r.lib.WordArray})}(Vl)),Vl.exports}var zl={exports:{}},_f;function $_(){return _f||(_f=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,d=c.sigBytes,h=[],f=0;f<d;f+=2){var p=u[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(p))}return h.join("")},parse:function(c){for(var u=c.length,d=[],h=0;h<u;h++)d[h>>>1]|=c.charCodeAt(h)<<16-h%2*16;return i.create(d,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,d=c.sigBytes,h=[],f=0;f<d;f+=2){var p=a(u[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(p))}return h.join("")},parse:function(c){for(var u=c.length,d=[],h=0;h<u;h++)d[h>>>1]|=a(c.charCodeAt(h)<<16-h%2*16);return i.create(d,u*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(zl)),zl.exports}var Hl={exports:{}},Cf;function Sn(){return Cf||(Cf=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Base64={stringify:function(c){var u=c.words,d=c.sigBytes,h=this._map;c.clamp();for(var f=[],p=0;p<d;p+=3)for(var g=u[p>>>2]>>>24-p%4*8&255,v=u[p+1>>>2]>>>24-(p+1)%4*8&255,w=u[p+2>>>2]>>>24-(p+2)%4*8&255,y=g<<16|v<<8|w,m=0;m<4&&p+m*.75<d;m++)f.push(h.charAt(y>>>6*(3-m)&63));var x=h.charAt(64);if(x)for(;f.length%4;)f.push(x);return f.join("")},parse:function(c){var u=c.length,d=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<d.length;f++)h[d.charCodeAt(f)]=f}var p=d.charAt(64);if(p){var g=c.indexOf(p);g!==-1&&(u=g)}return a(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,d){for(var h=[],f=0,p=0;p<u;p++)if(p%4){var g=d[c.charCodeAt(p-1)]<<p%4*2,v=d[c.charCodeAt(p)]>>>6-p%4*2,w=g|v;h[f>>>2]|=w<<24-f%4*8,f++}return i.create(h,f)}}(),r.enc.Base64})}(Hl)),Hl.exports}var Wl={exports:{}},kf;function V_(){return kf||(kf=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var d=c.words,h=c.sigBytes,f=u?this._safe_map:this._map;c.clamp();for(var p=[],g=0;g<h;g+=3)for(var v=d[g>>>2]>>>24-g%4*8&255,w=d[g+1>>>2]>>>24-(g+1)%4*8&255,y=d[g+2>>>2]>>>24-(g+2)%4*8&255,m=v<<16|w<<8|y,x=0;x<4&&g+x*.75<h;x++)p.push(f.charAt(m>>>6*(3-x)&63));var b=f.charAt(64);if(b)for(;p.length%4;)p.push(b);return p.join("")},parse:function(c,u){u===void 0&&(u=!0);var d=c.length,h=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var p=0;p<h.length;p++)f[h.charCodeAt(p)]=p}var g=h.charAt(64);if(g){var v=c.indexOf(g);v!==-1&&(d=v)}return a(c,d,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,u,d){for(var h=[],f=0,p=0;p<u;p++)if(p%4){var g=d[c.charCodeAt(p-1)]<<p%4*2,v=d[c.charCodeAt(p)]>>>6-p%4*2,w=g|v;h[f>>>2]|=w<<24-f%4*8,f++}return i.create(h,f)}}(),r.enc.Base64url})}(Wl)),Wl.exports}var ql={exports:{}},jf;function Nn(){return jf||(jf=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[];(function(){for(var v=0;v<64;v++)u[v]=n.abs(n.sin(v+1))*4294967296|0})();var d=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,w){for(var y=0;y<16;y++){var m=w+y,x=v[m];v[m]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var b=this._hash.words,C=v[w+0],k=v[w+1],j=v[w+2],_=v[w+3],T=v[w+4],E=v[w+5],B=v[w+6],P=v[w+7],O=v[w+8],q=v[w+9],G=v[w+10],A=v[w+11],Q=v[w+12],$=v[w+13],M=v[w+14],H=v[w+15],F=b[0],L=b[1],z=b[2],U=b[3];F=h(F,L,z,U,C,7,u[0]),U=h(U,F,L,z,k,12,u[1]),z=h(z,U,F,L,j,17,u[2]),L=h(L,z,U,F,_,22,u[3]),F=h(F,L,z,U,T,7,u[4]),U=h(U,F,L,z,E,12,u[5]),z=h(z,U,F,L,B,17,u[6]),L=h(L,z,U,F,P,22,u[7]),F=h(F,L,z,U,O,7,u[8]),U=h(U,F,L,z,q,12,u[9]),z=h(z,U,F,L,G,17,u[10]),L=h(L,z,U,F,A,22,u[11]),F=h(F,L,z,U,Q,7,u[12]),U=h(U,F,L,z,$,12,u[13]),z=h(z,U,F,L,M,17,u[14]),L=h(L,z,U,F,H,22,u[15]),F=f(F,L,z,U,k,5,u[16]),U=f(U,F,L,z,B,9,u[17]),z=f(z,U,F,L,A,14,u[18]),L=f(L,z,U,F,C,20,u[19]),F=f(F,L,z,U,E,5,u[20]),U=f(U,F,L,z,G,9,u[21]),z=f(z,U,F,L,H,14,u[22]),L=f(L,z,U,F,T,20,u[23]),F=f(F,L,z,U,q,5,u[24]),U=f(U,F,L,z,M,9,u[25]),z=f(z,U,F,L,_,14,u[26]),L=f(L,z,U,F,O,20,u[27]),F=f(F,L,z,U,$,5,u[28]),U=f(U,F,L,z,j,9,u[29]),z=f(z,U,F,L,P,14,u[30]),L=f(L,z,U,F,Q,20,u[31]),F=p(F,L,z,U,E,4,u[32]),U=p(U,F,L,z,O,11,u[33]),z=p(z,U,F,L,A,16,u[34]),L=p(L,z,U,F,M,23,u[35]),F=p(F,L,z,U,k,4,u[36]),U=p(U,F,L,z,T,11,u[37]),z=p(z,U,F,L,P,16,u[38]),L=p(L,z,U,F,G,23,u[39]),F=p(F,L,z,U,$,4,u[40]),U=p(U,F,L,z,C,11,u[41]),z=p(z,U,F,L,_,16,u[42]),L=p(L,z,U,F,B,23,u[43]),F=p(F,L,z,U,q,4,u[44]),U=p(U,F,L,z,Q,11,u[45]),z=p(z,U,F,L,H,16,u[46]),L=p(L,z,U,F,j,23,u[47]),F=g(F,L,z,U,C,6,u[48]),U=g(U,F,L,z,P,10,u[49]),z=g(z,U,F,L,M,15,u[50]),L=g(L,z,U,F,E,21,u[51]),F=g(F,L,z,U,Q,6,u[52]),U=g(U,F,L,z,_,10,u[53]),z=g(z,U,F,L,G,15,u[54]),L=g(L,z,U,F,k,21,u[55]),F=g(F,L,z,U,O,6,u[56]),U=g(U,F,L,z,H,10,u[57]),z=g(z,U,F,L,B,15,u[58]),L=g(L,z,U,F,$,21,u[59]),F=g(F,L,z,U,T,6,u[60]),U=g(U,F,L,z,A,10,u[61]),z=g(z,U,F,L,j,15,u[62]),L=g(L,z,U,F,q,21,u[63]),b[0]=b[0]+F|0,b[1]=b[1]+L|0,b[2]=b[2]+z|0,b[3]=b[3]+U|0},_doFinalize:function(){var v=this._data,w=v.words,y=this._nDataBytes*8,m=v.sigBytes*8;w[m>>>5]|=128<<24-m%32;var x=n.floor(y/4294967296),b=y;w[(m+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,w[(m+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,v.sigBytes=(w.length+1)*4,this._process();for(var C=this._hash,k=C.words,j=0;j<4;j++){var _=k[j];k[j]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}return C},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});function h(v,w,y,m,x,b,C){var k=v+(w&y|~w&m)+x+C;return(k<<b|k>>>32-b)+w}function f(v,w,y,m,x,b,C){var k=v+(w&m|y&~m)+x+C;return(k<<b|k>>>32-b)+w}function p(v,w,y,m,x,b,C){var k=v+(w^y^m)+x+C;return(k<<b|k>>>32-b)+w}function g(v,w,y,m,x,b,C){var k=v+(y^(w|~m))+x+C;return(k<<b|k>>>32-b)+w}s.MD5=a._createHelper(d),s.HmacMD5=a._createHmacHelper(d)}(Math),r.MD5})}(ql)),ql.exports}var Kl={exports:{}},Ef;function cv(){return Ef||(Ef=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=s.Hasher,a=n.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,h){for(var f=this._hash.words,p=f[0],g=f[1],v=f[2],w=f[3],y=f[4],m=0;m<80;m++){if(m<16)c[m]=d[h+m]|0;else{var x=c[m-3]^c[m-8]^c[m-14]^c[m-16];c[m]=x<<1|x>>>31}var b=(p<<5|p>>>27)+y+c[m];m<20?b+=(g&v|~g&w)+1518500249:m<40?b+=(g^v^w)+1859775393:m<60?b+=(g&v|g&w|v&w)-1894007588:b+=(g^v^w)-899497514,y=w,w=v,v=g<<30|g>>>2,g=p,p=b}f[0]=f[0]+p|0,f[1]=f[1]+g|0,f[2]=f[2]+v|0,f[3]=f[3]+w|0,f[4]=f[4]+y|0},_doFinalize:function(){var d=this._data,h=d.words,f=this._nDataBytes*8,p=d.sigBytes*8;return h[p>>>5]|=128<<24-p%32,h[(p+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(p+64>>>9<<4)+15]=f,d.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)}(),r.SHA1})}(Kl)),Kl.exports}var Gl={exports:{}},Sf;function id(){return Sf||(Sf=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[],d=[];(function(){function p(y){for(var m=n.sqrt(y),x=2;x<=m;x++)if(!(y%x))return!1;return!0}function g(y){return(y-(y|0))*4294967296|0}for(var v=2,w=0;w<64;)p(v)&&(w<8&&(u[w]=g(n.pow(v,1/2))),d[w]=g(n.pow(v,1/3)),w++),v++})();var h=[],f=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(p,g){for(var v=this._hash.words,w=v[0],y=v[1],m=v[2],x=v[3],b=v[4],C=v[5],k=v[6],j=v[7],_=0;_<64;_++){if(_<16)h[_]=p[g+_]|0;else{var T=h[_-15],E=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,B=h[_-2],P=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;h[_]=E+h[_-7]+P+h[_-16]}var O=b&C^~b&k,q=w&y^w&m^y&m,G=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),A=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),Q=j+A+O+d[_]+h[_],$=G+q;j=k,k=C,C=b,b=x+Q|0,x=m,m=y,y=w,w=Q+$|0}v[0]=v[0]+w|0,v[1]=v[1]+y|0,v[2]=v[2]+m|0,v[3]=v[3]+x|0,v[4]=v[4]+b|0,v[5]=v[5]+C|0,v[6]=v[6]+k|0,v[7]=v[7]+j|0},_doFinalize:function(){var p=this._data,g=p.words,v=this._nDataBytes*8,w=p.sigBytes*8;return g[w>>>5]|=128<<24-w%32,g[(w+64>>>9<<4)+14]=n.floor(v/4294967296),g[(w+64>>>9<<4)+15]=v,p.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});s.SHA256=a._createHelper(f),s.HmacSHA256=a._createHmacHelper(f)}(Math),r.SHA256})}(Gl)),Gl.exports}var Ql={exports:{}},Nf;function z_(){return Nf||(Nf=1,function(e,t){(function(r,n,s){e.exports=n(de(),id())})(te,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=a._createHelper(c),n.HmacSHA224=a._createHmacHelper(c)}(),r.SHA224})}(Ql)),Ql.exports}var Xl={exports:{}},Af;function uv(){return Af||(Af=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ga())})(te,function(r){return function(){var n=r,s=n.lib,i=s.Hasher,o=n.x64,a=o.Word,c=o.WordArray,u=n.algo;function d(){return a.create.apply(a,arguments)}var h=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],f=[];(function(){for(var g=0;g<80;g++)f[g]=d()})();var p=u.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,v){for(var w=this._hash.words,y=w[0],m=w[1],x=w[2],b=w[3],C=w[4],k=w[5],j=w[6],_=w[7],T=y.high,E=y.low,B=m.high,P=m.low,O=x.high,q=x.low,G=b.high,A=b.low,Q=C.high,$=C.low,M=k.high,H=k.low,F=j.high,L=j.low,z=_.high,U=_.low,ae=T,I=E,Z=B,K=P,ue=O,je=q,He=G,oe=A,Ne=Q,Oe=$,Zt=M,zt=H,Jt=F,Ht=L,Ss=z,Zr=U,xt=0;xt<80;xt++){var nt,Wt,Dn=f[xt];if(xt<16)Wt=Dn.high=g[v+xt*2]|0,nt=Dn.low=g[v+xt*2+1]|0;else{var Gi=f[xt-15],gr=Gi.high,Jr=Gi.low,ol=(gr>>>1|Jr<<31)^(gr>>>8|Jr<<24)^gr>>>7,R=(Jr>>>1|gr<<31)^(Jr>>>8|gr<<24)^(Jr>>>7|gr<<25),D=f[xt-2],V=D.high,S=D.low,J=(V>>>19|S<<13)^(V<<3|S>>>29)^V>>>6,ee=(S>>>19|V<<13)^(S<<3|V>>>29)^(S>>>6|V<<26),Fe=f[xt-7],Bt=Fe.high,st=Fe.low,it=f[xt-16],ot=it.high,Ns=it.low;nt=R+st,Wt=ol+Bt+(nt>>>0<R>>>0?1:0),nt=nt+ee,Wt=Wt+J+(nt>>>0<ee>>>0?1:0),nt=nt+Ns,Wt=Wt+ot+(nt>>>0<Ns>>>0?1:0),Dn.high=Wt,Dn.low=nt}var Qi=Ne&Zt^~Ne&Jt,As=Oe&zt^~Oe&Ht,se=ae&Z^ae&ue^Z&ue,Gy=I&K^I&je^K&je,Qy=(ae>>>28|I<<4)^(ae<<30|I>>>2)^(ae<<25|I>>>7),Rd=(I>>>28|ae<<4)^(I<<30|ae>>>2)^(I<<25|ae>>>7),Xy=(Ne>>>14|Oe<<18)^(Ne>>>18|Oe<<14)^(Ne<<23|Oe>>>9),Yy=(Oe>>>14|Ne<<18)^(Oe>>>18|Ne<<14)^(Oe<<23|Ne>>>9),Od=h[xt],Zy=Od.high,Ld=Od.low,mt=Zr+Yy,vr=Ss+Xy+(mt>>>0<Zr>>>0?1:0),mt=mt+As,vr=vr+Qi+(mt>>>0<As>>>0?1:0),mt=mt+Ld,vr=vr+Zy+(mt>>>0<Ld>>>0?1:0),mt=mt+nt,vr=vr+Wt+(mt>>>0<nt>>>0?1:0),Id=Rd+Gy,Jy=Qy+se+(Id>>>0<Rd>>>0?1:0);Ss=Jt,Zr=Ht,Jt=Zt,Ht=zt,Zt=Ne,zt=Oe,Oe=oe+mt|0,Ne=He+vr+(Oe>>>0<oe>>>0?1:0)|0,He=ue,oe=je,ue=Z,je=K,Z=ae,K=I,I=mt+Id|0,ae=vr+Jy+(I>>>0<mt>>>0?1:0)|0}E=y.low=E+I,y.high=T+ae+(E>>>0<I>>>0?1:0),P=m.low=P+K,m.high=B+Z+(P>>>0<K>>>0?1:0),q=x.low=q+je,x.high=O+ue+(q>>>0<je>>>0?1:0),A=b.low=A+oe,b.high=G+He+(A>>>0<oe>>>0?1:0),$=C.low=$+Oe,C.high=Q+Ne+($>>>0<Oe>>>0?1:0),H=k.low=H+zt,k.high=M+Zt+(H>>>0<zt>>>0?1:0),L=j.low=L+Ht,j.high=F+Jt+(L>>>0<Ht>>>0?1:0),U=_.low=U+Zr,_.high=z+Ss+(U>>>0<Zr>>>0?1:0)},_doFinalize:function(){var g=this._data,v=g.words,w=this._nDataBytes*8,y=g.sigBytes*8;v[y>>>5]|=128<<24-y%32,v[(y+128>>>10<<5)+30]=Math.floor(w/4294967296),v[(y+128>>>10<<5)+31]=w,g.sigBytes=v.length*4,this._process();var m=this._hash.toX32();return m},clone:function(){var g=i.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});n.SHA512=i._createHelper(p),n.HmacSHA512=i._createHmacHelper(p)}(),r.SHA512})}(Xl)),Xl.exports}var Yl={exports:{}},Pf;function H_(){return Pf||(Pf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ga(),uv())})(te,function(r){return function(){var n=r,s=n.x64,i=s.Word,o=s.WordArray,a=n.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var d=c._doFinalize.call(this);return d.sigBytes-=16,d}});n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u)}(),r.SHA384})}(Yl)),Yl.exports}var Zl={exports:{}},Df;function W_(){return Df||(Df=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ga())})(te,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.x64,u=c.Word,d=s.algo,h=[],f=[],p=[];(function(){for(var w=1,y=0,m=0;m<24;m++){h[w+5*y]=(m+1)*(m+2)/2%64;var x=y%5,b=(2*w+3*y)%5;w=x,y=b}for(var w=0;w<5;w++)for(var y=0;y<5;y++)f[w+5*y]=y+(2*w+3*y)%5*5;for(var C=1,k=0;k<24;k++){for(var j=0,_=0,T=0;T<7;T++){if(C&1){var E=(1<<T)-1;E<32?_^=1<<E:j^=1<<E-32}C&128?C=C<<1^113:C<<=1}p[k]=u.create(j,_)}})();var g=[];(function(){for(var w=0;w<25;w++)g[w]=u.create()})();var v=d.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],y=0;y<25;y++)w[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,y){for(var m=this._state,x=this.blockSize/2,b=0;b<x;b++){var C=w[y+2*b],k=w[y+2*b+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var j=m[b];j.high^=k,j.low^=C}for(var _=0;_<24;_++){for(var T=0;T<5;T++){for(var E=0,B=0,P=0;P<5;P++){var j=m[T+5*P];E^=j.high,B^=j.low}var O=g[T];O.high=E,O.low=B}for(var T=0;T<5;T++)for(var q=g[(T+4)%5],G=g[(T+1)%5],A=G.high,Q=G.low,E=q.high^(A<<1|Q>>>31),B=q.low^(Q<<1|A>>>31),P=0;P<5;P++){var j=m[T+5*P];j.high^=E,j.low^=B}for(var $=1;$<25;$++){var E,B,j=m[$],M=j.high,H=j.low,F=h[$];F<32?(E=M<<F|H>>>32-F,B=H<<F|M>>>32-F):(E=H<<F-32|M>>>64-F,B=M<<F-32|H>>>64-F);var L=g[f[$]];L.high=E,L.low=B}var z=g[0],U=m[0];z.high=U.high,z.low=U.low;for(var T=0;T<5;T++)for(var P=0;P<5;P++){var $=T+5*P,j=m[$],ae=g[$],I=g[(T+1)%5+5*P],Z=g[(T+2)%5+5*P];j.high=ae.high^~I.high&Z.high,j.low=ae.low^~I.low&Z.low}var j=m[0],K=p[_];j.high^=K.high,j.low^=K.low}},_doFinalize:function(){var w=this._data,y=w.words;this._nDataBytes*8;var m=w.sigBytes*8,x=this.blockSize*32;y[m>>>5]|=1<<24-m%32,y[(n.ceil((m+1)/x)*x>>>5)-1]|=128,w.sigBytes=y.length*4,this._process();for(var b=this._state,C=this.cfg.outputLength/8,k=C/8,j=[],_=0;_<k;_++){var T=b[_],E=T.high,B=T.low;E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,j.push(B),j.push(E)}return new o.init(j,C)},clone:function(){for(var w=a.clone.call(this),y=w._state=this._state.slice(0),m=0;m<25;m++)y[m]=y[m].clone();return w}});s.SHA3=a._createHelper(v),s.HmacSHA3=a._createHmacHelper(v)}(Math),r.SHA3})}(Zl)),Zl.exports}var Jl={exports:{}},Bf;function q_(){return Bf||(Bf=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,j){for(var _=0;_<16;_++){var T=j+_,E=k[T];k[T]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var B=this._hash.words,P=p.words,O=g.words,q=u.words,G=d.words,A=h.words,Q=f.words,$,M,H,F,L,z,U,ae,I,Z;z=$=B[0],U=M=B[1],ae=H=B[2],I=F=B[3],Z=L=B[4];for(var K,_=0;_<80;_+=1)K=$+k[j+q[_]]|0,_<16?K+=w(M,H,F)+P[0]:_<32?K+=y(M,H,F)+P[1]:_<48?K+=m(M,H,F)+P[2]:_<64?K+=x(M,H,F)+P[3]:K+=b(M,H,F)+P[4],K=K|0,K=C(K,A[_]),K=K+L|0,$=L,L=F,F=C(H,10),H=M,M=K,K=z+k[j+G[_]]|0,_<16?K+=b(U,ae,I)+O[0]:_<32?K+=x(U,ae,I)+O[1]:_<48?K+=m(U,ae,I)+O[2]:_<64?K+=y(U,ae,I)+O[3]:K+=w(U,ae,I)+O[4],K=K|0,K=C(K,Q[_]),K=K+Z|0,z=Z,Z=I,I=C(ae,10),ae=U,U=K;K=B[1]+H+I|0,B[1]=B[2]+F+Z|0,B[2]=B[3]+L+z|0,B[3]=B[4]+$+U|0,B[4]=B[0]+M+ae|0,B[0]=K},_doFinalize:function(){var k=this._data,j=k.words,_=this._nDataBytes*8,T=k.sigBytes*8;j[T>>>5]|=128<<24-T%32,j[(T+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k.sigBytes=(j.length+1)*4,this._process();for(var E=this._hash,B=E.words,P=0;P<5;P++){var O=B[P];B[P]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return E},clone:function(){var k=a.clone.call(this);return k._hash=this._hash.clone(),k}});function w(k,j,_){return k^j^_}function y(k,j,_){return k&j|~k&_}function m(k,j,_){return(k|~j)^_}function x(k,j,_){return k&_|j&~_}function b(k,j,_){return k^(j|~_)}function C(k,j){return k<<j|k>>>32-j}s.RIPEMD160=a._createHelper(v),s.HmacRIPEMD160=a._createHmacHelper(v)}(),r.RIPEMD160})}(Jl)),Jl.exports}var ec={exports:{}},Ff;function od(){return Ff||(Ff=1,function(e,t){(function(r,n){e.exports=n(de())})(te,function(r){(function(){var n=r,s=n.lib,i=s.Base,o=n.enc,a=o.Utf8,c=n.algo;c.HMAC=i.extend({init:function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=a.parse(d));var h=u.blockSize,f=h*4;d.sigBytes>f&&(d=u.finalize(d)),d.clamp();for(var p=this._oKey=d.clone(),g=this._iKey=d.clone(),v=p.words,w=g.words,y=0;y<h;y++)v[y]^=1549556828,w[y]^=909522486;p.sigBytes=g.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var d=this._hasher,h=d.finalize(u);d.reset();var f=d.finalize(this._oKey.clone().concat(h));return f}})})()})}(ec)),ec.exports}var tc={exports:{}},Tf;function K_(){return Tf||(Tf=1,function(e,t){(function(r,n,s){e.exports=n(de(),id(),od())})(te,function(r){return function(){var n=r,s=n.lib,i=s.Base,o=s.WordArray,a=n.algo,c=a.SHA256,u=a.HMAC,d=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var p=this.cfg,g=u.create(p.hasher,h),v=o.create(),w=o.create([1]),y=v.words,m=w.words,x=p.keySize,b=p.iterations;y.length<x;){var C=g.update(f).finalize(w);g.reset();for(var k=C.words,j=k.length,_=C,T=1;T<b;T++){_=g.finalize(_),g.reset();for(var E=_.words,B=0;B<j;B++)k[B]^=E[B]}v.concat(C),m[0]++}return v.sigBytes=x*4,v}});n.PBKDF2=function(h,f,p){return d.create(p).compute(h,f)}}(),r.PBKDF2})}(tc)),tc.exports}var rc={exports:{}},Rf;function Xr(){return Rf||(Rf=1,function(e,t){(function(r,n,s){e.exports=n(de(),cv(),od())})(te,function(r){return function(){var n=r,s=n.lib,i=s.Base,o=s.WordArray,a=n.algo,c=a.MD5,u=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,h){for(var f,p=this.cfg,g=p.hasher.create(),v=o.create(),w=v.words,y=p.keySize,m=p.iterations;w.length<y;){f&&g.update(f),f=g.update(d).finalize(h),g.reset();for(var x=1;x<m;x++)f=g.finalize(f),g.reset();v.concat(f)}return v.sigBytes=y*4,v}});n.EvpKDF=function(d,h,f){return u.create(f).compute(d,h)}}(),r.EvpKDF})}(rc)),rc.exports}var nc={exports:{}},Of;function Ue(){return Of||(Of=1,function(e,t){(function(r,n,s){e.exports=n(de(),Xr())})(te,function(r){r.lib.Cipher||function(n){var s=r,i=s.lib,o=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var d=u.Base64,h=s.algo,f=h.EvpKDF,p=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(E,B){return this.create(this._ENC_XFORM_MODE,E,B)},createDecryptor:function(E,B){return this.create(this._DEC_XFORM_MODE,E,B)},init:function(E,B,P){this.cfg=this.cfg.extend(P),this._xformMode=E,this._key=B,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(E){return this._append(E),this._process()},finalize:function(E){E&&this._append(E);var B=this._doFinalize();return B},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function E(B){return typeof B=="string"?T:k}return function(B){return{encrypt:function(P,O,q){return E(O).encrypt(B,P,O,q)},decrypt:function(P,O,q){return E(O).decrypt(B,P,O,q)}}}}()});i.StreamCipher=p.extend({_doFinalize:function(){var E=this._process(!0);return E},blockSize:1});var g=s.mode={},v=i.BlockCipherMode=o.extend({createEncryptor:function(E,B){return this.Encryptor.create(E,B)},createDecryptor:function(E,B){return this.Decryptor.create(E,B)},init:function(E,B){this._cipher=E,this._iv=B}}),w=g.CBC=function(){var E=v.extend();E.Encryptor=E.extend({processBlock:function(P,O){var q=this._cipher,G=q.blockSize;B.call(this,P,O,G),q.encryptBlock(P,O),this._prevBlock=P.slice(O,O+G)}}),E.Decryptor=E.extend({processBlock:function(P,O){var q=this._cipher,G=q.blockSize,A=P.slice(O,O+G);q.decryptBlock(P,O),B.call(this,P,O,G),this._prevBlock=A}});function B(P,O,q){var G,A=this._iv;A?(G=A,this._iv=n):G=this._prevBlock;for(var Q=0;Q<q;Q++)P[O+Q]^=G[Q]}return E}(),y=s.pad={},m=y.Pkcs7={pad:function(E,B){for(var P=B*4,O=P-E.sigBytes%P,q=O<<24|O<<16|O<<8|O,G=[],A=0;A<O;A+=4)G.push(q);var Q=a.create(G,O);E.concat(Q)},unpad:function(E){var B=E.words[E.sigBytes-1>>>2]&255;E.sigBytes-=B}};i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:w,padding:m}),reset:function(){var E;p.reset.call(this);var B=this.cfg,P=B.iv,O=B.mode;this._xformMode==this._ENC_XFORM_MODE?E=O.createEncryptor:(E=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==E?this._mode.init(this,P&&P.words):(this._mode=E.call(O,this,P&&P.words),this._mode.__creator=E)},_doProcessBlock:function(E,B){this._mode.processBlock(E,B)},_doFinalize:function(){var E,B=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(B.pad(this._data,this.blockSize),E=this._process(!0)):(E=this._process(!0),B.unpad(E)),E},blockSize:128/32});var x=i.CipherParams=o.extend({init:function(E){this.mixIn(E)},toString:function(E){return(E||this.formatter).stringify(this)}}),b=s.format={},C=b.OpenSSL={stringify:function(E){var B,P=E.ciphertext,O=E.salt;return O?B=a.create([1398893684,1701076831]).concat(O).concat(P):B=P,B.toString(d)},parse:function(E){var B,P=d.parse(E),O=P.words;return O[0]==1398893684&&O[1]==1701076831&&(B=a.create(O.slice(2,4)),O.splice(0,4),P.sigBytes-=16),x.create({ciphertext:P,salt:B})}},k=i.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(E,B,P,O){O=this.cfg.extend(O);var q=E.createEncryptor(P,O),G=q.finalize(B),A=q.cfg;return x.create({ciphertext:G,key:P,iv:A.iv,algorithm:E,mode:A.mode,padding:A.padding,blockSize:E.blockSize,formatter:O.format})},decrypt:function(E,B,P,O){O=this.cfg.extend(O),B=this._parse(B,O.format);var q=E.createDecryptor(P,O).finalize(B.ciphertext);return q},_parse:function(E,B){return typeof E=="string"?B.parse(E,this):E}}),j=s.kdf={},_=j.OpenSSL={execute:function(E,B,P,O,q){if(O||(O=a.random(64/8)),q)var G=f.create({keySize:B+P,hasher:q}).compute(E,O);else var G=f.create({keySize:B+P}).compute(E,O);var A=a.create(G.words.slice(B),P*4);return G.sigBytes=B*4,x.create({key:G,iv:A,salt:O})}},T=i.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:_}),encrypt:function(E,B,P,O){O=this.cfg.extend(O);var q=O.kdf.execute(P,E.keySize,E.ivSize,O.salt,O.hasher);O.iv=q.iv;var G=k.encrypt.call(this,E,B,q.key,O);return G.mixIn(q),G},decrypt:function(E,B,P,O){O=this.cfg.extend(O),B=this._parse(B,O.format);var q=O.kdf.execute(P,E.keySize,E.ivSize,B.salt,O.hasher);O.iv=q.iv;var G=k.decrypt.call(this,E,B,q.key,O);return G}})}()})}(nc)),nc.exports}var sc={exports:{}},Lf;function G_(){return Lf||(Lf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize;s.call(this,i,o,c,a),this._prevBlock=i.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=i.slice(o,o+c);s.call(this,i,o,c,a),this._prevBlock=u}});function s(i,o,a,c){var u,d=this._iv;d?(u=d.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var h=0;h<a;h++)i[o+h]^=u[h]}return n}(),r.mode.CFB})}(sc)),sc.exports}var ic={exports:{}},If;function Q_(){return If||(If=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0);var h=d.slice(0);a.encryptBlock(h,0),d[c-1]=d[c-1]+1|0;for(var f=0;f<c;f++)i[o+f]^=h[f]}});return n.Decryptor=s,n}(),r.mode.CTR})}(ic)),ic.exports}var oc={exports:{}},Mf;function X_(){return Mf||(Mf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var c=a>>16&255,u=a>>8&255,d=a&255;c===255?(c=0,u===255?(u=0,d===255?d=0:++d):++u):++c,a=0,a+=c<<16,a+=u<<8,a+=d}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=n.Encryptor=n.extend({processBlock:function(a,c){var u=this._cipher,d=u.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),i(f);var p=f.slice(0);u.encryptBlock(p,0);for(var g=0;g<d;g++)a[c+g]^=p[g]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(oc)),oc.exports}var ac={exports:{}},Uf;function Y_(){return Uf||(Uf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,d=this._keystream;u&&(d=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(d,0);for(var h=0;h<c;h++)i[o+h]^=d[h]}});return n.Decryptor=s,n}(),r.mode.OFB})}(ac)),ac.exports}var lc={exports:{}},$f;function Z_(){return $f||($f=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),n.Decryptor=n.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),n}(),r.mode.ECB})}(lc)),lc.exports}var cc={exports:{}},Vf;function J_(){return Vf||(Vf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.pad.AnsiX923={pad:function(n,s){var i=n.sigBytes,o=s*4,a=o-i%o,c=i+a-1;n.clamp(),n.words[c>>>2]|=a<<24-c%4*8,n.sigBytes+=a},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Ansix923})}(cc)),cc.exports}var uc={exports:{}},zf;function eC(){return zf||(zf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.pad.Iso10126={pad:function(n,s){var i=s*4,o=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Iso10126})}(uc)),uc.exports}var dc={exports:{}},Hf;function tC(){return Hf||(Hf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.pad.Iso97971={pad:function(n,s){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,s)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(dc)),dc.exports}var hc={exports:{}},Wf;function rC(){return Wf||(Wf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.pad.ZeroPadding={pad:function(n,s){var i=s*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var s=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})}(hc)),hc.exports}var fc={exports:{}},qf;function nC(){return qf||(qf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(fc)),fc.exports}var pc={exports:{}},Kf;function sC(){return Kf||(Kf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Ue())})(te,function(r){return function(n){var s=r,i=s.lib,o=i.CipherParams,a=s.enc,c=a.Hex,u=s.format;u.Hex={stringify:function(d){return d.ciphertext.toString(c)},parse:function(d){var h=c.parse(d);return o.create({ciphertext:h})}}}(),r.format.Hex})}(pc)),pc.exports}var xc={exports:{}},Gf;function iC(){return Gf||(Gf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Sn(),Nn(),Xr(),Ue())})(te,function(r){return function(){var n=r,s=n.lib,i=s.BlockCipher,o=n.algo,a=[],c=[],u=[],d=[],h=[],f=[],p=[],g=[],v=[],w=[];(function(){for(var x=[],b=0;b<256;b++)b<128?x[b]=b<<1:x[b]=b<<1^283;for(var C=0,k=0,b=0;b<256;b++){var j=k^k<<1^k<<2^k<<3^k<<4;j=j>>>8^j&255^99,a[C]=j,c[j]=C;var _=x[C],T=x[_],E=x[T],B=x[j]*257^j*16843008;u[C]=B<<24|B>>>8,d[C]=B<<16|B>>>16,h[C]=B<<8|B>>>24,f[C]=B;var B=E*16843009^T*65537^_*257^C*16843008;p[j]=B<<24|B>>>8,g[j]=B<<16|B>>>16,v[j]=B<<8|B>>>24,w[j]=B,C?(C=_^x[x[x[E^_]]],k^=x[x[k]]):C=k=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],m=o.AES=i.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,C=b.words,k=b.sigBytes/4,j=this._nRounds=k+6,_=(j+1)*4,T=this._keySchedule=[],E=0;E<_;E++)E<k?T[E]=C[E]:(x=T[E-1],E%k?k>6&&E%k==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=y[E/k|0]<<24),T[E]=T[E-k]^x);for(var B=this._invKeySchedule=[],P=0;P<_;P++){var E=_-P;if(P%4)var x=T[E];else var x=T[E-4];P<4||E<=4?B[P]=x:B[P]=p[a[x>>>24]]^g[a[x>>>16&255]]^v[a[x>>>8&255]]^w[a[x&255]]}}},encryptBlock:function(x,b){this._doCryptBlock(x,b,this._keySchedule,u,d,h,f,a)},decryptBlock:function(x,b){var C=x[b+1];x[b+1]=x[b+3],x[b+3]=C,this._doCryptBlock(x,b,this._invKeySchedule,p,g,v,w,c);var C=x[b+1];x[b+1]=x[b+3],x[b+3]=C},_doCryptBlock:function(x,b,C,k,j,_,T,E){for(var B=this._nRounds,P=x[b]^C[0],O=x[b+1]^C[1],q=x[b+2]^C[2],G=x[b+3]^C[3],A=4,Q=1;Q<B;Q++){var $=k[P>>>24]^j[O>>>16&255]^_[q>>>8&255]^T[G&255]^C[A++],M=k[O>>>24]^j[q>>>16&255]^_[G>>>8&255]^T[P&255]^C[A++],H=k[q>>>24]^j[G>>>16&255]^_[P>>>8&255]^T[O&255]^C[A++],F=k[G>>>24]^j[P>>>16&255]^_[O>>>8&255]^T[q&255]^C[A++];P=$,O=M,q=H,G=F}var $=(E[P>>>24]<<24|E[O>>>16&255]<<16|E[q>>>8&255]<<8|E[G&255])^C[A++],M=(E[O>>>24]<<24|E[q>>>16&255]<<16|E[G>>>8&255]<<8|E[P&255])^C[A++],H=(E[q>>>24]<<24|E[G>>>16&255]<<16|E[P>>>8&255]<<8|E[O&255])^C[A++],F=(E[G>>>24]<<24|E[P>>>16&255]<<16|E[O>>>8&255]<<8|E[q&255])^C[A++];x[b]=$,x[b+1]=M,x[b+2]=H,x[b+3]=F},keySize:256/32});n.AES=i._createHelper(m)}(),r.AES})}(xc)),xc.exports}var mc={exports:{}},Qf;function oC(){return Qf||(Qf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Sn(),Nn(),Xr(),Ue())})(te,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=s.BlockCipher,a=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=o.extend({_doReset:function(){for(var y=this._key,m=y.words,x=[],b=0;b<56;b++){var C=c[b]-1;x[b]=m[C>>>5]>>>31-C%32&1}for(var k=this._subKeys=[],j=0;j<16;j++){for(var _=k[j]=[],T=d[j],b=0;b<24;b++)_[b/6|0]|=x[(u[b]-1+T)%28]<<31-b%6,_[4+(b/6|0)]|=x[28+(u[b+24]-1+T)%28]<<31-b%6;_[0]=_[0]<<1|_[0]>>>31;for(var b=1;b<7;b++)_[b]=_[b]>>>(b-1)*4+3;_[7]=_[7]<<5|_[7]>>>27}for(var E=this._invSubKeys=[],b=0;b<16;b++)E[b]=k[15-b]},encryptBlock:function(y,m){this._doCryptBlock(y,m,this._subKeys)},decryptBlock:function(y,m){this._doCryptBlock(y,m,this._invSubKeys)},_doCryptBlock:function(y,m,x){this._lBlock=y[m],this._rBlock=y[m+1],g.call(this,4,252645135),g.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),g.call(this,1,1431655765);for(var b=0;b<16;b++){for(var C=x[b],k=this._lBlock,j=this._rBlock,_=0,T=0;T<8;T++)_|=h[T][((j^C[T])&f[T])>>>0];this._lBlock=j,this._rBlock=k^_}var E=this._lBlock;this._lBlock=this._rBlock,this._rBlock=E,g.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),y[m]=this._lBlock,y[m+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(y,m){var x=(this._lBlock>>>y^this._rBlock)&m;this._rBlock^=x,this._lBlock^=x<<y}function v(y,m){var x=(this._rBlock>>>y^this._lBlock)&m;this._lBlock^=x,this._rBlock^=x<<y}n.DES=o._createHelper(p);var w=a.TripleDES=o.extend({_doReset:function(){var y=this._key,m=y.words;if(m.length!==2&&m.length!==4&&m.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=m.slice(0,2),b=m.length<4?m.slice(0,2):m.slice(2,4),C=m.length<6?m.slice(0,2):m.slice(4,6);this._des1=p.createEncryptor(i.create(x)),this._des2=p.createEncryptor(i.create(b)),this._des3=p.createEncryptor(i.create(C))},encryptBlock:function(y,m){this._des1.encryptBlock(y,m),this._des2.decryptBlock(y,m),this._des3.encryptBlock(y,m)},decryptBlock:function(y,m){this._des3.decryptBlock(y,m),this._des2.encryptBlock(y,m),this._des1.decryptBlock(y,m)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(w)}(),r.TripleDES})}(mc)),mc.exports}var gc={exports:{}},Xf;function aC(){return Xf||(Xf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Sn(),Nn(),Xr(),Ue())})(te,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=o.RC4=i.extend({_doReset:function(){for(var d=this._key,h=d.words,f=d.sigBytes,p=this._S=[],g=0;g<256;g++)p[g]=g;for(var g=0,v=0;g<256;g++){var w=g%f,y=h[w>>>2]>>>24-w%4*8&255;v=(v+p[g]+y)%256;var m=p[g];p[g]=p[v],p[v]=m}this._i=this._j=0},_doProcessBlock:function(d,h){d[h]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var d=this._S,h=this._i,f=this._j,p=0,g=0;g<4;g++){h=(h+1)%256,f=(f+d[h])%256;var v=d[h];d[h]=d[f],d[f]=v,p|=d[(d[h]+d[f])%256]<<24-g*8}return this._i=h,this._j=f,p}n.RC4=i._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)c.call(this)}});n.RC4Drop=i._createHelper(u)}(),r.RC4})}(gc)),gc.exports}var vc={exports:{}},Yf;function lC(){return Yf||(Yf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Sn(),Nn(),Xr(),Ue())})(te,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=[],c=[],u=[],d=o.Rabbit=i.extend({_doReset:function(){for(var f=this._key.words,p=this.cfg.iv,g=0;g<4;g++)f[g]=(f[g]<<8|f[g]>>>24)&16711935|(f[g]<<24|f[g]>>>8)&4278255360;var v=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],w=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)h.call(this);for(var g=0;g<8;g++)w[g]^=v[g+4&7];if(p){var y=p.words,m=y[0],x=y[1],b=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,k=b>>>16|C&4294901760,j=C<<16|b&65535;w[0]^=b,w[1]^=k,w[2]^=C,w[3]^=j,w[4]^=b,w[5]^=k,w[6]^=C,w[7]^=j;for(var g=0;g<4;g++)h.call(this)}},_doProcessBlock:function(f,p){var g=this._X;h.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,f[p+v]^=a[v]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,p=this._C,g=0;g<8;g++)c[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var g=0;g<8;g++){var v=f[g]+p[g],w=v&65535,y=v>>>16,m=((w*w>>>17)+w*y>>>15)+y*y,x=((v&4294901760)*v|0)+((v&65535)*v|0);u[g]=m^x}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=i._createHelper(d)}(),r.Rabbit})}(vc)),vc.exports}var yc={exports:{}},Zf;function cC(){return Zf||(Zf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Sn(),Nn(),Xr(),Ue())})(te,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=[],c=[],u=[],d=o.RabbitLegacy=i.extend({_doReset:function(){var f=this._key.words,p=this.cfg.iv,g=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var w=0;w<4;w++)h.call(this);for(var w=0;w<8;w++)v[w]^=g[w+4&7];if(p){var y=p.words,m=y[0],x=y[1],b=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,k=b>>>16|C&4294901760,j=C<<16|b&65535;v[0]^=b,v[1]^=k,v[2]^=C,v[3]^=j,v[4]^=b,v[5]^=k,v[6]^=C,v[7]^=j;for(var w=0;w<4;w++)h.call(this)}},_doProcessBlock:function(f,p){var g=this._X;h.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,f[p+v]^=a[v]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,p=this._C,g=0;g<8;g++)c[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var g=0;g<8;g++){var v=f[g]+p[g],w=v&65535,y=v>>>16,m=((w*w>>>17)+w*y>>>15)+y*y,x=((v&4294901760)*v|0)+((v&65535)*v|0);u[g]=m^x}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=i._createHelper(d)}(),r.RabbitLegacy})}(yc)),yc.exports}var wc={exports:{}},Jf;function uC(){return Jf||(Jf=1,function(e,t){(function(r,n,s){e.exports=n(de(),Sn(),Nn(),Xr(),Ue())})(te,function(r){return function(){var n=r,s=n.lib,i=s.BlockCipher,o=n.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function h(w,y){let m=y>>24&255,x=y>>16&255,b=y>>8&255,C=y&255,k=w.sbox[0][m]+w.sbox[1][x];return k=k^w.sbox[2][b],k=k+w.sbox[3][C],k}function f(w,y,m){let x=y,b=m,C;for(let k=0;k<a;++k)x=x^w.pbox[k],b=h(w,x)^b,C=x,x=b,b=C;return C=x,x=b,b=C,b=b^w.pbox[a],x=x^w.pbox[a+1],{left:x,right:b}}function p(w,y,m){let x=y,b=m,C;for(let k=a+1;k>1;--k)x=x^w.pbox[k],b=h(w,x)^b,C=x,x=b,b=C;return C=x,x=b,b=C,b=b^w.pbox[1],x=x^w.pbox[0],{left:x,right:b}}function g(w,y,m){for(let j=0;j<4;j++){w.sbox[j]=[];for(let _=0;_<256;_++)w.sbox[j][_]=u[j][_]}let x=0;for(let j=0;j<a+2;j++)w.pbox[j]=c[j]^y[x],x++,x>=m&&(x=0);let b=0,C=0,k=0;for(let j=0;j<a+2;j+=2)k=f(w,b,C),b=k.left,C=k.right,w.pbox[j]=b,w.pbox[j+1]=C;for(let j=0;j<4;j++)for(let _=0;_<256;_+=2)k=f(w,b,C),b=k.left,C=k.right,w.sbox[j][_]=b,w.sbox[j][_+1]=C;return!0}var v=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,y=w.words,m=w.sigBytes/4;g(d,y,m)}},encryptBlock:function(w,y){var m=f(d,w[y],w[y+1]);w[y]=m.left,w[y+1]=m.right},decryptBlock:function(w,y){var m=p(d,w[y],w[y+1]);w[y]=m.left,w[y+1]=m.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(v)}(),r.Blowfish})}(wc)),wc.exports}(function(e,t){(function(r,n,s){e.exports=n(de(),Ga(),U_(),$_(),Sn(),V_(),Nn(),cv(),id(),z_(),uv(),H_(),W_(),q_(),od(),K_(),Xr(),Ue(),G_(),Q_(),X_(),Y_(),Z_(),J_(),eC(),tC(),rC(),nC(),sC(),iC(),oC(),aC(),lC(),cC(),uC())})(te,function(r){return r})})(lv);var dC=lv.exports;const Uu=dx(dC),hC="https://cggsodnyilnhlrtuzdkr.supabase.co",bc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ3NvZG55aWxuaGxydHV6ZGtyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0NTQ1MzksImV4cCI6MjA2NjAzMDUzOX0.I3j8Wyt1oeH57A3mN_MmcpMcHw9xS2zNqXWTTIYBF08",Y=R_(hC,bc,{db:{schema:"public"},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{apikey:bc,Authorization:`Bearer ${bc}`}}}),dv="your-secret-key",fC=e=>Uu.AES.encrypt(e,dv).toString(),ep=e=>Uu.AES.decrypt(e,dv).toString(Uu.enc.Utf8),ad=async(e,t,r)=>{try{const{data:n,error:s}=await Y.storage.from(t).upload(r,e,{cacheControl:"3600",upsert:!0});if(s)throw s;const{data:{publicUrl:i}}=Y.storage.from(t).getPublicUrl(n.path);return i}catch(n){return console.error("Error uploading image:",n),null}},hv=N.createContext(void 0),Be=()=>{const e=N.useContext(hv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},pC=({children:e})=>{const[t,r]=N.useState({isAuthenticated:!1,user:null,loading:!0});N.useEffect(()=>{(async()=>{try{const{data:{session:f}}=await Y.auth.getSession();f!=null&&f.user&&await n(f.user.id)}catch(f){console.error("Session check error:",f)}finally{r(f=>({...f,loading:!1}))}})();const{data:{subscription:h}}=Y.auth.onAuthStateChange(async(f,p)=>{f==="SIGNED_IN"&&(p!=null&&p.user)?await n(p.user.id):f==="SIGNED_OUT"&&r({isAuthenticated:!1,user:null,loading:!1})});return()=>h.unsubscribe()},[]);const n=async d=>{var h,f;try{const{data:p,error:g}=await Y.from("profiles").select(`
          *,
          characters(id),
          privacy_settings(*)
        `).eq("id",d).single();if(g)throw g;const v={id:p.id,username:p.username,displayName:p.display_name,email:p.email,avatar:p.avatar_url||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",headerImage:p.header_image_url||"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=800&h=300",bio:p.bio,writersTag:p.writers_tag,twoFactorEnabled:p.two_factor_enabled,characters:((h=p.characters)==null?void 0:h.map(w=>w.id))||[],followers:p.followers||[],following:p.following||[],createdAt:new Date(p.created_at),privacySettings:(f=p.privacy_settings)!=null&&f[0]?{profileVisibility:p.privacy_settings[0].profile_visibility,messagePermissions:p.privacy_settings[0].message_permissions,tagNotifications:p.privacy_settings[0].tag_notifications,directMessageNotifications:p.privacy_settings[0].direct_message_notifications}:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}};r({isAuthenticated:!0,user:v,loading:!1})}catch(p){console.error("Error loading user profile:",p),r(g=>({...g,loading:!1}))}},s=async(d,h)=>{try{const f=d.includes("@");let p=d;if(!f)try{const{data:w,error:y}=await Y.from("profiles").select("email").eq("username",d).maybeSingle();if(y)throw console.error("Profile lookup error:",y),new Error("Database error occurred");if(!w||!w.email)throw new Error("User not found or no email associated with username");p=w.email}catch(w){throw console.error("Database query failed:",w),new Error("Unable to find user. Please check your username or try using your email address.")}const{data:g,error:v}=await Y.auth.signInWithPassword({email:p,password:h});if(v)throw console.error("Auth error:",v),new Error(v.message||"Login failed");return!0}catch(f){throw console.error("Login error:",f),f}},i=async(d,h,f,p,g)=>{try{const{data:v,error:w}=await Y.auth.signUp({email:g,password:h});if(w)throw console.error("Auth signup error:",w),new Error(w.message||"Registration failed");if(v.user){const{error:y}=await Y.from("profiles").insert({id:v.user.id,username:d,display_name:f,email:g,writers_tag:p,bio:"New to CharacterVerse!"});if(y)throw console.error("Profile creation error:",y),y.code==="23505"?y.message.includes("username")?new Error("Username already exists. Please choose a different username."):new Error("This account already exists. Please try logging in instead."):new Error(y.message||"Failed to create user profile");const{error:m}=await Y.from("privacy_settings").insert({user_id:v.user.id,profile_visibility:"public",message_permissions:"everyone",tag_notifications:!0,direct_message_notifications:!0});m&&console.warn("Privacy settings creation failed:",m)}return!0}catch(v){throw console.error("Registration error:",v),v}},o=async()=>{await Y.auth.signOut()},a=async d=>{if(t.user)try{const{error:h}=await Y.from("profiles").update({display_name:d.displayName,bio:d.bio,writers_tag:d.writersTag,email:d.email,avatar_url:d.avatar,header_image_url:d.headerImage,updated_at:new Date().toISOString()}).eq("id",t.user.id);if(h)throw h;if(d.privacySettings){const{error:f}=await Y.from("privacy_settings").update({profile_visibility:d.privacySettings.profileVisibility,message_permissions:d.privacySettings.messagePermissions,tag_notifications:d.privacySettings.tagNotifications,direct_message_notifications:d.privacySettings.directMessageNotifications,updated_at:new Date().toISOString()}).eq("user_id",t.user.id);f&&console.warn("Privacy settings update failed:",f)}r(f=>({...f,user:f.user?{...f.user,...d}:null}))}catch(h){console.error("Error updating user:",h)}},c=async d=>d==="123456",u=async d=>(t.user&&await a({email:d,twoFactorEnabled:!0}),!0);return l.jsx(hv.Provider,{value:{...t,login:s,register:i,logout:o,updateUser:a,verifyOTP:c,enableTwoFactor:u},children:e})},fv=N.createContext(void 0),rt=()=>{const e=N.useContext(fv);if(!e)throw new Error("useApp must be used within an AppProvider");return e},xC=({children:e})=>{const{user:t}=Be(),[r,n]=N.useState([]),[s,i]=N.useState([]),[o,a]=N.useState([]),[c,u]=N.useState([]),[d,h]=N.useState(null),[f,p]=N.useState([]),[g,v]=N.useState([]),[w,y]=N.useState([]),[m,x]=N.useState([]),b=o.filter(R=>!R.read).length,C=c.reduce((R,D)=>D.lastMessage&&!D.lastMessage.readBy.includes((t==null?void 0:t.id)||"")?R+1:R,0);N.useEffect(()=>{if(!t)return;const R=Y.channel("posts").on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{E()}).subscribe(),D=Y.channel("characters").on("postgres_changes",{event:"*",schema:"public",table:"characters"},()=>{T()}).subscribe(),V=Y.channel("profiles").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{_()}).subscribe(),S=Y.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},()=>{B()}).subscribe(),J=Y.channel("messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},()=>{P()}).subscribe(),ee=Y.channel("chats").on("postgres_changes",{event:"*",schema:"public",table:"chats"},()=>{P()}).subscribe(),Fe=Y.channel("follows").on("postgres_changes",{event:"*",schema:"public",table:"follows"},()=>{_(),E()}).subscribe();return()=>{R.unsubscribe(),D.unsubscribe(),V.unsubscribe(),S.unsubscribe(),J.unsubscribe(),ee.unsubscribe(),Fe.unsubscribe()}},[t]),N.useEffect(()=>{t&&(T(),E(),B(),P(),_(),k())},[t]);const k=()=>{if(!t)return;const R=localStorage.getItem(`bookmarkedPosts_${t.id}`),D=localStorage.getItem(`bookmarkedCharacters_${t.id}`),V=localStorage.getItem(`bookmarkedUsers_${t.id}`);R&&v(JSON.parse(R)),D&&y(JSON.parse(D)),V&&x(JSON.parse(V))},j=(R,D)=>{t&&localStorage.setItem(`bookmarked${R.charAt(0).toUpperCase()+R.slice(1)}_${t.id}`,JSON.stringify(D))},_=async()=>{try{const{data:R,error:D}=await Y.from("profiles").select(`
          *,
          follower_count:follows!follows_following_id_fkey(count),
          following_count:follows!follows_follower_id_fkey(count),
          is_followed:follows!follows_following_id_fkey!inner(follower_id)
        `).order("created_at",{ascending:!1});if(D)throw D;const V=R.map(S=>({id:S.id,username:S.username,displayName:S.display_name,avatar:S.avatar_url||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=350&h=350",headerImage:S.header_image_url||"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=1500&h=500",bio:S.bio||"",writersTag:S.writers_tag,email:S.email,twoFactorEnabled:S.two_factor_enabled||!1,characters:[],followers:S.followers||[],following:S.following||[],createdAt:new Date(S.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}));p(V)}catch(R){console.error("Error loading users:",R)}},T=async()=>{try{const{data:R,error:D}=await Y.from("characters").select("*").order("created_at",{ascending:!1});if(D)throw D;const V=R.map(S=>({id:S.id,username:S.username,name:S.name,title:S.title,avatar:S.avatar_url,headerImage:S.header_url,bio:S.bio,universe:S.universe,verseTag:S.verse_tag,traits:S.traits||[],userId:S.user_id,customColor:S.custom_color,customFont:S.custom_font,followers:S.followers||[],following:S.following||[],createdAt:new Date(S.created_at)}));n(V)}catch(R){console.error("Error loading characters:",R)}},E=async()=>{try{const{data:R,error:D}=await Y.from("posts").select(`
          *,
          character:characters(*),
          profile:profiles(*),
          interactions:post_interactions(interaction_type, user_id),
          comments:comments(
            id,
            content,
            user_id,
            character_id,
            created_at,
            profile:profiles(*),
            character:characters(*)
          )
        `).order("created_at",{ascending:!1});if(D)throw D;const V=R.map(S=>{var st,it,ot,Ns,Qi,As;const J=((st=S.interactions)==null?void 0:st.filter(se=>se.interaction_type==="like").length)||0,ee=((it=S.interactions)==null?void 0:it.filter(se=>se.interaction_type==="repost").length)||0,Fe=((ot=S.interactions)==null?void 0:ot.some(se=>se.interaction_type==="like"&&se.user_id===(t==null?void 0:t.id)))||!1,Bt=((Ns=S.interactions)==null?void 0:Ns.some(se=>se.interaction_type==="repost"&&se.user_id===(t==null?void 0:t.id)))||!1;return{id:S.id,content:S.content,characterId:S.character_id,character:S.character?{id:S.character.id,username:S.character.username,name:S.character.name,title:S.character.title,avatar:S.character.avatar_url,headerImage:S.character.header_url,bio:S.character.bio,universe:S.character.universe,verseTag:S.character.verse_tag,traits:S.character.traits||[],userId:S.character.user_id,customColor:S.character.custom_color,customFont:S.character.custom_font,followers:S.character.followers||[],following:S.character.following||[],createdAt:new Date(S.character.created_at)}:void 0,userId:S.user_id,user:S.profile?{id:S.profile.id,username:S.profile.username,displayName:S.profile.display_name,avatar:S.profile.avatar_url,headerImage:S.profile.header_image_url,bio:S.profile.bio,writersTag:S.profile.writers_tag,email:S.profile.email,twoFactorEnabled:S.profile.two_factor_enabled,characters:[],followers:S.profile.followers||[],following:S.profile.following||[],createdAt:new Date(S.profile.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}:void 0,timestamp:new Date(S.created_at),likes:J,reposts:ee,comments:((Qi=S.comments)==null?void 0:Qi.length)||0,isLiked:Fe,isReposted:Bt,isPinned:S.is_pinned||!1,isThread:S.is_thread,threadId:S.thread_id,parentPostId:S.parent_post_id,visibility:S.visibility,tags:S.tags||[],mediaUrls:S.media_urls||[],replies:((As=S.comments)==null?void 0:As.map(se=>({id:se.id,content:se.content,userId:se.user_id,characterId:se.character_id,timestamp:new Date(se.created_at),user:se.profile?{id:se.profile.id,username:se.profile.username,displayName:se.profile.display_name,avatar:se.profile.avatar_url,headerImage:se.profile.header_image_url,bio:se.profile.bio,writersTag:se.profile.writers_tag,email:se.profile.email,twoFactorEnabled:se.profile.two_factor_enabled,characters:[],followers:se.profile.followers||[],following:se.profile.following||[],createdAt:new Date(se.profile.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}:void 0,character:se.character?{id:se.character.id,username:se.character.username,name:se.character.name,title:se.character.title,avatar:se.character.avatar_url,headerImage:se.character.header_url,bio:se.character.bio,universe:se.character.universe,verseTag:se.character.verse_tag,traits:se.character.traits||[],userId:se.character.user_id,customColor:se.character.custom_color,customFont:se.character.custom_font,followers:se.character.followers||[],following:se.character.following||[],createdAt:new Date(se.character.created_at)}:void 0})))||[]}});i(V)}catch(R){console.error("Error loading posts:",R)}},B=async()=>{if(t)try{const{data:R,error:D}=await Y.from("notifications").select(`
          *,
          from_profile:profiles!notifications_from_user_id_fkey(*)
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(D)throw D;const V=R.map(S=>({id:S.id,type:S.type,userId:S.user_id,fromUserId:S.from_user_id,fromUser:S.from_profile?{id:S.from_profile.id,username:S.from_profile.username,displayName:S.from_profile.display_name,avatar:S.from_profile.avatar_url,headerImage:S.from_profile.header_image_url,bio:S.from_profile.bio,writersTag:S.from_profile.writers_tag,email:S.from_profile.email,twoFactorEnabled:S.from_profile.two_factor_enabled,characters:[],followers:S.from_profile.followers||[],following:S.from_profile.following||[],createdAt:new Date(S.from_profile.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}:void 0,postId:S.post_id,message:S.message,timestamp:new Date(S.created_at),read:S.read}));a(V)}catch(R){console.error("Error loading notifications:",R)}},P=async()=>{if(t)try{const{data:R,error:D}=await Y.from("chats").select(`
          *,
          participants:chat_participants(
            user_id,
            profile:profiles(*)
          ),
          last_message:messages(*)
        `).order("updated_at",{ascending:!1});if(D)throw D;const S=R.filter(J=>J.participants.some(ee=>ee.user_id===t.id)).map(J=>{var ee;return{id:J.id,participants:J.participants.map(Fe=>Fe.user_id),isGroup:J.is_group,name:J.name,createdAt:new Date(J.created_at),isEncrypted:J.is_encrypted,lastMessage:(ee=J.last_message)!=null&&ee[0]?{id:J.last_message[0].id,content:J.last_message[0].is_encrypted?ep(J.last_message[0].content):J.last_message[0].content,senderId:J.last_message[0].sender_id,chatId:J.last_message[0].chat_id,timestamp:new Date(J.last_message[0].created_at),isEncrypted:J.last_message[0].is_encrypted,readBy:J.last_message[0].read_by||[],mediaUrl:J.last_message[0].media_url}:void 0}});u(S)}catch(R){console.error("Error loading chats:",R)}},O=async R=>{try{const{data:D,error:V}=await Y.from("messages").select(`
          *,
          sender:profiles(*)
        `).eq("chat_id",R).order("created_at",{ascending:!0});if(V)throw V;return D.map(S=>({id:S.id,content:S.is_encrypted?ep(S.content):S.content,senderId:S.sender_id,chatId:S.chat_id,timestamp:new Date(S.created_at),isEncrypted:S.is_encrypted,readBy:S.read_by||[],mediaUrl:S.media_url}))}catch(D){return console.error("Error loading messages:",D),[]}},q=async R=>{if(t)try{const{error:D}=await Y.from("messages").update({read_by:Y.sql`array_append(read_by, ${t.id})`,updated_at:new Date().toISOString()}).eq("chat_id",R).not("read_by","cs",`{${t.id}}`);if(D)throw D;P()}catch(D){console.error("Error marking messages as read:",D)}},G=async R=>{if(t)try{const{data:D,error:V}=await Y.from("characters").insert({user_id:t.id,username:R.username,name:R.name,title:R.title,bio:R.bio,universe:R.universe,verse_tag:R.verseTag,traits:R.traits,custom_color:R.customColor,custom_font:R.customFont,avatar_url:R.avatar,header_url:R.headerImage,followers:[],following:[]}).select().single();if(V)throw V;const S={id:D.id,username:D.username,name:D.name,title:D.title,avatar:D.avatar_url,headerImage:D.header_url,bio:D.bio,universe:D.universe,verseTag:D.verse_tag,traits:D.traits||[],userId:D.user_id,customColor:D.custom_color,customFont:D.custom_font,followers:D.followers||[],following:D.following||[],createdAt:new Date(D.created_at)};n(J=>[S,...J])}catch(D){console.error("Error adding character:",D)}},A=async(R,D)=>{try{const{error:V}=await Y.from("characters").update({username:D.username,name:D.name,title:D.title,bio:D.bio,universe:D.universe,verse_tag:D.verseTag,traits:D.traits,custom_color:D.customColor,custom_font:D.customFont,avatar_url:D.avatar,header_url:D.headerImage,followers:D.followers,following:D.following,updated_at:new Date().toISOString()}).eq("id",R);if(V)throw V;n(S=>S.map(J=>J.id===R?{...J,...D}:J))}catch(V){console.error("Error updating character:",V)}},Q=async R=>{try{const{error:D}=await Y.from("characters").delete().eq("id",R);if(D)throw D;n(V=>V.filter(S=>S.id!==R))}catch(D){console.error("Error deleting character:",D)}},$=async R=>{if(t)try{const{data:D,error:V}=await Y.from("posts").insert({user_id:t.id,character_id:R.characterId,content:R.content,visibility:R.visibility,is_thread:R.isThread,thread_id:R.threadId,parent_post_id:R.parentPostId,tags:R.tags,media_urls:R.mediaUrls||[]}).select().single();if(V)throw V;if(R.parentPostId){const S=s.find(J=>J.id===R.parentPostId);S&&S.userId!==t.id&&await Z({type:"comment",userId:S.userId,fromUserId:t.id,postId:R.parentPostId,message:`${t.displayName} replied to your post`,read:!1})}E()}catch(D){console.error("Error adding post:",D)}},M=async(R,D,V)=>{if(t)try{const{error:S}=await Y.from("comments").insert({user_id:t.id,post_id:R,character_id:V,content:D});if(S)throw S;const J=s.find(ee=>ee.id===R);J&&J.userId!==t.id&&await Z({type:"comment",userId:J.userId,fromUserId:t.id,postId:R,message:`${t.displayName} commented on your post`,read:!1}),E()}catch(S){console.error("Error adding comment:",S)}},H=async(R,D)=>{try{const{error:V}=await Y.from("posts").update({content:D.content,visibility:D.visibility,tags:D.tags,media_urls:D.mediaUrls,is_pinned:D.isPinned,updated_at:new Date().toISOString()}).eq("id",R);if(V)throw V;E()}catch(V){console.error("Error updating post:",V)}},F=async R=>{try{const{error:D}=await Y.from("posts").delete().eq("id",R);if(D)throw D;i(V=>V.filter(S=>S.id!==R))}catch(D){console.error("Error deleting post:",D)}},L=async R=>{try{const{error:D}=await Y.from("posts").update({is_pinned:!0}).eq("id",R);if(D)throw D;i(V=>V.map(S=>S.id===R?{...S,isPinned:!0}:S))}catch(D){console.error("Error pinning post:",D)}},z=async R=>{try{const{error:D}=await Y.from("posts").update({is_pinned:!1}).eq("id",R);if(D)throw D;i(V=>V.map(S=>S.id===R?{...S,isPinned:!1}:S))}catch(D){console.error("Error unpinning post:",D)}},U=async R=>{if(t)try{const D=await Y.from("post_interactions").select("id").eq("user_id",t.id).eq("post_id",R).eq("interaction_type","like").single();if(D.data)await Y.from("post_interactions").delete().eq("id",D.data.id);else{await Y.from("post_interactions").insert({user_id:t.id,post_id:R,interaction_type:"like"});const V=s.find(S=>S.id===R);V&&V.userId!==t.id&&await Z({type:"like",userId:V.userId,fromUserId:t.id,postId:R,message:`${t.displayName} liked your post`,read:!1})}E()}catch(D){console.error("Error liking post:",D)}},ae=async R=>{if(t)try{const D=await Y.from("post_interactions").select("id").eq("user_id",t.id).eq("post_id",R).eq("interaction_type","repost").single();if(D.data)await Y.from("post_interactions").delete().eq("id",D.data.id);else{await Y.from("post_interactions").insert({user_id:t.id,post_id:R,interaction_type:"repost"});const V=s.find(S=>S.id===R);V&&V.userId!==t.id&&await Z({type:"repost",userId:V.userId,fromUserId:t.id,postId:R,message:`${t.displayName} reposted your post`,read:!1})}E()}catch(D){console.error("Error reposting post:",D)}},I=async R=>{try{const{data:D,error:V}=await Y.from("comments").select(`
          *,
          profile:profiles(*),
          character:characters(*)
        `).eq("post_id",R).order("created_at",{ascending:!0});if(V)throw V;return D.map(S=>({id:S.id,content:S.content,userId:S.user_id,postId:S.post_id,characterId:S.character_id,character:S.character,user:S.profile,timestamp:new Date(S.created_at)}))}catch(D){return console.error("Error loading comments:",D),[]}},Z=async R=>{try{await Y.from("notifications").insert({user_id:R.userId,from_user_id:R.fromUserId,type:R.type,post_id:R.postId,message:R.message,read:R.read})}catch(D){console.error("Error adding notification:",D)}},K=async R=>{try{const{error:D}=await Y.from("notifications").update({read:!0}).eq("id",R);if(D)throw D;a(V=>V.map(S=>S.id===R?{...S,read:!0}:S))}catch(D){console.error("Error marking notification as read:",D)}},ue=async()=>{if(t)try{const{error:R}=await Y.from("notifications").delete().eq("user_id",t.id);if(R)throw R;a([])}catch(R){console.error("Error clearing notifications:",R)}},je=async R=>{if(t)try{const{data:D}=await Y.from("follows").select("id").eq("follower_id",t.id).eq("following_id",R).single();D?await Y.from("follows").delete().eq("follower_id",t.id).eq("following_id",R):(await Y.from("follows").insert({follower_id:t.id,following_id:R}),await Z({type:"follow",userId:R,fromUserId:t.id,message:`${t.displayName} started following you`,read:!1})),_(),B()}catch(D){console.error("Error following user:",D)}},He=async R=>{if(t)try{await Y.from("follows").delete().eq("follower_id",t.id).eq("following_id",R),_()}catch(D){console.error("Error unfollowing user:",D)}},oe=async(R,D)=>{if(!t)return;const V=r.find(S=>S.id===R);if(V)try{const S=[...V.followers,D||t.id];await Y.from("characters").update({followers:S}).eq("id",R),n(J=>J.map(ee=>ee.id===R?{...ee,followers:S}:ee))}catch(S){console.error("Error following character:",S)}},Ne=async(R,D)=>{if(!t)return;const V=r.find(S=>S.id===R);if(V)try{const S=V.followers.filter(J=>J!==(D||t.id));await Y.from("characters").update({followers:S}).eq("id",R),n(J=>J.map(ee=>ee.id===R?{...ee,followers:S}:ee))}catch(S){console.error("Error unfollowing character:",S)}},Oe=async(R,D,V,S)=>{try{const J=fC(D),{data:ee,error:Fe}=await Y.from("messages").insert({chat_id:R,sender_id:V,content:J,is_encrypted:!0,media_url:S,read_by:[V]}).select().single();if(Fe)throw Fe;await Y.from("chats").update({updated_at:new Date().toISOString()}).eq("id",R);const Bt={id:ee.id,content:D,senderId:ee.sender_id,chatId:ee.chat_id,timestamp:new Date(ee.created_at),isEncrypted:ee.is_encrypted,readBy:[V],mediaUrl:ee.media_url};u(it=>it.map(ot=>ot.id===R?{...ot,lastMessage:Bt}:ot));const st=c.find(it=>it.id===R);if(st){const it=st.participants.filter(ot=>ot!==V);for(const ot of it)await Z({type:"message",userId:ot,fromUserId:V,message:`${t==null?void 0:t.displayName} sent you a message`,read:!1})}}catch(J){console.error("Error sending message:",J)}},Zt=async(R,D=!1,V)=>{if(!t)throw new Error("User not authenticated");try{const{data:S,error:J}=await Y.from("chats").insert({name:V,is_group:D,is_encrypted:!0,created_by:t.id}).select().single();if(J)throw J;const ee=[t.id,...R].map(st=>({chat_id:S.id,user_id:st})),{error:Fe}=await Y.from("chat_participants").insert(ee);if(Fe)throw Fe;const Bt={id:S.id,participants:[t.id,...R],isGroup:D,name:V,createdAt:new Date(S.created_at),isEncrypted:S.is_encrypted};return u(st=>[Bt,...st]),Bt}catch(S){throw console.error("Error creating chat:",S),S}},zt=R=>{const D=R.toLowerCase(),V=s.filter(ee=>{var Fe,Bt,st,it;return ee.content.toLowerCase().includes(D)||ee.tags.some(ot=>ot.toLowerCase().includes(D))||((Fe=ee.character)==null?void 0:Fe.name.toLowerCase().includes(D))||((Bt=ee.character)==null?void 0:Bt.verseTag.toLowerCase().includes(D))||((st=ee.user)==null?void 0:st.displayName.toLowerCase().includes(D))||((it=ee.user)==null?void 0:it.username.toLowerCase().includes(D))}),S=r.filter(ee=>ee.name.toLowerCase().includes(D)||ee.username.toLowerCase().includes(D)||ee.verseTag.toLowerCase().includes(D)||ee.universe.toLowerCase().includes(D)||ee.traits.some(Fe=>Fe.toLowerCase().includes(D))),J=f.filter(ee=>ee.username.toLowerCase().includes(D)||ee.displayName.toLowerCase().includes(D)||ee.writersTag.toLowerCase().includes(D));return{posts:V,characters:S,users:J}},Jt=()=>{if(!t)return{writers:[],characters:[]};const R=r.filter(S=>S.userId===t.id).map(S=>S.verseTag),D=r.filter(S=>S.userId!==t.id&&R.some(J=>S.verseTag.toLowerCase().includes(J.toLowerCase()))).slice(0,5);return{writers:f.filter(S=>S.id!==t.id).slice(0,5),characters:D}},Ht=R=>{if(!t)return[];const D=new Set;return f.forEach(V=>{Y.from("follows").select("id").eq("follower_id",t.id).eq("following_id",V.id),t.following.includes(V.id)&&D.add(V.id)}),R==="user"?s.filter(V=>V.userId===t.id?!0:D.has(V.userId)):R?s.filter(V=>V.userId===t.id||V.characterId&&R.following.includes(V.characterId)?!0:R.following.includes(V.userId)):s.filter(V=>V.userId===t.id?!0:D.has(V.userId))},Ss=async R=>{try{const{data:D,error:V}=await Y.from("follows").select(`
          follower:profiles!follows_follower_id_fkey(*)
        `).eq("following_id",R);if(V)throw V;return D.map(S=>({id:S.follower.id,username:S.follower.username,displayName:S.follower.display_name,avatar:S.follower.avatar_url,headerImage:S.follower.header_image_url,bio:S.follower.bio,writersTag:S.follower.writers_tag,email:S.follower.email,twoFactorEnabled:S.follower.two_factor_enabled,characters:[],followers:S.follower.followers||[],following:S.follower.following||[],createdAt:new Date(S.follower.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}))}catch(D){return console.error("Error loading user followers:",D),[]}},Zr=async R=>{try{const{data:D,error:V}=await Y.from("follows").select(`
          following:profiles!follows_following_id_fkey(*)
        `).eq("follower_id",R);if(V)throw V;return D.map(S=>({id:S.following.id,username:S.following.username,displayName:S.following.display_name,avatar:S.following.avatar_url,headerImage:S.following.header_image_url,bio:S.following.bio,writersTag:S.following.writers_tag,email:S.following.email,twoFactorEnabled:S.following.two_factor_enabled,characters:[],followers:S.following.followers||[],following:S.following.following||[],createdAt:new Date(S.following.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}))}catch(D){return console.error("Error loading user following:",D),[]}},xt=async R=>{const D=r.find(S=>S.id===R);return D?f.filter(S=>D.followers.includes(S.id)):[]},nt=async R=>{const D=r.find(ee=>ee.id===R);if(!D)return[];const V=[],S=f.filter(ee=>D.following.includes(ee.id));V.push(...S);const J=r.filter(ee=>D.following.includes(ee.id));return V.push(...J),V},Wt=R=>{if(!t)return;const D=[...g,R];v(D),j("posts",D)},Dn=R=>{if(!t)return;const D=[...w,R];y(D),j("characters",D)},Gi=R=>{if(!t)return;const D=[...m,R];x(D),j("users",D)},gr=R=>{if(!t)return;const D=g.filter(V=>V!==R);v(D),j("posts",D)},Jr=R=>{if(!t)return;const D=w.filter(V=>V!==R);y(D),j("characters",D)},ol=R=>{if(!t)return;const D=m.filter(V=>V!==R);x(D),j("users",D)};return l.jsx(fv.Provider,{value:{characters:r,posts:s,notifications:o,chats:c,selectedCharacter:d,unreadNotifications:b,unreadMessages:C,allUsers:f,bookmarkedPosts:g,bookmarkedCharacters:w,bookmarkedUsers:m,setCharacters:n,setPosts:i,setNotifications:a,setChats:u,setSelectedCharacter:h,addCharacter:G,updateCharacter:A,deleteCharacter:Q,addPost:$,updatePost:H,deletePost:F,likePost:U,repostPost:ae,pinPost:L,unpinPost:z,addComment:M,addNotification:Z,markNotificationAsRead:K,clearAllNotifications:ue,sendMessage:Oe,createChat:Zt,searchContent:zt,getRecommendations:Jt,followUser:je,unfollowUser:He,followCharacter:oe,unfollowCharacter:Ne,getPostComments:I,getFilteredPosts:Ht,getUserFollowers:Ss,getUserFollowing:Zr,getCharacterFollowers:xt,getCharacterFollowing:nt,bookmarkPost:Wt,bookmarkCharacter:Dn,bookmarkUser:Gi,unbookmarkPost:gr,unbookmarkCharacter:Jr,unbookmarkUser:ol,getChatMessages:O,markMessagesAsRead:q},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:c,...u},d)=>N.createElement("svg",{ref:d,...mC,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gC(e)}`,a].join(" "),...u},[...t.map(([h,f])=>N.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=ne("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ne("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=ne("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ne("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=ne("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ne("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=ne("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ne("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ne("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ne("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=ne("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cv=()=>l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:l.jsx(ud,{className:"w-8 h-8 text-white animate-bounce"})}),l.jsx("p",{className:"text-gray-400",children:"Loading CharacterVerse..."})]})}),LC=()=>{const[e,t]=N.useState(!0),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[o,a]=N.useState(""),[c,u]=N.useState({identifier:"",password:"",displayName:"",writersTag:"",email:""}),{login:d,register:h}=Be(),f=async p=>{p.preventDefault(),i(!0),a("");try{if(e)await d(c.identifier,c.password);else{const g=c.identifier.includes("@")?c.identifier.split("@")[0]:c.identifier;await h(g,c.password,c.displayName,c.writersTag,c.email)}}catch(g){console.error("Authentication error:",g),a(g.message||"An error occurred. Please try again.")}finally{i(!1)}};return s?l.jsx(Cv,{}):l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-2xl border border-gray-700/50 p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(ud,{className:"w-8 h-8 text-white"})}),l.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"VERSE"}),l.jsx("p",{className:"text-gray-400",children:e?"Welcome back to the community":"Join the storytelling community"})]}),o&&l.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/30 rounded-lg",children:l.jsx("p",{className:"text-red-400 text-sm",children:o})}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e?"Username or Email":"Username"}),l.jsx("input",{type:"text",value:c.identifier,onChange:p=>u(g=>({...g,identifier:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:e?"Enter username or email":"Choose a username",required:!0})]}),!e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),l.jsx("input",{type:"text",value:c.displayName,onChange:p=>u(g=>({...g,displayName:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"Your display name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),l.jsx("input",{type:"text",value:c.writersTag,onChange:p=>u(g=>({...g,writersTag:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., fantasy, scifi, modern",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:c.email,onChange:p=>u(g=>({...g,email:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"your@email.com",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:r?"text":"password",value:c.password,onChange:p=>u(g=>({...g,password:p.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 pr-12 text-white focus:border-purple-500 focus:outline-none",placeholder:"Enter your password",required:!0}),l.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:r?l.jsx(CC,{className:"w-5 h-5"}):l.jsx(cd,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:e?"Sign In":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>{t(!e),a(""),u({identifier:"",password:"",displayName:"",writersTag:"",email:""})},className:"text-purple-400 hover:text-purple-300 transition-colors",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})}),l.jsx("div",{className:"p-6 text-center border-t border-gray-700/50 bg-black/20",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:["Verse © ",new Date().getFullYear()]})})]})};function rp(e){const r=new Date().getTime()-e.getTime(),n=Math.floor(r/(1e3*60)),s=Math.floor(r/(1e3*60*60)),i=Math.floor(r/(1e3*60*60*24));return n<1?"now":n<60?`${n}m`:s<24?`${s}h`:i<7?`${i}d`:e.toLocaleDateString()}const Es=({post:e,onLike:t,onRepost:r,onBookmark:n,isBookmarked:s=!1,showReplies:i=!1,showPinOption:o=!1,onPin:a})=>{var L,z,U,ae,I,Z,K,ue,je,He;const{user:c}=Be(),{updatePost:u,deletePost:d,addComment:h,characters:f}=rt(),[p,g]=N.useState(!1),[v,w]=N.useState(!1),[y,m]=N.useState(!1),[x,b]=N.useState(e.content),[C,k]=N.useState(""),[j,_]=N.useState("user"),T=((L=e.character)==null?void 0:L.avatar)||((z=e.user)==null?void 0:z.avatar)||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=350&h=350",E=((U=e.character)==null?void 0:U.name)||((ae=e.user)==null?void 0:ae.displayName)||((I=e.user)==null?void 0:I.username)||"Unknown User",B=((Z=e.character)==null?void 0:Z.title)||"",P=(K=e.character)==null?void 0:K.universe,O=((ue=e.character)==null?void 0:ue.username)||((je=e.user)==null?void 0:je.username)||"",q=e.userId===(c==null?void 0:c.id),G=f.filter(oe=>oe.userId===(c==null?void 0:c.id)),A=()=>{m(!0),g(!1)},Q=()=>{u(e.id,{content:x}),m(!1)},$=()=>{window.confirm("Are you sure you want to delete this post?")&&d(e.id),g(!1)},M=()=>{w(!0)},H=oe=>{if(oe.preventDefault(),C.trim()){const Ne=j==="user"?void 0:j;h(e.id,C.trim(),Ne),k("")}},F=()=>{a&&a(),g(!1)};return l.jsxs("article",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 overflow-hidden",children:[l.jsx("div",{className:"p-6 hover:bg-gray-800/20 transition-colors",children:l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:T,alt:E,className:"w-12 h-12 rounded-full object-cover ring-2 ring-purple-500/30"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h3",{className:"font-bold text-white",children:E}),B&&l.jsx("span",{className:"text-purple-400 text-sm font-medium",children:B}),l.jsxs("span",{className:"text-gray-500",children:["@",O]})]}),l.jsx("span",{className:"text-gray-500",children:"·"}),l.jsx("time",{className:"text-gray-500 text-sm",children:rp(e.timestamp)}),l.jsxs("div",{className:"ml-auto relative",children:[l.jsx("button",{onClick:()=>g(!p),className:"text-gray-500 hover:text-gray-300 transition-colors",children:l.jsx(vv,{className:"w-5 h-5"})}),p&&l.jsxs("div",{className:"absolute right-0 top-8 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-10 min-w-[120px]",children:[n&&l.jsxs("button",{onClick:()=>{n(),g(!1)},className:"w-full text-left px-4 py-2 text-white hover:bg-gray-700 flex items-center space-x-2",children:[l.jsx(da,{className:`w-4 h-4 ${s?"fill-current":""}`}),l.jsx("span",{children:s?"Remove Bookmark":"Bookmark"})]}),q&&l.jsxs(l.Fragment,{children:[o&&l.jsxs("button",{onClick:F,className:"w-full text-left px-4 py-2 text-white hover:bg-gray-700 flex items-center space-x-2",children:[e.isPinned?l.jsx(AC,{className:"w-4 h-4"}):l.jsx(yv,{className:"w-4 h-4"}),l.jsx("span",{children:e.isPinned?"Unpin":"Pin to Profile"})]}),l.jsxs("button",{onClick:A,className:"w-full text-left px-4 py-2 text-white hover:bg-gray-700 flex items-center space-x-2",children:[l.jsx(dd,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:$,className:"w-full text-left px-4 py-2 text-red-400 hover:bg-gray-700 flex items-center space-x-2",children:[l.jsx(Ya,{className:"w-4 h-4"}),l.jsx("span",{children:"Delete"})]})]}),l.jsx("button",{onClick:()=>g(!1),className:"w-full text-left px-4 py-2 text-gray-400 hover:bg-gray-700",children:"Cancel"})]})]})]}),P&&l.jsx("div",{className:"mb-3",children:l.jsxs("div",{className:"inline-flex items-center space-x-2 text-xs text-purple-300 bg-purple-900/30 px-2 py-1 rounded-full mb-2",children:[l.jsx("span",{children:"📖"}),l.jsx("span",{children:P})]})}),l.jsx("div",{className:"mb-4",children:y?l.jsxs("div",{className:"space-y-3",children:[l.jsx("textarea",{value:x,onChange:oe=>b(oe.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",rows:3}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:Q,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>{m(!1),b(e.content)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):l.jsx("p",{className:"text-gray-100 leading-relaxed whitespace-pre-wrap",children:e.content})}),e.mediaUrls&&e.mediaUrls.length>0&&l.jsx("div",{className:"mb-4 grid grid-cols-2 gap-2",children:e.mediaUrls.map((oe,Ne)=>l.jsx("div",{className:"rounded-lg overflow-hidden",children:oe.includes(".mp4")||oe.includes(".mov")||oe.includes(".avi")?l.jsx("video",{src:oe,className:"w-full h-48 object-cover",controls:!0}):l.jsx("img",{src:oe,alt:"Post media",className:"w-full h-48 object-cover"})},Ne))}),l.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[l.jsxs("button",{onClick:M,className:"flex items-center space-x-2 text-gray-500 hover:text-blue-400 transition-colors group",children:[l.jsx("div",{className:"p-2 rounded-full group-hover:bg-blue-400/10 transition-colors",children:l.jsx(Vu,{className:"w-5 h-5"})}),l.jsx("span",{className:"text-sm",children:e.comments})]}),l.jsxs("button",{onClick:r,className:`flex items-center space-x-2 transition-colors group ${e.isReposted?"text-green-400":"text-gray-500 hover:text-green-400"}`,children:[l.jsx("div",{className:"p-2 rounded-full group-hover:bg-green-400/10 transition-colors",children:l.jsx(wv,{className:"w-5 h-5"})}),l.jsx("span",{className:"text-sm",children:e.reposts})]}),l.jsxs("button",{onClick:t,className:`flex items-center space-x-2 transition-colors group ${e.isLiked?"text-red-500":"text-gray-500 hover:text-red-400"}`,children:[l.jsx("div",{className:"p-2 rounded-full group-hover:bg-red-400/10 transition-colors",children:l.jsx(xv,{className:`w-5 h-5 ${e.isLiked?"fill-current":""}`})}),l.jsx("span",{className:"text-sm",children:e.likes})]}),n&&l.jsx("button",{onClick:n,className:`flex items-center space-x-2 transition-colors group ${s?"text-purple-400":"text-gray-500 hover:text-purple-400"}`,children:l.jsx("div",{className:"p-2 rounded-full group-hover:bg-purple-400/10 transition-colors",children:l.jsx(da,{className:`w-5 h-5 ${s?"fill-current":""}`})})}),l.jsx("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-blue-400 transition-colors group",children:l.jsx("div",{className:"p-2 rounded-full group-hover:bg-blue-400/10 transition-colors",children:l.jsx(BC,{className:"w-5 h-5"})})})]})]})]})}),v&&l.jsxs("div",{className:"border-t border-gray-700/50 bg-gray-900/30",children:[l.jsxs("form",{onSubmit:H,className:"p-4 border-b border-gray-700/30",children:[l.jsxs("div",{className:"flex space-x-3 mb-3",children:[l.jsx("img",{src:j==="user"?c==null?void 0:c.avatar:((He=G.find(oe=>oe.id===j))==null?void 0:He.avatar)||(c==null?void 0:c.avatar),alt:"Your avatar",className:"w-8 h-8 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("select",{value:j,onChange:oe=>_(oe.target.value),className:"mb-2 bg-gray-800 text-white border border-gray-600 rounded-lg px-3 py-1 text-sm focus:border-purple-500 focus:outline-none",children:[l.jsx("option",{value:"user",children:"Reply as yourself"}),G.map(oe=>l.jsxs("option",{value:oe.id,children:[oe.name," - ",oe.title]},oe.id))]}),l.jsx("textarea",{value:C,onChange:oe=>k(oe.target.value),placeholder:"Write your reply...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:border-purple-500 focus:outline-none resize-none text-sm",rows:2})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:!C.trim(),className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-1 rounded-lg transition-colors text-sm",children:"Reply"})})]}),e.replies&&e.replies.length>0&&l.jsx("div",{className:"divide-y divide-gray-700/30",children:e.replies.map(oe=>{var Ne,Oe,Zt,zt,Jt,Ht;return l.jsxs("div",{className:"p-4 flex space-x-3",children:[l.jsx("img",{src:((Ne=oe.character)==null?void 0:Ne.avatar)||((Oe=oe.user)==null?void 0:Oe.avatar),alt:((Zt=oe.character)==null?void 0:Zt.name)||((zt=oe.user)==null?void 0:zt.displayName),className:"w-6 h-6 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"font-medium text-white text-sm",children:((Jt=oe.character)==null?void 0:Jt.name)||((Ht=oe.user)==null?void 0:Ht.displayName)}),l.jsx("span",{className:"text-gray-500 text-xs",children:rp(oe.timestamp)})]}),l.jsx("p",{className:"text-gray-100 text-sm",children:oe.content})]})]},oe.id)})}),l.jsx("div",{className:"p-2 text-center",children:l.jsxs("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors text-sm flex items-center space-x-1 mx-auto",children:[l.jsx(_C,{className:"w-4 h-4"}),l.jsx("span",{children:"Hide replies"})]})})]})]})},IC=({posts:e,onLike:t,onRepost:r,onCreatePost:n})=>{const{user:s}=Be(),{characters:i,getFilteredPosts:o,allUsers:a,bookmarkPost:c,unbookmarkPost:u,bookmarkedPosts:d}=rt(),[h,f]=N.useState("user"),[p,g]=N.useState(!1),[v,w]=N.useState("for-you"),y=i.filter(_=>_.userId===(s==null?void 0:s.id)),x=v==="browse"?e.sort((_,T)=>T.timestamp.getTime()-_.timestamp.getTime()):o(h||"user"),b=_=>{f(_),g(!1)},C=_=>{d.includes(_)?u(_):c(_)},k=()=>h==="user"?"Main Account":h&&typeof h=="object"?h.name:"Main Account",j=()=>h==="user"?s==null?void 0:s.avatar:h&&typeof h=="object"?h.avatar:s==null?void 0:s.avatar;return l.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[l.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Home"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Character stories and adventures"})]}),l.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:[l.jsx(Xa,{className:"w-4 h-4"}),l.jsx("span",{children:"Post"})]})]}),l.jsxs("div",{className:"flex space-x-1 mb-4 bg-gray-800/50 rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>w("for-you"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md transition-colors ${v==="for-you"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[l.jsx(gs,{className:"w-4 h-4"}),l.jsx("span",{children:"For You"})]}),l.jsxs("button",{onClick:()=>w("browse"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md transition-colors ${v==="browse"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[l.jsx(pv,{className:"w-4 h-4"}),l.jsx("span",{children:"Browse"})]})]}),v==="for-you"&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>g(!p),className:"flex items-center space-x-3 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg px-4 py-3 transition-colors w-full",children:[l.jsx("img",{src:j(),alt:k(),className:"w-8 h-8 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("p",{className:"text-white font-medium",children:"Viewing as"}),l.jsx("p",{className:"text-gray-400 text-sm",children:k()})]}),l.jsx(bC,{className:`w-5 h-5 text-gray-400 transition-transform ${p?"rotate-180":""}`})]}),p&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-20",children:[l.jsxs("button",{onClick:()=>b("user"),className:`w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-700 transition-colors ${h==="user"?"bg-gray-700":""}`,children:[l.jsx("img",{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.displayName,className:"w-8 h-8 rounded-full object-cover"}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-white font-medium",children:"Main Account"}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",s==null?void 0:s.username]})]})]}),y.map(_=>l.jsxs("button",{onClick:()=>b(_),className:`w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-700 transition-colors ${h&&typeof h=="object"&&h.id===_.id?"bg-gray-700":""}`,children:[l.jsx("img",{src:_.avatar,alt:_.name,className:"w-8 h-8 rounded-full object-cover"}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-white font-medium",children:_.name}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]})]})]},_.id))]})]})]}),l.jsx("div",{className:"divide-y divide-gray-700/30",children:x.length===0?l.jsxs("div",{className:"p-12 text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:v==="browse"?"No posts available":"Welcome to CharacterVerse!"}),l.jsx("p",{className:"text-gray-500 mb-6",children:v==="browse"?"Check back later for new content from the community.":h==="user"?"Follow other writers to see their posts here, or create your first post!":`Follow accounts or characters as ${k()} to see their posts here.`}),l.jsx("button",{onClick:n,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-full transition-colors",children:"Create Your First Post"})]}):x.map(_=>l.jsx(Es,{post:_,onLike:()=>t(_.id),onRepost:()=>r(_.id),onBookmark:()=>C(_.id),isBookmarked:d.includes(_.id)},_.id))}),l.jsx("div",{className:"p-6 text-center border-t border-gray-700/50 bg-black/20",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:["Verse © ",new Date().getFullYear()]})})]})},MC=({characters:e,selectedCharacter:t,onCreatePost:r,onClose:n,replyToPost:s})=>{var B,P,O,q,G,A,Q,$;const{user:i}=Be(),[o,a]=N.useState(""),[c,u]=N.useState(t),[d,h]=N.useState("public"),[f,p]=N.useState(!1),[g,v]=N.useState([]),[w,y]=N.useState(!1),m=e.filter(M=>M.userId===(i==null?void 0:i.id)),x=M=>{M.preventDefault(),o.trim()&&(r(o.trim(),c||void 0,g),a(""),v([]))},b=async(M,H)=>{if(i){y(!0);try{const F=H==="image"?"post-images":"post-videos",L=`${i.id}/${H}_${Date.now()}.${M.name.split(".").pop()}`,z=await ad(M,F,L);z?v(U=>[...U,z]):alert("Failed to upload file")}catch(F){console.error("Upload error:",F),alert("Failed to upload file")}finally{y(!1)}}},C=()=>{const M=document.createElement("input");M.type="file",M.accept="image/*",M.onchange=H=>{var L;const F=(L=H.target.files)==null?void 0:L[0];F&&b(F,"image")},M.click()},k=()=>{const M=document.createElement("input");M.type="file",M.accept="video/*",M.onchange=H=>{var L;const F=(L=H.target.files)==null?void 0:L[0];F&&b(F,"video")},M.click()},j=M=>{v(H=>H.filter((F,L)=>L!==M))},_=o.length,T=280,E=[{value:"public",label:"Public",icon:pv,desc:"Anyone can see this post"},{value:"followers",label:"Followers",icon:gs,desc:"Only your followers can see this"},{value:"private",label:"Private",icon:ha,desc:"Only you can see this"}];return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[l.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Vt,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h2",{className:"text-lg font-bold text-white",children:s?"Reply to Post":"Create Post"}),l.jsx("div",{className:"w-10"})]}),s&&l.jsx("div",{className:"p-4 bg-gray-800/30 border-b border-gray-700/50",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("img",{src:((B=s.character)==null?void 0:B.avatar)||((P=s.user)==null?void 0:P.avatar),alt:((O=s.character)==null?void 0:O.name)||((q=s.user)==null?void 0:q.displayName),className:"w-8 h-8 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"font-medium text-white",children:((G=s.character)==null?void 0:G.name)||((A=s.user)==null?void 0:A.displayName)}),l.jsxs("span",{className:"text-gray-500 text-sm",children:["@",((Q=s.character)==null?void 0:Q.username)||(($=s.user)==null?void 0:$.username)]})]}),l.jsx("p",{className:"text-gray-300 text-sm",children:s.content})]})]})}),l.jsxs("form",{onSubmit:x,className:"p-6",children:[l.jsxs("div",{className:"flex space-x-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:c?l.jsx("img",{src:c.avatar,alt:c.name,className:"w-12 h-12 rounded-full object-cover"}):l.jsx("img",{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.displayName,className:"w-12 h-12 rounded-full object-cover"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center space-x-2 mb-2",children:l.jsxs("select",{value:(c==null?void 0:c.id)||"user",onChange:M=>{if(M.target.value==="user")u(null);else{const H=m.find(F=>F.id===M.target.value);u(H||null)}},className:"bg-gray-800 text-white border border-gray-600 rounded-lg px-3 py-1 text-sm focus:border-purple-500 focus:outline-none",children:[l.jsx("option",{value:"user",children:"Post as yourself"}),m.map(M=>l.jsxs("option",{value:M.id,children:[M.name," - ",M.title]},M.id))]})}),c&&l.jsxs("div",{className:"inline-flex items-center space-x-2 text-xs text-purple-300 bg-purple-900/30 px-2 py-1 rounded-full mb-3",children:[l.jsx("span",{children:"📖"}),l.jsx("span",{children:c.universe})]})]})]}),l.jsx("textarea",{value:o,onChange:M=>a(M.target.value),placeholder:s?"Write your reply...":c?`What's happening in ${c.name}'s world?`:"What's on your mind?",className:"w-full bg-transparent text-white text-xl placeholder-gray-500 resize-none border-none outline-none min-h-[120px]",maxLength:T}),g.length>0&&l.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:g.map((M,H)=>l.jsxs("div",{className:"relative",children:[M.includes(".mp4")||M.includes(".mov")||M.includes(".avi")?l.jsx("video",{src:M,className:"w-full h-32 object-cover rounded-lg",controls:!0}):l.jsx("img",{src:M,alt:"Upload",className:"w-full h-32 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>j(H),className:"absolute top-2 right-2 p-1 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:l.jsx(Vt,{className:"w-4 h-4 text-white"})})]},H))}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-700/50",children:[!s&&l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f,onChange:M=>p(M.target.checked),className:"text-purple-600 focus:ring-purple-500 rounded"}),l.jsx("span",{className:"text-gray-300 text-sm",children:"Create as thread"})]})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Who can see this?"}),l.jsx("div",{className:"flex space-x-2",children:E.map(M=>l.jsxs("button",{type:"button",onClick:()=>h(M.value),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-colors ${d===M.value?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[l.jsx(M.icon,{className:"w-4 h-4"}),l.jsx("span",{children:M.label})]},M.value))})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{type:"button",onClick:C,disabled:w,className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors disabled:opacity-50",children:w?l.jsx(hd,{className:"w-5 h-5 animate-spin"}):l.jsx(mv,{className:"w-5 h-5"})}),l.jsx("button",{type:"button",onClick:k,disabled:w,className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors disabled:opacity-50",children:l.jsx(_v,{className:"w-5 h-5"})}),l.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:l.jsx(RC,{className:"w-5 h-5"})}),l.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:l.jsx(Qa,{className:"w-5 h-5"})}),l.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:l.jsx(gv,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${_>T*.8?_>=T?"border-red-500":"border-yellow-500":"border-gray-600"}`,children:l.jsx("svg",{className:"w-full h-full transform -rotate-90",children:l.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"none",strokeWidth:"2",className:_>T*.8?_>=T?"stroke-red-500":"stroke-yellow-500":"stroke-purple-500",strokeDasharray:`${_/T*88} 88`})})}),l.jsx("span",{className:`text-sm ${_>=T?"text-red-400":"text-gray-500"}`,children:T-_})]}),l.jsx("button",{type:"submit",disabled:!o.trim()||_>T||w,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-full hover:from-purple-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Reply":f?"Start Thread":"Post"})]})]})]})]})})},UC=()=>{const{posts:e,characters:t,selectedCharacter:r,addPost:n,likePost:s,repostPost:i}=rt(),{user:o}=Be(),[a,c]=N.useState(!1),u=(f,p)=>{o&&(n({content:f,characterId:p==null?void 0:p.id,character:p,userId:o.id,user:o,isThread:!1,visibility:"public",tags:f.match(/#\w+/g)||[]}),c(!1))},d=f=>{s(f)},h=f=>{i(f)};return l.jsxs(l.Fragment,{children:[l.jsx(IC,{posts:e,onLike:d,onRepost:h,onCreatePost:()=>c(!0)}),a&&l.jsx(MC,{characters:t,selectedCharacter:r,onCreatePost:u,onClose:()=>c(!1)})]})},fa=({currentImage:e,onImageChange:t,type:r,className:n=""})=>{const{user:s}=Be(),i=N.useRef(null),[o,a]=N.useState(!1),[c,u]=N.useState(!1),d=async v=>{if(!(!s||!v)){if(!v.type.startsWith("image/")){alert("Please select an image file");return}if(v.size>5*1024*1024){alert("File size must be less than 5MB");return}a(!0);try{const w=r==="avatar"?"avatars":"headers",y=`${s.id}/${r}_${Date.now()}.${v.name.split(".").pop()}`,m=await ad(v,w,y);m?t(m):alert("Failed to upload image")}catch(w){console.error("Upload error:",w),alert("Failed to upload image")}finally{a(!1)}}},h=()=>{var v;(v=i.current)==null||v.click()},f=v=>{v.preventDefault(),u(!1);const w=Array.from(v.dataTransfer.files);w.length>0&&d(w[0])},p=v=>{v.preventDefault(),u(!0)},g=v=>{v.preventDefault(),u(!1)};return l.jsxs("div",{className:`relative group ${n}`,children:[l.jsxs("div",{onClick:h,onDrop:f,onDragOver:p,onDragLeave:g,className:`relative cursor-pointer transition-all duration-200 ${c?"scale-105 opacity-80":""} ${r==="avatar"?"w-32 h-32 rounded-full":"w-full h-48 rounded-lg"} overflow-hidden bg-gray-800 border-2 border-dashed border-gray-600 hover:border-purple-500`,children:[e?l.jsx("img",{src:e,alt:r,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx($u,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-400 text-sm",children:r==="avatar"?"Upload Avatar":"Upload Header"})]})}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:o?l.jsxs("div",{className:"text-white text-center",children:[l.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full mx-auto mb-2"}),l.jsx("p",{className:"text-sm",children:"Uploading..."})]}):l.jsxs("div",{className:"text-white text-center",children:[l.jsx(hd,{className:"w-6 h-6 mx-auto mb-2"}),l.jsxs("p",{className:"text-sm",children:[e?"Change":"Upload"," ",r]})]})})]}),l.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:v=>{var y;const w=(y=v.target.files)==null?void 0:y[0];w&&d(w)},className:"hidden"}),c&&l.jsx("div",{className:"absolute inset-0 bg-purple-500/20 border-2 border-purple-500 rounded-lg flex items-center justify-center",children:l.jsx("p",{className:"text-purple-300 font-medium",children:"Drop image here"})})]})},$C=({character:e,onClose:t})=>{const{updateCharacter:r}=rt(),[n,s]=N.useState({username:e.username,name:e.name,title:e.title,bio:e.bio,universe:e.universe,verseTag:e.verseTag,traits:e.traits.join(", "),customColor:e.customColor,customFont:e.customFont,avatar:e.avatar,headerImage:e.headerImage}),i=a=>{a.preventDefault();const c={username:n.username,name:n.name,title:n.title,bio:n.bio,universe:n.universe,verseTag:n.verseTag,traits:n.traits.split(",").map(u=>u.trim()).filter(u=>u),customColor:n.customColor,customFont:n.customFont,avatar:n.avatar,headerImage:n.headerImage};r(e.id,c),t()},o=["Inter","Roboto","Open Sans","Lato","Montserrat","Playfair Display","Crimson Text","Merriweather","Courier New","Georgia"];return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Edit Character"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Vt,{className:"w-6 h-6 text-gray-400"})})]}),l.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Header Image"}),l.jsx(fa,{currentImage:n.headerImage,onImageChange:a=>s(c=>({...c,headerImage:a})),type:"header"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Avatar"}),l.jsx(fa,{currentImage:n.avatar,onImageChange:a=>s(c=>({...c,avatar:a})),type:"avatar",className:"w-32"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Username *"}),l.jsx("input",{type:"text",value:n.username,onChange:a=>s(c=>({...c,username:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Name *"}),l.jsx("input",{type:"text",value:n.name,onChange:a=>s(c=>({...c,name:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title/Role *"}),l.jsx("input",{type:"text",value:n.title,onChange:a=>s(c=>({...c,title:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Universe *"}),l.jsx("input",{type:"text",value:n.universe,onChange:a=>s(c=>({...c,universe:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Verse Tag *"}),l.jsx("input",{type:"text",value:n.verseTag,onChange:a=>s(c=>({...c,verseTag:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Color"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:n.customColor,onChange:a=>s(c=>({...c,customColor:a.target.value})),className:"w-12 h-12 rounded-lg border border-gray-600 bg-gray-800"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:n.customColor,onChange:a=>s(c=>({...c,customColor:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio *"}),l.jsx("textarea",{value:n.bio,onChange:a=>s(c=>({...c,bio:a.target.value})),rows:4,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Traits (comma-separated)"}),l.jsx("input",{type:"text",value:n.traits,onChange:a=>s(c=>({...c,traits:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Font"}),l.jsx("select",{value:n.customFont,onChange:a=>s(c=>({...c,customFont:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",children:o.map(a=>l.jsx("option",{value:a,style:{fontFamily:a},children:a},a))})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[l.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Save Changes"})]})]})]})})},fd=({character:e,onClose:t})=>{const{user:r}=Be(),{posts:n,followCharacter:s,unfollowCharacter:i,likePost:o,repostPost:a,getCharacterFollowers:c,getCharacterFollowing:u}=rt(),[d,h]=N.useState("posts"),[f,p]=N.useState([]),[g,v]=N.useState([]),w=e.userId===(r==null?void 0:r.id),y=e.followers.includes((r==null?void 0:r.id)||""),m=n.filter(_=>_.characterId===e.id);N.useEffect(()=>{d==="followers"?x():d==="following"&&b()},[d,e.id]);const x=async()=>{const _=await c(e.id);p(_)},b=async()=>{const _=await u(e.id);v(_)},C=()=>{y?i(e.id):s(e.id)},k=_=>{o(_)},j=_=>{a(_)};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Character Profile"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Vt,{className:"w-6 h-6 text-gray-400"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-48 relative",style:{backgroundColor:`${e.customColor}30`},children:l.jsx("img",{src:e.headerImage,alt:"Character header",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"relative px-6 pb-6",children:[l.jsxs("div",{className:"flex items-end justify-between -mt-16 mb-4",children:[l.jsx("img",{src:e.avatar,alt:e.name,className:"w-32 h-32 rounded-full object-cover ring-4 ring-gray-900 bg-gray-900 relative z-10"}),!w&&l.jsx("button",{onClick:C,className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors ${y?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:y?l.jsxs(l.Fragment,{children:[l.jsx(Pi,{className:"w-4 h-4"}),l.jsx("span",{children:"Unfollow"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Br,{className:"w-4 h-4"}),l.jsx("span",{children:"Follow"})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:e.name}),l.jsx("p",{className:"text-purple-300 text-lg",children:e.title}),l.jsxs("p",{className:"text-gray-400",children:["@",e.username]})]}),l.jsx("p",{className:"text-gray-300",children:e.bio}),l.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(gv,{className:"w-4 h-4"}),l.jsx("span",{children:e.universe})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Qa,{className:"w-4 h-4"}),l.jsxs("span",{children:["Created ",e.createdAt.toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.customColor}}),l.jsxs("span",{children:["#",e.verseTag]})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.traits.map(_=>l.jsx("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-300 text-xs rounded-full",children:_},_))}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[l.jsxs("button",{onClick:()=>h("following"),className:"hover:text-white transition-colors",children:[l.jsx("span",{className:"font-bold text-white",children:e.following.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Following"})]}),l.jsxs("button",{onClick:()=>h("followers"),className:"hover:text-white transition-colors",children:[l.jsx("span",{className:"font-bold text-white",children:e.followers.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Followers"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-white",children:m.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Posts"})]})]})]})]})]}),l.jsx("div",{className:"border-b border-gray-700/50 bg-black/20 sticky top-16 z-10",children:l.jsx("div",{className:"flex",children:[{key:"posts",label:"Posts",count:m.length},{key:"followers",label:"Followers",count:e.followers.length},{key:"following",label:"Following",count:e.following.length}].map(_=>l.jsxs("button",{onClick:()=>h(_.key),className:`flex-1 px-4 py-4 text-center transition-colors relative ${d===_.key?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,children:[l.jsx("span",{className:"font-medium",children:_.label}),_.count>0&&l.jsx("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-1 rounded-full",children:_.count})]},_.key))})}),l.jsxs("div",{className:"p-6",children:[d==="posts"&&l.jsx("div",{className:"space-y-4",children:m.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"No posts yet"})}):m.map(_=>l.jsx(Es,{post:_,onLike:()=>k(_.id),onRepost:()=>j(_.id)},_.id))}),d==="followers"&&l.jsx("div",{className:"space-y-4",children:f.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"No followers yet"})}):f.map(_=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[l.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-12 h-12 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-white font-medium",children:_.displayName}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]}),l.jsxs("p",{className:"text-purple-300 text-sm",children:["#",_.writersTag]})]})]},_.id))}),d==="following"&&l.jsx("div",{className:"space-y-4",children:g.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"Not following anyone yet"})}):g.map(_=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[l.jsx("img",{src:_.avatar,alt:"displayName"in _?_.displayName:_.name,className:"w-12 h-12 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-white font-medium",children:"displayName"in _?_.displayName:_.name}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]}),l.jsxs("p",{className:"text-purple-300 text-sm",children:["#","writersTag"in _?_.writersTag:_.verseTag]})]})]},_.id))})]})]})})},ii=({character:e,onEdit:t,onDelete:r,showActions:n=!0,showFollowButton:s=!1})=>{const{user:i}=Be(),{deleteCharacter:o,followCharacter:a,unfollowCharacter:c}=rt(),[u,d]=N.useState(!1),[h,f]=N.useState(!1),p=e.userId===(i==null?void 0:i.id),g=e.followers.includes((i==null?void 0:i.id)||""),v=()=>{t?t():d(!0)},w=()=>{window.confirm("Are you sure you want to delete this character?")&&(r?r():o(e.id))},y=()=>{g?c(e.id):a(e.id)},m=()=>{f(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"rounded-2xl border border-gray-700/50 overflow-hidden hover:bg-gray-700/30 transition-colors cursor-pointer relative",style:{backgroundColor:`${e.customColor}50`},onClick:m,children:[l.jsxs("div",{className:"relative h-32",children:[l.jsx("img",{src:e.headerImage,alt:`${e.name} header`,className:"w-full h-full object-cover"}),n&&p&&l.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[l.jsx("button",{onClick:x=>{x.stopPropagation(),v()},className:"p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:l.jsx(dd,{className:"w-4 h-4 text-white"})}),l.jsx("button",{onClick:x=>{x.stopPropagation(),w()},className:"p-2 bg-black/50 hover:bg-red-600/70 rounded-full transition-colors",children:l.jsx(Ya,{className:"w-4 h-4 text-white"})})]})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 -mt-16 mb-4 relative z-10",children:[l.jsx("img",{src:e.avatar,alt:e.name,className:"w-16 h-16 rounded-full object-cover ring-4 ring-gray-800 bg-gray-800"}),l.jsx("div",{className:"flex items-center space-x-2 mt-8",children:l.jsxs("span",{className:"text-purple-300 text-sm",children:["#",e.verseTag]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:e.name}),l.jsx("p",{className:"text-purple-300",children:e.title}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",e.username]})]}),l.jsx("p",{className:"text-gray-300 text-sm line-clamp-3",children:e.bio}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.traits.slice(0,3).map(x=>l.jsx("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-300 text-xs rounded-full",children:x},x)),e.traits.length>3&&l.jsxs("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-400 text-xs rounded-full",children:["+",e.traits.length-3," more"]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[l.jsxs("span",{children:[e.followers.length," followers"]}),l.jsxs("span",{children:[e.following.length," following"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[s&&!p&&l.jsx("button",{onClick:x=>{x.stopPropagation(),y()},className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${g?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:g?l.jsxs(l.Fragment,{children:[l.jsx(Pi,{className:"w-3 h-3"}),l.jsx("span",{children:"Unfollow"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Br,{className:"w-3 h-3"}),l.jsx("span",{children:"Follow"})]})}),l.jsxs("button",{onClick:x=>{x.stopPropagation(),m()},className:"flex items-center space-x-1 px-3 py-1 bg-gray-700 text-white rounded-full text-sm hover:bg-gray-600 transition-colors",children:[l.jsx(cd,{className:"w-3 h-3"}),l.jsx("span",{children:"View"})]})]})]})]})]})]}),u&&l.jsx($C,{character:e,onClose:()=>d(!1)}),h&&l.jsx(fd,{character:e,onClose:()=>f(!1)})]})},kv=({user:e,onClose:t})=>{const{user:r}=Be(),{posts:n,followUser:s,unfollowUser:i,likePost:o,repostPost:a,getUserFollowers:c,getUserFollowing:u}=rt(),[d,h]=N.useState("posts"),[f,p]=N.useState([]),[g,v]=N.useState([]),w=e.id===(r==null?void 0:r.id),y=(r==null?void 0:r.following.includes(e.id))||!1,m=n.filter(_=>_.userId===e.id);N.useEffect(()=>{d==="followers"?x():d==="following"&&b()},[d,e.id]);const x=async()=>{const _=await c(e.id);p(_)},b=async()=>{const _=await u(e.id);v(_)},C=()=>{s(e.id)},k=_=>{o(_)},j=_=>{a(_)};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Profile"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Vt,{className:"w-6 h-6 text-gray-400"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-48 relative bg-gradient-to-r from-purple-600 via-pink-600 to-purple-800",children:l.jsx("img",{src:e.headerImage,alt:"Profile header",className:"w-full h-full object-cover",style:{width:"1500px",height:"500px",objectFit:"cover"}})}),l.jsxs("div",{className:"relative px-6 pb-6",children:[l.jsxs("div",{className:"flex items-end justify-between -mt-16 mb-4",children:[l.jsx("img",{src:e.avatar,alt:e.displayName,className:"w-32 h-32 rounded-full object-cover ring-4 ring-gray-900 bg-gray-900 relative z-10",style:{width:"350px",height:"350px",objectFit:"cover"}}),!w&&l.jsx("button",{onClick:C,className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors ${y?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:y?l.jsxs(l.Fragment,{children:[l.jsx(Pi,{className:"w-4 h-4"}),l.jsx("span",{children:"Unfollow"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Br,{className:"w-4 h-4"}),l.jsx("span",{children:"Follow"})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:e.displayName}),l.jsxs("p",{className:"text-gray-400",children:["@",e.username]})]}),l.jsx("p",{className:"text-gray-300",children:e.bio}),l.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Qa,{className:"w-4 h-4"}),l.jsxs("span",{children:["Joined ",e.createdAt.toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),l.jsxs("span",{children:["#",e.writersTag]})]})]}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[l.jsxs("button",{onClick:()=>h("following"),className:"hover:text-white transition-colors",children:[l.jsx("span",{className:"font-bold text-white",children:e.following.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Following"})]}),l.jsxs("button",{onClick:()=>h("followers"),className:"hover:text-white transition-colors",children:[l.jsx("span",{className:"font-bold text-white",children:e.followers.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Followers"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-white",children:m.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Posts"})]})]})]})]})]}),l.jsx("div",{className:"border-b border-gray-700/50 bg-black/20 sticky top-16 z-10",children:l.jsx("div",{className:"flex",children:[{key:"posts",label:"Posts",count:m.length},{key:"followers",label:"Followers",count:e.followers.length},{key:"following",label:"Following",count:e.following.length}].map(_=>l.jsxs("button",{onClick:()=>h(_.key),className:`flex-1 px-4 py-4 text-center transition-colors relative ${d===_.key?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,children:[l.jsx("span",{className:"font-medium",children:_.label}),_.count>0&&l.jsx("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-1 rounded-full",children:_.count})]},_.key))})}),l.jsxs("div",{className:"p-6",children:[d==="posts"&&l.jsx("div",{className:"space-y-4",children:m.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"No posts yet"})}):m.map(_=>l.jsx(Es,{post:_,onLike:()=>k(_.id),onRepost:()=>j(_.id)},_.id))}),d==="followers"&&l.jsx("div",{className:"space-y-4",children:f.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"No followers yet"})}):f.map(_=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[l.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-12 h-12 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-white font-medium",children:_.displayName}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]}),l.jsxs("p",{className:"text-purple-300 text-sm",children:["#",_.writersTag]})]})]},_.id))}),d==="following"&&l.jsx("div",{className:"space-y-4",children:g.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"Not following anyone yet"})}):g.map(_=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[l.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-12 h-12 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-white font-medium",children:_.displayName}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",_.username]}),l.jsxs("p",{className:"text-purple-300 text-sm",children:["#",_.writersTag]})]})]},_.id))})]})]})})},VC=()=>{const{user:e}=Be(),{posts:t,characters:r,allUsers:n,searchContent:s,getRecommendations:i,likePost:o,repostPost:a,followUser:c,unfollowUser:u}=rt(),[d,h]=N.useState(""),[f,p]=N.useState("trending"),[g,v]=N.useState({posts:[],characters:[],users:[]}),[w,y]=N.useState({writers:[],characters:[]}),[m,x]=N.useState(null),[b,C]=N.useState(null);N.useEffect(()=>{const A=i();y(A)},[i]),N.useEffect(()=>{if(d.trim()){const A=s(d);v(A),p("search")}},[d,s]);const k=t.flatMap(A=>A.tags).reduce((A,Q)=>(A[Q]=(A[Q]||0)+1,A),{}),j=Object.entries(k).sort(([,A],[,Q])=>Q-A).slice(0,10),_=r.map(A=>A.verseTag).filter((A,Q,$)=>$.indexOf(A)===Q).slice(0,8),T=n.filter(A=>A.id!==(e==null?void 0:e.id)).slice(0,10),E=A=>{o(A)},B=A=>{a(A)},P=async A=>{await c(A)},O=A=>(e==null?void 0:e.following.includes(A))||!1,q=A=>{x(A)},G=A=>{C(A)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[l.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Explore"}),l.jsxs("div",{className:"relative mb-4",children:[l.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",value:d,onChange:A=>h(A.target.value),placeholder:"Search posts, characters, tags, or writers...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-10 pr-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),l.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:[{key:"trending",label:"Trending",icon:tp},{key:"tags",label:"Tags",icon:_c},{key:"characters",label:"Characters",icon:gs},{key:"writers",label:"Writers",icon:Br},...d?[{key:"search",label:"Search Results",icon:ls}]:[]].map(A=>l.jsxs("button",{onClick:()=>p(A.key),className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors whitespace-nowrap ${f===A.key?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[l.jsx(A.icon,{className:"w-4 h-4"}),l.jsx("span",{children:A.label})]},A.key))})]}),l.jsxs("div",{className:"p-6",children:[f==="trending"&&l.jsxs("div",{className:"space-y-6",children:[w.characters.length>0&&l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[l.jsx(OC,{className:"w-5 h-5 text-purple-400"}),l.jsx("span",{children:"Recommended for You"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.characters.slice(0,4).map(A=>l.jsx("div",{onClick:()=>G(A),children:l.jsx(ii,{character:A,showActions:!1,showFollowButton:!0})},A.id))})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[l.jsx(tp,{className:"w-5 h-5 text-purple-400"}),l.jsx("span",{children:"Trending Now"})]}),l.jsx("div",{className:"space-y-3",children:j.length>0?j.map(([A,Q])=>l.jsx("div",{className:"flex items-center justify-between p-3 hover:bg-gray-700/30 rounded-lg cursor-pointer transition-colors",children:l.jsxs("div",{children:[l.jsxs("p",{className:"text-purple-400 font-medium",children:["#",A]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:[Q," posts"]})]})},A)):l.jsx("p",{className:"text-gray-400 text-center py-4",children:"No trending tags yet"})})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Popular Verses"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:_.map(A=>l.jsxs("div",{className:"bg-purple-900/30 rounded-lg p-3 hover:bg-purple-900/50 cursor-pointer transition-colors",children:[l.jsxs("p",{className:"text-purple-300 font-medium",children:["#",A]}),l.jsxs("p",{className:"text-gray-400 text-sm",children:[r.filter(Q=>Q.verseTag===A).length," characters"]})]},A))})]})]}),f==="tags"&&l.jsx("div",{className:"space-y-4",children:j.length>0?j.map(([A,Q])=>l.jsx("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50 hover:bg-gray-700/30 cursor-pointer transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-purple-400 font-bold text-lg",children:["#",A]}),l.jsxs("p",{className:"text-gray-400",children:[Q," posts"]})]}),l.jsx(_c,{className:"w-6 h-6 text-purple-400"})]})},A)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(_c,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"No tags found"})]})}),f==="characters"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.length>0?r.map(A=>l.jsx("div",{onClick:()=>G(A),children:l.jsx(ii,{character:A,showActions:!1,showFollowButton:A.userId!==(e==null?void 0:e.id)})},A.id)):l.jsxs("div",{className:"col-span-full text-center py-12",children:[l.jsx(gs,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"No characters found"})]})}),f==="writers"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.length>0?T.map(A=>l.jsxs("div",{onClick:()=>q(A),className:"bg-gray-800/50 rounded-2xl border border-gray-700/50 hover:bg-gray-700/30 transition-colors cursor-pointer overflow-hidden",children:[l.jsx("div",{className:"h-32 relative",children:l.jsx("img",{src:A.headerImage,alt:`${A.displayName} header`,className:"w-full h-full object-cover",style:{width:"1500px",height:"500px",objectFit:"cover"}})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 -mt-16 mb-4 relative z-10",children:[l.jsx("img",{src:A.avatar,alt:A.displayName,className:"w-16 h-16 rounded-full object-cover ring-4 ring-gray-800 bg-gray-800",style:{width:"350px",height:"350px",objectFit:"cover"}}),l.jsx("div",{className:"flex items-center space-x-2 mt-8",children:l.jsxs("span",{className:"text-purple-300 text-sm",children:["#",A.writersTag]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:A.displayName}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",A.username]})]}),l.jsx("p",{className:"text-gray-300 text-sm line-clamp-3",children:A.bio}),l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[l.jsxs("span",{children:[A.followers.length," followers"]}),l.jsxs("span",{children:[A.following.length," following"]})]}),l.jsx("button",{onClick:Q=>{Q.stopPropagation(),P(A.id)},className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${O(A.id)?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:O(A.id)?l.jsxs(l.Fragment,{children:[l.jsx(Pi,{className:"w-3 h-3"}),l.jsx("span",{children:"Unfollow"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Br,{className:"w-3 h-3"}),l.jsx("span",{children:"Follow"})]})})]})]})]})]},A.id)):l.jsxs("div",{className:"col-span-full text-center py-12",children:[l.jsx(Br,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"No writers found"})]})}),f==="search"&&d&&l.jsxs("div",{className:"space-y-6",children:[g.posts.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Posts"}),l.jsx("div",{className:"space-y-4",children:g.posts.map(A=>l.jsx(Es,{post:A,onLike:()=>E(A.id),onRepost:()=>B(A.id)},A.id))})]}),g.characters.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Characters"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.characters.map(A=>l.jsx("div",{onClick:()=>G(A),children:l.jsx(ii,{character:A,showActions:!1,showFollowButton:A.userId!==(e==null?void 0:e.id)})},A.id))})]}),g.users.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Writers"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.users.map(A=>l.jsxs("div",{onClick:()=>q(A),className:"bg-gray-800/50 rounded-2xl border border-gray-700/50 hover:bg-gray-700/30 transition-colors cursor-pointer overflow-hidden",children:[l.jsx("div",{className:"h-32 relative",children:l.jsx("img",{src:A.headerImage,alt:`${A.displayName} header`,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 -mt-16 mb-4 relative z-10",children:[l.jsx("img",{src:A.avatar,alt:A.displayName,className:"w-16 h-16 rounded-full object-cover ring-4 ring-gray-800 bg-gray-800"}),l.jsx("div",{className:"flex items-center space-x-2 mt-8",children:l.jsxs("span",{className:"text-purple-300 text-sm",children:["#",A.writersTag]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:A.displayName}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",A.username]})]}),l.jsx("p",{className:"text-gray-300 text-sm line-clamp-3",children:A.bio}),l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[l.jsxs("span",{children:[A.followers.length," followers"]}),l.jsxs("span",{children:[A.following.length," following"]})]}),l.jsx("button",{onClick:Q=>{Q.stopPropagation(),P(A.id)},className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${O(A.id)?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:O(A.id)?l.jsxs(l.Fragment,{children:[l.jsx(Pi,{className:"w-3 h-3"}),l.jsx("span",{children:"Unfollow"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Br,{className:"w-3 h-3"}),l.jsx("span",{children:"Follow"})]})})]})]})]})]},A.id))})]}),g.posts.length===0&&g.characters.length===0&&g.users.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ls,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No results found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms"})]})]})]}),l.jsx("div",{className:"p-6 text-center border-t border-gray-700/50 bg-black/20",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:["Verse © ",new Date().getFullYear()]})})]}),m&&l.jsx(kv,{user:m,onClose:()=>x(null)}),b&&l.jsx(fd,{character:b,onClose:()=>C(null)})]})},zC="Left",HC="Right",WC="Up",qC="Down",Xn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},zu={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},np="mousemove",sp="mouseup",KC="touchend",GC="touchmove",QC="touchstart";function XC(e,t,r,n){return e>t?r>0?HC:zC:n>0?qC:WC}function ip(e,t){if(t===0)return e;const r=Math.PI/180*t,n=e[0]*Math.cos(r)+e[1]*Math.sin(r),s=e[1]*Math.cos(r)-e[0]*Math.sin(r);return[n,s]}function YC(e,t){const r=d=>{const h="touches"in d;h&&d.touches.length>1||e((f,p)=>{p.trackMouse&&!h&&(document.addEventListener(np,n),document.addEventListener(sp,o));const{clientX:g,clientY:v}=h?d.touches[0]:d,w=ip([g,v],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},f),zu),{initial:w.slice(),xy:w,start:d.timeStamp||0})})},n=d=>{e((h,f)=>{const p="touches"in d;if(p&&d.touches.length>1)return h;if(d.timeStamp-h.start>f.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:g,clientY:v}=p?d.touches[0]:d,[w,y]=ip([g,v],f.rotationAngle),m=w-h.xy[0],x=y-h.xy[1],b=Math.abs(m),C=Math.abs(x),k=(d.timeStamp||0)-h.start,j=Math.sqrt(b*b+C*C)/(k||1),_=[m/(k||1),x/(k||1)],T=XC(b,C,m,x),E=typeof f.delta=="number"?f.delta:f.delta[T.toLowerCase()]||Xn.delta;if(b<E&&C<E&&!h.swiping)return h;const B={absX:b,absY:C,deltaX:m,deltaY:x,dir:T,event:d,first:h.first,initial:h.initial,velocity:j,vxvy:_};B.first&&f.onSwipeStart&&f.onSwipeStart(B),f.onSwiping&&f.onSwiping(B);let P=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${T}`])&&(P=!0),P&&f.preventScrollOnSwipe&&f.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:B,swiping:!0})})},s=d=>{e((h,f)=>{let p;if(h.swiping&&h.eventData){if(d.timeStamp-h.start<f.swipeDuration){p=Object.assign(Object.assign({},h.eventData),{event:d}),f.onSwiped&&f.onSwiped(p);const g=f[`onSwiped${p.dir}`];g&&g(p)}}else f.onTap&&f.onTap({event:d});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},h),zu),{eventData:p})})},i=()=>{document.removeEventListener(np,n),document.removeEventListener(sp,o)},o=d=>{i(),s(d)},a=(d,h)=>{let f=()=>{};if(d&&d.addEventListener){const p=Object.assign(Object.assign({},Xn.touchEventOptions),h.touchEventOptions),g=[[QC,r,p],[GC,n,Object.assign(Object.assign({},p),h.preventScrollOnSwipe?{passive:!1}:{})],[KC,s,p]];g.forEach(([v,w,y])=>d.addEventListener(v,w,y)),f=()=>g.forEach(([v,w])=>d.removeEventListener(v,w))}return f},u={ref:d=>{d!==null&&e((h,f)=>{if(h.el===d)return h;const p={};return h.el&&h.el!==d&&h.cleanUpTouch&&(h.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&d&&(p.cleanUpTouch=a(d,f)),Object.assign(Object.assign(Object.assign({},h),{el:d}),p)})}};return t.trackMouse&&(u.onMouseDown=r),[u,a]}function ZC(e,t,r,n){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==r.preventScrollOnSwipe||t.touchEventOptions.passive!==r.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})}function JC(e){const{trackMouse:t}=e,r=N.useRef(Object.assign({},zu)),n=N.useRef(Object.assign({},Xn)),s=N.useRef(Object.assign({},n.current));s.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},Xn),e);let i;for(i in Xn)n.current[i]===void 0&&(n.current[i]=Xn[i]);const[o,a]=N.useMemo(()=>YC(c=>r.current=c(r.current,n.current),{trackMouse:t}),[t]);return r.current=ZC(r.current,n.current,s.current,a),o}const jv=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Za=N.createContext({}),Ja=N.createContext(null),el=typeof document<"u",pd=el?N.useLayoutEffect:N.useEffect,Ev=N.createContext({strict:!1}),xd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ek="framerAppearId",Sv="data-"+xd(ek);function tk(e,t,r,n){const{visualElement:s}=N.useContext(Za),i=N.useContext(Ev),o=N.useContext(Ja),a=N.useContext(jv).reducedMotion,c=N.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;N.useInsertionEffect(()=>{u&&u.update(r,o)});const d=N.useRef(!!(r[Sv]&&!window.HandoffComplete));return pd(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),N.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Yn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function rk(e,t,r){return N.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Yn(r)&&(r.current=n))},[t])}function Di(e){return typeof e=="string"||Array.isArray(e)}function tl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const md=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gd=["initial",...md];function rl(e){return tl(e.animate)||gd.some(t=>Di(e[t]))}function Nv(e){return!!(rl(e)||e.variants)}function nk(e,t){if(rl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Di(r)?r:void 0,animate:Di(n)?n:void 0}}return e.inherit!==!1?t:{}}function sk(e){const{initial:t,animate:r}=nk(e,N.useContext(Za));return N.useMemo(()=>({initial:t,animate:r}),[op(t),op(r)])}function op(e){return Array.isArray(e)?e.join(" "):e}const ap={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bi={};for(const e in ap)Bi[e]={isEnabled:t=>ap[e].some(r=>!!t[r])};function ik(e){for(const t in e)Bi[t]={...Bi[t],...e[t]}}const vd=N.createContext({}),Av=N.createContext({}),ok=Symbol.for("motionComponentSymbol");function ak({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&ik(e);function i(a,c){let u;const d={...N.useContext(jv),...a,layoutId:lk(a)},{isStatic:h}=d,f=sk(a),p=n(a,h);if(!h&&el){f.visualElement=tk(s,p,d,t);const g=N.useContext(Av),v=N.useContext(Ev).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,v,e,g))}return N.createElement(Za.Provider,{value:f},u&&f.visualElement?N.createElement(u,{visualElement:f.visualElement,...d}):null,r(s,a,rk(p,f.visualElement,c),p,h,f.visualElement))}const o=N.forwardRef(i);return o[ok]=s,o}function lk({layoutId:e}){const t=N.useContext(vd).id;return t&&e!==void 0?t+"-"+e:e}function ck(e){function t(n,s={}){return ak(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const uk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yd(e){return typeof e!="string"||e.includes("-")?!1:!!(uk.indexOf(e)>-1||/[A-Z]/.test(e))}const pa={};function dk(e){Object.assign(pa,e)}const Hi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],An=new Set(Hi);function Pv(e,{layout:t,layoutId:r}){return An.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!pa[e]||e==="opacity")}const pt=e=>!!(e&&e.getVelocity),hk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fk=Hi.length;function pk(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<fk;o++){const a=Hi[o];if(e[a]!==void 0){const c=hk[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const Dv=e=>t=>typeof t=="string"&&t.startsWith(e),Bv=Dv("--"),Hu=Dv("var(--"),xk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,mk=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Hr=(e,t,r)=>Math.min(Math.max(r,e),t),Pn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},oi={...Pn,transform:e=>Hr(0,1,e)},yo={...Pn,default:1},ai=e=>Math.round(e*1e5)/1e5,nl=/(-)?([\d]*\.?[\d])+/g,Fv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,gk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Wi(e){return typeof e=="string"}const qi=e=>({test:t=>Wi(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),br=qi("deg"),Yt=qi("%"),re=qi("px"),vk=qi("vh"),yk=qi("vw"),lp={...Yt,parse:e=>Yt.parse(e)/100,transform:e=>Yt.transform(e*100)},cp={...Pn,transform:Math.round},Tv={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:yo,scaleX:yo,scaleY:yo,scaleZ:yo,skew:br,skewX:br,skewY:br,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:oi,originX:lp,originY:lp,originZ:re,zIndex:cp,fillOpacity:oi,strokeOpacity:oi,numOctaves:cp};function wd(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(Bv(h)){i[h]=f;continue}const p=Tv[h],g=mk(f,p);if(An.has(h)){if(c=!0,o[h]=g,!d)continue;f!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):s[h]=g}if(t.transform||(c||n?s.transform=pk(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;s.transformOrigin=`${h} ${f} ${p}`}}const bd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rv(e,t,r){for(const n in t)!pt(t[n])&&!Pv(n,r)&&(e[n]=t[n])}function wk({transformTemplate:e},t,r){return N.useMemo(()=>{const n=bd();return wd(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function bk(e,t,r){const n=e.style||{},s={};return Rv(s,n,e),Object.assign(s,wk(e,t,r)),e.transformValues?e.transformValues(s):s}function _k(e,t,r){const n={},s=bk(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Ck=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xa(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ck.has(e)}let Ov=e=>!xa(e);function kk(e){e&&(Ov=t=>t.startsWith("on")?!xa(t):e(t))}try{kk(require("@emotion/is-prop-valid").default)}catch{}function jk(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Ov(s)||r===!0&&xa(s)||!t&&!xa(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function up(e,t,r){return typeof e=="string"?e:re.transform(t+r*e)}function Ek(e,t,r){const n=up(t,e.x,e.width),s=up(r,e.y,e.height);return`${n} ${s}`}const Sk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ak(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?Sk:Nk;e[i.offset]=re.transform(-n);const o=re.transform(t),a=re.transform(r);e[i.array]=`${o} ${a}`}function _d(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},d,h,f){if(wd(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:v}=e;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=Ek(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&Ak(p,o,a,c,!1)}const Lv=()=>({...bd(),attrs:{}}),Cd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Pk(e,t,r,n){const s=N.useMemo(()=>{const i=Lv();return _d(i,t,{enableHardwareAcceleration:!1},Cd(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Rv(i,e.style,e),s.style={...i,...s.style}}return s}function Dk(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(yd(r)?Pk:_k)(n,i,o,r),d={...jk(n,typeof r=="string",e),...c,ref:s},{children:h}=n,f=N.useMemo(()=>pt(h)?h.get():h,[h]);return N.createElement(r,{...d,children:f})}}function Iv(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const Mv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uv(e,t,r,n){Iv(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Mv.has(s)?s:xd(s),t.attrs[s])}function kd(e,t){const{style:r}=e,n={};for(const s in r)(pt(r[s])||t.style&&pt(t.style[s])||Pv(s,e))&&(n[s]=r[s]);return n}function $v(e,t){const r=kd(e,t);for(const n in e)if(pt(e[n])||pt(t[n])){const s=Hi.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function jd(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function Vv(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const ma=e=>Array.isArray(e),Bk=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Fk=e=>ma(e)?e[e.length-1]||0:e;function Ro(e){const t=pt(e)?e.get():e;return Bk(t)?t.toValue():t}function Tk({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:Rk(n,s,i,e),renderState:t()};return r&&(o.mount=a=>r(n,a,o)),o}const zv=e=>(t,r)=>{const n=N.useContext(Za),s=N.useContext(Ja),i=()=>Tk(e,t,n,s);return r?i():Vv(i)};function Rk(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=Ro(i[f]);let{initial:o,animate:a}=e;const c=rl(e),u=Nv(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!tl(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const g=jd(e,p);if(!g)return;const{transitionEnd:v,transition:w,...y}=g;for(const m in y){let x=y[m];if(Array.isArray(x)){const b=d?x.length-1:0;x=x[b]}x!==null&&(s[m]=x)}for(const m in v)s[m]=v[m]}),s}const Se=e=>e;class dp{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Ok(e){let t=new dp,r=new dp,n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:r;return u&&o.add(c),f.add(c)&&h&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(a.schedule(d),e())}s=!1,i&&(i=!1,a.process(c))}};return a}const wo=["prepare","read","update","preRender","render","postRender"],Lk=40;function Ik(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=wo.reduce((h,f)=>(h[f]=Ok(()=>r=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,Lk),1),s.timestamp=h,s.isProcessing=!0,wo.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(a))},c=()=>{r=!0,n=!0,s.isProcessing||e(a)};return{schedule:wo.reduce((h,f)=>{const p=i[f];return h[f]=(g,v=!1,w=!1)=>(r||c(),p.schedule(g,v,w)),h},{}),cancel:h=>wo.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:me,cancel:xr,state:Ke,steps:Cc}=Ik(typeof requestAnimationFrame<"u"?requestAnimationFrame:Se,!0),Mk={useVisualState:zv({scrapeMotionValuesFromProps:$v,createRenderState:Lv,onMount:(e,t,{renderState:r,latestValues:n})=>{me.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),me.render(()=>{_d(r,n,{enableHardwareAcceleration:!1},Cd(t.tagName),e.transformTemplate),Uv(t,r)})}})},Uk={useVisualState:zv({scrapeMotionValuesFromProps:kd,createRenderState:bd})};function $k(e,{forwardMotionProps:t=!1},r,n){return{...yd(e)?Mk:Uk,preloadedFeatures:r,useRender:Dk(t),createVisualElement:n,Component:e}}function ar(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Hv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function sl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Vk=e=>t=>Hv(t)&&e(t,sl(t));function cr(e,t,r,n){return ar(e,t,Vk(r),n)}const zk=(e,t)=>r=>t(e(r)),$r=(...e)=>e.reduce(zk);function Wv(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const hp=Wv("dragHorizontal"),fp=Wv("dragVertical");function qv(e){let t=!1;if(e==="y")t=fp();else if(e==="x")t=hp();else{const r=hp(),n=fp();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Kv(){const e=qv(!0);return e?(e(),!1):!0}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function pp(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Kv())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[n]&&me.update(()=>a[n](i,o))};return cr(e.current,r,s,{passive:!e.getProps()[n]})}class Hk extends Yr{mount(){this.unmount=$r(pp(this.node,!0),pp(this.node,!1))}unmount(){}}class Wk extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$r(ar(this.node.current,"focus",()=>this.onFocus()),ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Gv=(e,t)=>t?e===t?!0:Gv(e,t.parentElement):!1;function kc(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,sl(r))}class qk extends Yr{constructor(){super(...arguments),this.removeStartListeners=Se,this.removeEndListeners=Se,this.removeAccessibleListeners=Se,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=cr(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();me.update(()=>{!h&&!Gv(this.node.current,a.target)?d&&d(a,c):u&&u(a,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=cr(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=$r(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||kc("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&me.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ar(this.node.current,"keyup",o),kc("down",(a,c)=>{this.startPress(a,c)})},r=ar(this.node.current,"keydown",t),n=()=>{this.isPressing&&kc("cancel",(i,o)=>this.cancelPress(i,o))},s=ar(this.node.current,"blur",n);this.removeAccessibleListeners=$r(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&me.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Kv()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&me.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=cr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$r(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Wu=new WeakMap,jc=new WeakMap,Kk=e=>{const t=Wu.get(e.target);t&&t(e)},Gk=e=>{e.forEach(Kk)};function Qk({root:e,...t}){const r=e||document;jc.has(r)||jc.set(r,{});const n=jc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Gk,{root:e,...t})),n[s]}function Xk(e,t,r){const n=Qk(t);return Wu.set(e,r),n.observe(e),()=>{Wu.delete(e),n.unobserve(e)}}const Yk={some:0,all:1};class Zk extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Yk[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Xk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Jk(t,r))&&this.startObserver()}unmount(){}}function Jk({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const e8={inView:{Feature:Zk},tap:{Feature:qk},focus:{Feature:Wk},hover:{Feature:Hk}};function Qv(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function t8(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function r8(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function il(e,t,r){const n=e.getProps();return jd(n,t,r!==void 0?r:n.custom,t8(e),r8(e))}let ga=Se;const gn=e=>e*1e3,ur=e=>e/1e3,n8={current:!1},Xv=e=>Array.isArray(e)&&typeof e[0]=="number";function Yv(e){return!!(!e||typeof e=="string"&&Zv[e]||Xv(e)||Array.isArray(e)&&e.every(Yv))}const qs=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Zv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qs([0,.65,.55,1]),circOut:qs([.55,0,1,.45]),backIn:qs([.31,.01,.66,-.59]),backOut:qs([.33,1.53,.69,.99])};function Jv(e){if(e)return Xv(e)?qs(e):Array.isArray(e)?e.map(Jv):Zv[e]}function s8(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=Jv(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function i8(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const ey=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,o8=1e-7,a8=12;function l8(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=ey(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>o8&&++a<a8);return o}function Ki(e,t,r,n){if(e===t&&r===n)return Se;const s=i=>l8(i,0,1,e,r);return i=>i===0||i===1?i:ey(s(i),t,n)}const c8=Ki(.42,0,1,1),u8=Ki(0,0,.58,1),ty=Ki(.42,0,.58,1),d8=e=>Array.isArray(e)&&typeof e[0]!="number",ry=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ny=e=>t=>1-e(1-t),Ed=e=>1-Math.sin(Math.acos(e)),sy=ny(Ed),h8=ry(Ed),iy=Ki(.33,1.53,.69,.99),Sd=ny(iy),f8=ry(Sd),p8=e=>(e*=2)<1?.5*Sd(e):.5*(2-Math.pow(2,-10*(e-1))),xp={linear:Se,easeIn:c8,easeInOut:ty,easeOut:u8,circIn:Ed,circInOut:h8,circOut:sy,backIn:Sd,backInOut:f8,backOut:iy,anticipate:p8},mp=e=>{if(Array.isArray(e)){ga(e.length===4);const[t,r,n,s]=e;return Ki(t,r,n,s)}else if(typeof e=="string")return ga(xp[e]!==void 0),xp[e];return e},Nd=(e,t)=>r=>!!(Wi(r)&&gk.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),oy=(e,t,r)=>n=>{if(!Wi(n))return n;const[s,i,o,a]=n.match(nl);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},x8=e=>Hr(0,255,e),Ec={...Pn,transform:e=>Math.round(x8(e))},fn={test:Nd("rgb","red"),parse:oy("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ec.transform(e)+", "+Ec.transform(t)+", "+Ec.transform(r)+", "+ai(oi.transform(n))+")"};function m8(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const qu={test:Nd("#"),parse:m8,transform:fn.transform},Zn={test:Nd("hsl","hue"),parse:oy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Yt.transform(ai(t))+", "+Yt.transform(ai(r))+", "+ai(oi.transform(n))+")"},Ye={test:e=>fn.test(e)||qu.test(e)||Zn.test(e),parse:e=>fn.test(e)?fn.parse(e):Zn.test(e)?Zn.parse(e):qu.parse(e),transform:e=>Wi(e)?e:e.hasOwnProperty("red")?fn.transform(e):Zn.transform(e)},be=(e,t,r)=>-r*e+r*t+e;function Sc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function g8({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,c=2*r-a;s=Sc(c,a,e+1/3),i=Sc(c,a,e),o=Sc(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const Nc=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},v8=[qu,fn,Zn],y8=e=>v8.find(t=>t.test(e));function gp(e){const t=y8(e);let r=t.parse(e);return t===Zn&&(r=g8(r)),r}const ay=(e,t)=>{const r=gp(e),n=gp(t),s={...r};return i=>(s.red=Nc(r.red,n.red,i),s.green=Nc(r.green,n.green,i),s.blue=Nc(r.blue,n.blue,i),s.alpha=be(r.alpha,n.alpha,i),fn.transform(s))};function w8(e){var t,r;return isNaN(e)&&Wi(e)&&(((t=e.match(nl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Fv))===null||r===void 0?void 0:r.length)||0)>0}const ly={regex:xk,countKey:"Vars",token:"${v}",parse:Se},cy={regex:Fv,countKey:"Colors",token:"${c}",parse:Ye.parse},uy={regex:nl,countKey:"Numbers",token:"${n}",parse:Pn.parse};function Ac(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function va(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Ac(r,ly),Ac(r,cy),Ac(r,uy),r}function dy(e){return va(e).values}function hy(e){const{values:t,numColors:r,numVars:n,tokenised:s}=va(e),i=t.length;return o=>{let a=s;for(let c=0;c<i;c++)c<n?a=a.replace(ly.token,o[c]):c<n+r?a=a.replace(cy.token,Ye.transform(o[c])):a=a.replace(uy.token,ai(o[c]));return a}}const b8=e=>typeof e=="number"?0:e;function _8(e){const t=dy(e);return hy(e)(t.map(b8))}const Wr={test:w8,parse:dy,createTransformer:hy,getAnimatableNone:_8},fy=(e,t)=>r=>`${r>0?t:e}`;function py(e,t){return typeof e=="number"?r=>be(e,t,r):Ye.test(e)?ay(e,t):e.startsWith("var(")?fy(e,t):my(e,t)}const xy=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>py(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},C8=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=py(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},my=(e,t)=>{const r=Wr.createTransformer(t),n=va(e),s=va(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?$r(xy(n.values,s.values),r):fy(e,t)},Fi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},vp=(e,t)=>r=>be(e,t,r);function k8(e){return typeof e=="number"?vp:typeof e=="string"?Ye.test(e)?ay:my:Array.isArray(e)?xy:typeof e=="object"?C8:vp}function j8(e,t,r){const n=[],s=r||k8(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Se:t;a=$r(c,a)}n.push(a)}return n}function gy(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(ga(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=j8(t,n,s),a=o.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Fi(e[d],e[d+1],u);return o[d](h)};return r?u=>c(Hr(e[0],e[i-1],u)):c}function E8(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Fi(0,t,n);e.push(be(r,1,s))}}function S8(e){const t=[0];return E8(t,e.length-1),t}function N8(e,t){return e.map(r=>r*t)}function A8(e,t){return e.map(()=>t||ty).splice(0,e.length-1)}function ya({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=d8(n)?n.map(mp):mp(n),i={done:!1,value:t[0]},o=N8(r&&r.length===t.length?r:S8(t),e),a=gy(o,t,{ease:Array.isArray(s)?s:A8(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function vy(e,t){return t?e*(1e3/t):0}const P8=5;function yy(e,t,r){const n=Math.max(t-P8,0);return vy(r-e(n),t-n)}const Pc=.001,D8=.01,B8=10,F8=.05,T8=1;function R8({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,o=1-t;o=Hr(F8,T8,o),e=Hr(D8,B8,ur(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,p=Ku(u,o),g=Math.exp(-h);return Pc-f/p*g},i=u=>{const h=u*o*e,f=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),v=Ku(Math.pow(u,2),o);return(-s(u)+Pc>0?-1:1)*((f-p)*g)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-Pc+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const a=5/e,c=L8(s,i,a);if(e=gn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const O8=12;function L8(e,t,r){let n=r;for(let s=1;s<O8;s++)n=n-e(n)/t(n);return n}function Ku(e,t){return e*Math.sqrt(1-t*t)}const I8=["duration","bounce"],M8=["stiffness","damping","mass"];function yp(e,t){return t.some(r=>e[r]!==void 0)}function U8(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yp(e,M8)&&yp(e,I8)){const r=R8(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function wy({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=U8({...n,velocity:-ur(n.velocity||0)}),p=h||0,g=c/(2*Math.sqrt(a*u)),v=i-s,w=ur(Math.sqrt(a/u)),y=Math.abs(v)<5;r||(r=y?.01:2),t||(t=y?.005:.5);let m;if(g<1){const x=Ku(w,g);m=b=>{const C=Math.exp(-g*w*b);return i-C*((p+g*w*v)/x*Math.sin(x*b)+v*Math.cos(x*b))}}else if(g===1)m=x=>i-Math.exp(-w*x)*(v+(p+w*v)*x);else{const x=w*Math.sqrt(g*g-1);m=b=>{const C=Math.exp(-g*w*b),k=Math.min(x*b,300);return i-C*((p+g*w*v)*Math.sinh(k)+x*v*Math.cosh(k))/x}}return{calculatedDuration:f&&d||null,next:x=>{const b=m(x);if(f)o.done=x>=d;else{let C=p;x!==0&&(g<1?C=yy(m,x,b):C=0);const k=Math.abs(C)<=r,j=Math.abs(i-b)<=t;o.done=k&&j}return o.value=o.done?i:b,o}}}function wp({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=_=>a!==void 0&&_<a||c!==void 0&&_>c,g=_=>a===void 0?c:c===void 0||Math.abs(a-_)<Math.abs(c-_)?a:c;let v=r*t;const w=h+v,y=o===void 0?w:o(w);y!==w&&(v=y-h);const m=_=>-v*Math.exp(-_/n),x=_=>y+m(_),b=_=>{const T=m(_),E=x(_);f.done=Math.abs(T)<=u,f.value=f.done?y:E};let C,k;const j=_=>{p(f.value)&&(C=_,k=wy({keyframes:[f.value,g(f.value)],velocity:yy(x,_,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:_=>{let T=!1;return!k&&C===void 0&&(T=!0,b(_),j(_)),C!==void 0&&_>C?k.next(_-C):(!T&&b(_),f)}}}const $8=e=>{const t=({timestamp:r})=>e(r);return{start:()=>me.update(t,!0),stop:()=>xr(t),now:()=>Ke.isProcessing?Ke.timestamp:performance.now()}},bp=2e4;function _p(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<bp;)t+=r,n=e.next(t);return t>=bp?1/0:t}const V8={decay:wp,inertia:wp,tween:ya,keyframes:ya,spring:wy};function wa({autoplay:e=!0,delay:t=0,driver:r=$8,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let p=1,g=!1,v,w;const y=()=>{w=new Promise(F=>{v=F})};y();let m;const x=V8[s]||ya;let b;x!==ya&&typeof n[0]!="number"&&(b=gy([0,100],n,{clamp:!1}),n=[0,100]);const C=x({...f,keyframes:n});let k;a==="mirror"&&(k=x({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let j="idle",_=null,T=null,E=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=_p(C));const{calculatedDuration:B}=C;let P=1/0,O=1/0;B!==null&&(P=B+o,O=P*(i+1)-o);let q=0;const G=F=>{if(T===null)return;p>0&&(T=Math.min(T,F)),p<0&&(T=Math.min(F-O/p,T)),_!==null?q=_:q=Math.round(F-T)*p;const L=q-t*(p>=0?1:-1),z=p>=0?L<0:L>O;q=Math.max(L,0),j==="finished"&&_===null&&(q=O);let U=q,ae=C;if(i){const ue=Math.min(q,O)/P;let je=Math.floor(ue),He=ue%1;!He&&ue>=1&&(He=1),He===1&&je--,je=Math.min(je,i+1),!!(je%2)&&(a==="reverse"?(He=1-He,o&&(He-=o/P)):a==="mirror"&&(ae=k)),U=Hr(0,1,He)*P}const I=z?{done:!1,value:n[0]}:ae.next(U);b&&(I.value=b(I.value));let{done:Z}=I;!z&&B!==null&&(Z=p>=0?q>=O:q<=0);const K=_===null&&(j==="finished"||j==="running"&&Z);return h&&h(I.value),K&&$(),I},A=()=>{m&&m.stop(),m=void 0},Q=()=>{j="idle",A(),v(),y(),T=E=null},$=()=>{j="finished",d&&d(),A(),v()},M=()=>{if(g)return;m||(m=r(G));const F=m.now();c&&c(),_!==null?T=F-_:(!T||j==="finished")&&(T=F),j==="finished"&&y(),E=T,_=null,j="running",m.start()};e&&M();const H={then(F,L){return w.then(F,L)},get time(){return ur(q)},set time(F){F=gn(F),q=F,_!==null||!m||p===0?_=F:T=m.now()-F/p},get duration(){const F=C.calculatedDuration===null?_p(C):C.calculatedDuration;return ur(F)},get speed(){return p},set speed(F){F===p||!m||(p=F,H.time=ur(q))},get state(){return j},play:M,pause:()=>{j="paused",_=q},stop:()=>{g=!0,j!=="idle"&&(j="idle",u&&u(),Q())},cancel:()=>{E!==null&&G(E),Q()},complete:()=>{j="finished"},sample:F=>(T=0,G(F))};return H}function z8(e){let t;return()=>(t===void 0&&(t=e()),t)}const H8=z8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),W8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),bo=10,q8=2e4,K8=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Yv(t.ease);function G8(e,t,{onUpdate:r,onComplete:n,...s}){if(!(H8()&&W8.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,c,u=!1;const d=()=>{c=new Promise(x=>{a=x})};d();let{keyframes:h,duration:f=300,ease:p,times:g}=s;if(K8(t,s)){const x=wa({...s,repeat:0,delay:0});let b={done:!1,value:h[0]};const C=[];let k=0;for(;!b.done&&k<q8;)b=x.sample(k),C.push(b.value),k+=bo;g=void 0,h=C,f=k-bo,p="linear"}const v=s8(e.owner.current,t,h,{...s,duration:f,ease:p,times:g}),w=()=>{u=!1,v.cancel()},y=()=>{u=!0,me.update(w),a(),d()};return v.onfinish=()=>{u||(e.set(i8(h,s)),n&&n(),y())},{then(x,b){return c.then(x,b)},attachTimeline(x){return v.timeline=x,v.onfinish=null,Se},get time(){return ur(v.currentTime||0)},set time(x){v.currentTime=gn(x)},get speed(){return v.playbackRate},set speed(x){v.playbackRate=x},get duration(){return ur(f)},play:()=>{o||(v.play(),xr(w))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:x}=v;if(x){const b=wa({...s,autoplay:!1});e.setWithVelocity(b.sample(x-bo).value,b.sample(x).value,bo)}y()},complete:()=>{u||v.finish()},cancel:y}}function Q8({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Se,pause:Se,stop:Se,then:i=>(i(),Promise.resolve()),cancel:Se,complete:Se});return t?wa({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const X8={type:"spring",stiffness:500,damping:25,restSpeed:10},Y8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Z8={type:"keyframes",duration:.8},J8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ej=(e,{keyframes:t})=>t.length>2?Z8:An.has(e)?e.startsWith("scale")?Y8(t[1]):X8:J8,Gu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url(")),tj=new Set(["brightness","contrast","saturate","opacity"]);function rj(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(nl)||[];if(!n)return e;const s=r.replace(n,"");let i=tj.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const nj=/([a-z-]*)\(.*?\)/g,Qu={...Wr,getAnimatableNone:e=>{const t=e.match(nj);return t?t.map(rj).join(" "):e}},sj={...Tv,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:Qu,WebkitFilter:Qu},Ad=e=>sj[e];function by(e,t){let r=Ad(e);return r!==Qu&&(r=Wr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const _y=e=>/^0[^.\s]+$/.test(e);function ij(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||_y(e)}function oj(e,t,r,n){const s=Gu(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),ij(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=by(t,a)}return i}function aj({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Pd(e,t){return e[t]||e.default||e}const lj={skipAnimations:!1},Dd=(e,t,r,n={})=>s=>{const i=Pd(n,e)||{},o=i.delay||n.delay||0;let{elapsed:a=0}=n;a=a-gn(o);const c=oj(t,e,r,i),u=c[0],d=c[c.length-1],h=Gu(e,u),f=Gu(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(aj(i)||(p={...p,...ej(e,p)}),p.duration&&(p.duration=gn(p.duration)),p.repeatDelay&&(p.repeatDelay=gn(p.repeatDelay)),!h||!f||n8.current||i.type===!1||lj.skipAnimations)return Q8(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=G8(t,e,p);if(g)return g}return wa(p)};function ba(e){return!!(pt(e)&&e.add)}const Cy=e=>/^\-?\d*\.?\d+$/.test(e);function Bd(e,t){e.indexOf(t)===-1&&e.push(t)}function Fd(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Td{constructor(){this.subscriptions=[]}add(t){return Bd(this.subscriptions,t),()=>Fd(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cj=e=>!isNaN(parseFloat(e));class uj{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Ke;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,me.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>me.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=cj(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Td);const n=this.events[t].add(r);return t==="change"?()=>{n(),me.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?vy(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vs(e,t){return new uj(e,t)}const ky=e=>t=>t.test(e),dj={test:e=>e==="auto",parse:e=>e},jy=[Pn,re,Yt,br,yk,vk,dj],Ms=e=>jy.find(ky(e)),hj=[...jy,Ye,Wr],fj=e=>hj.find(ky(e));function pj(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,vs(r))}function xj(e,t){const r=il(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const a=Fk(i[o]);pj(e,o,a)}}function mj(e,t,r){var n,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(Cy(d)||_y(d))?d=parseFloat(d):!fj(d)&&Wr.test(u)&&(d=by(c,u)),e.addValue(c,vs(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function gj(e,t){return t?(t[e]||t.default||t).from:void 0}function vj(e,t,r){const n={};for(const s in e){const i=gj(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function yj({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function wj(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Ey(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const f=e.getValue(h),p=a[h];if(!f||p===void 0||d&&yj(d,h))continue;const g={delay:r,elapsed:0,...Pd(i||{},h)};if(window.HandoffAppearAnimations){const y=e.getProps()[Sv];if(y){const m=window.HandoffAppearAnimations(y,h,f,me);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let v=!g.isHandoff&&!wj(f,p);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(Dd(h,f,p,e.shouldReduceMotion&&An.has(h)?{type:!1}:g));const w=f.animation;ba(c)&&(c.add(h),w.then(()=>c.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&xj(e,o)}),u}function Xu(e,t,r={}){const n=il(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(Ey(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return bj(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function bj(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(_j).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Xu(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function _j(e,t){return e.sortNodePosition(t)}function Cj(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Xu(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Xu(e,t,r);else{const s=typeof t=="function"?il(e,t,r.custom):t;n=Promise.all(Ey(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const kj=[...md].reverse(),jj=md.length;function Ej(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Cj(e,r,n)))}function Sj(e){let t=Ej(e);const r=Aj();let n=!0;const s=(c,u)=>{const d=il(e,u);if(d){const{transition:h,transitionEnd:f,...p}=d;c={...c,...p,...f}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],p=new Set;let g={},v=1/0;for(let y=0;y<jj;y++){const m=kj[y],x=r[m],b=d[m]!==void 0?d[m]:h[m],C=Di(b),k=m===u?x.isActive:null;k===!1&&(v=y);let j=b===h[m]&&b!==d[m]&&C;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),x.protectedKeys={...g},!x.isActive&&k===null||!b&&!x.prevProp||tl(b)||typeof b=="boolean")continue;let T=Nj(x.prevProp,b)||m===u&&x.isActive&&!j&&C||y>v&&C,E=!1;const B=Array.isArray(b)?b:[b];let P=B.reduce(s,{});k===!1&&(P={});const{prevResolvedValues:O={}}=x,q={...O,...P},G=A=>{T=!0,p.has(A)&&(E=!0,p.delete(A)),x.needsAnimating[A]=!0};for(const A in q){const Q=P[A],$=O[A];if(g.hasOwnProperty(A))continue;let M=!1;ma(Q)&&ma($)?M=!Qv(Q,$):M=Q!==$,M?Q!==void 0?G(A):p.add(A):Q!==void 0&&p.has(A)?G(A):x.protectedKeys[A]=!0}x.prevProp=b,x.prevResolvedValues=P,x.isActive&&(g={...g,...P}),n&&e.blockInitialAnimation&&(T=!1),T&&(!j||E)&&f.push(...B.map(A=>({animation:A,options:{type:m,...c}})))}if(p.size){const y={};p.forEach(m=>{const x=e.getBaseTarget(m);x!==void 0&&(y[m]=x)}),f.push({animation:y})}let w=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(f):Promise.resolve()}function a(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const f=o(d,c);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r}}function Nj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Qv(t,e):!1}function tn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Aj(){return{animate:tn(!0),whileInView:tn(),whileHover:tn(),whileTap:tn(),whileDrag:tn(),whileFocus:tn(),exit:tn()}}class Pj extends Yr{constructor(t){super(t),t.animationState||(t.animationState=Sj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),tl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Dj=0;class Bj extends Yr{constructor(){super(...arguments),this.id=Dj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Fj={animation:{Feature:Pj},exit:{Feature:Bj}},Cp=(e,t)=>Math.abs(e-t);function Tj(e,t){const r=Cp(e.x,t.x),n=Cp(e.y,t.y);return Math.sqrt(r**2+n**2)}class Sy{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Bc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=Tj(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:v}=Ke;this.history.push({...g,timestamp:v});const{onStart:w,onMove:y}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Dc(f,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Bc(h.type==="pointercancel"?this.lastMoveEventInfo:Dc(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,w),g&&g(h,w)},!Hv(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=sl(t),a=Dc(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=Ke;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Bc(a,this.history)),this.removeListeners=$r(cr(this.contextWindow,"pointermove",this.handlePointerMove),cr(this.contextWindow,"pointerup",this.handlePointerUp),cr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xr(this.updatePoint)}}function Dc(e,t){return t?{point:t(e.point)}:e}function kp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bc({point:e},t){return{point:e,delta:kp(e,Ny(t)),offset:kp(e,Rj(t)),velocity:Oj(t,.1)}}function Rj(e){return e[0]}function Ny(e){return e[e.length-1]}function Oj(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Ny(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>gn(t)));)r--;if(!n)return{x:0,y:0};const i=ur(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bt(e){return e.max-e.min}function Yu(e,t=0,r=.01){return Math.abs(e-t)<=r}function jp(e,t,r,n=.5){e.origin=n,e.originPoint=be(t.min,t.max,e.origin),e.scale=bt(r)/bt(t),(Yu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=be(r.min,r.max,e.origin)-e.originPoint,(Yu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function li(e,t,r,n){jp(e.x,t.x,r.x,n?n.originX:void 0),jp(e.y,t.y,r.y,n?n.originY:void 0)}function Ep(e,t,r){e.min=r.min+t.min,e.max=e.min+bt(t)}function Lj(e,t,r){Ep(e.x,t.x,r.x),Ep(e.y,t.y,r.y)}function Sp(e,t,r){e.min=t.min-r.min,e.max=e.min+bt(t)}function ci(e,t,r){Sp(e.x,t.x,r.x),Sp(e.y,t.y,r.y)}function Ij(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?be(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?be(r,e,n.max):Math.min(e,r)),e}function Np(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Mj(e,{top:t,left:r,bottom:n,right:s}){return{x:Np(e.x,r,s),y:Np(e.y,t,n)}}function Ap(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Uj(e,t){return{x:Ap(e.x,t.x),y:Ap(e.y,t.y)}}function $j(e,t){let r=.5;const n=bt(e),s=bt(t);return s>n?r=Fi(t.min,t.max-n,e.min):n>s&&(r=Fi(e.min,e.max-s,t.min)),Hr(0,1,r)}function Vj(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Zu=.35;function zj(e=Zu){return e===!1?e=0:e===!0&&(e=Zu),{x:Pp(e,"left","right"),y:Pp(e,"top","bottom")}}function Pp(e,t,r){return{min:Dp(e,t),max:Dp(e,r)}}function Dp(e,t){return typeof e=="number"?e:e[t]||0}const Bp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jn=()=>({x:Bp(),y:Bp()}),Fp=()=>({min:0,max:0}),Ae=()=>({x:Fp(),y:Fp()});function jt(e){return[e("x"),e("y")]}function Ay({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Hj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Wj(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Fc(e){return e===void 0||e===1}function Ju({scale:e,scaleX:t,scaleY:r}){return!Fc(e)||!Fc(t)||!Fc(r)}function on(e){return Ju(e)||Py(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Py(e){return Tp(e.x)||Tp(e.y)}function Tp(e){return e&&e!=="0%"}function _a(e,t,r){const n=e-r,s=t*n;return r+s}function Rp(e,t,r,n,s){return s!==void 0&&(e=_a(e,s,n)),_a(e,r,n)+t}function e0(e,t=0,r=1,n,s){e.min=Rp(e.min,t,r,n,s),e.max=Rp(e.max,t,r,n,s)}function Dy(e,{x:t,y:r}){e0(e.x,t.translate,t.scale,t.originPoint),e0(e.y,r.translate,r.scale,r.originPoint)}function qj(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&es(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Dy(e,o)),n&&on(i.latestValues)&&es(e,i.latestValues))}t.x=Op(t.x),t.y=Op(t.y)}function Op(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function jr(e,t){e.min=e.min+t,e.max=e.max+t}function Lp(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=be(e.min,e.max,i);e0(e,t[r],t[n],o,t.scale)}const Kj=["x","scaleX","originX"],Gj=["y","scaleY","originY"];function es(e,t){Lp(e.x,t,Kj),Lp(e.y,t,Gj)}function By(e,t){return Ay(Wj(e.getBoundingClientRect(),t))}function Qj(e,t,r){const n=By(e,r),{scroll:s}=t;return s&&(jr(n.x,s.offset.x),jr(n.y,s.offset.y)),n}const Fy=({current:e})=>e?e.ownerDocument.defaultView:null,Xj=new WeakMap;class Yj{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ae(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(sl(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qv(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jt(w=>{let y=this.getAxisMotionValue(w).get()||0;if(Yt.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const x=m.layout.layoutBox[w];x&&(y=bt(x)*(parseFloat(y)/100))}}this.originPoint[w]=y}),g&&me.update(()=>g(d,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(p&&this.currentDirection===null){this.currentDirection=Zj(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),c=()=>jt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Sy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Fy(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&me.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!_o(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Ij(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Yn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=Mj(s.layoutBox,r):this.constraints=!1,this.elastic=zj(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Vj(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Yn(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Qj(n,s.root,this.visualElement.getTransformPagePoint());let o=Uj(s.layout.layoutBox,i);if(r){const a=r(Hj(o));this.hasMutatedConstraints=!!a,a&&(o=Ay(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=jt(d=>{if(!_o(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Dd(t,n,0,r))}stopAnimation(){jt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){jt(r=>{const{drag:n}=this.getProps();if(!_o(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-be(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Yn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jt(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();s[o]=$j({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jt(o=>{if(!_o(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(be(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Xj.set(this.visualElement,this);const t=this.visualElement.current,r=cr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Yn(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=ar(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(jt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Zu,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function _o(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Zj(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Jj extends Yr{constructor(t){super(t),this.removeGroupControls=Se,this.removeListeners=Se,this.controls=new Yj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Se}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ip=e=>(t,r)=>{e&&me.update(()=>e(t,r))};class e3 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Se}onPointerDown(t){this.session=new Sy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ip(t),onStart:Ip(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&me.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=cr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function t3(){const e=N.useContext(Ja);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=N.useId();return N.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const Oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Us={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const r=Mp(e,t.target.x),n=Mp(e,t.target.y);return`${r}% ${n}%`}},r3={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Wr.parse(e);if(s.length>5)return n;const i=Wr.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=be(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class n3 extends a0.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;dk(s3),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||me.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ty(e){const[t,r]=t3(),n=N.useContext(vd);return a0.createElement(n3,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(Av),isPresent:t,safeToRemove:r})}const s3={borderRadius:{...Us,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Us,borderTopRightRadius:Us,borderBottomLeftRadius:Us,borderBottomRightRadius:Us,boxShadow:r3},Ry=["TopLeft","TopRight","BottomLeft","BottomRight"],i3=Ry.length,Up=e=>typeof e=="string"?parseFloat(e):e,$p=e=>typeof e=="number"||re.test(e);function o3(e,t,r,n,s,i){s?(e.opacity=be(0,r.opacity!==void 0?r.opacity:1,a3(n)),e.opacityExit=be(t.opacity!==void 0?t.opacity:1,0,l3(n))):i&&(e.opacity=be(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<i3;o++){const a=`border${Ry[o]}Radius`;let c=Vp(t,a),u=Vp(r,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||$p(c)===$p(u)?(e[a]=Math.max(be(Up(c),Up(u),n),0),(Yt.test(u)||Yt.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||r.rotate)&&(e.rotate=be(t.rotate||0,r.rotate||0,n))}function Vp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const a3=Oy(0,.5,sy),l3=Oy(.5,.95,Se);function Oy(e,t,r){return n=>n<e?0:n>t?1:r(Fi(e,t,n))}function zp(e,t){e.min=t.min,e.max=t.max}function kt(e,t){zp(e.x,t.x),zp(e.y,t.y)}function Hp(e,t,r,n,s){return e-=t,e=_a(e,1/r,n),s!==void 0&&(e=_a(e,1/s,n)),e}function c3(e,t=0,r=1,n=.5,s,i=e,o=e){if(Yt.test(t)&&(t=parseFloat(t),t=be(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=be(i.min,i.max,n);e===i&&(a-=t),e.min=Hp(e.min,t,r,a,s),e.max=Hp(e.max,t,r,a,s)}function Wp(e,t,[r,n,s],i,o){c3(e,t[r],t[n],t[s],t.scale,i,o)}const u3=["x","scaleX","originX"],d3=["y","scaleY","originY"];function qp(e,t,r,n){Wp(e.x,t,u3,r?r.x:void 0,n?n.x:void 0),Wp(e.y,t,d3,r?r.y:void 0,n?n.y:void 0)}function Kp(e){return e.translate===0&&e.scale===1}function Ly(e){return Kp(e.x)&&Kp(e.y)}function h3(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Iy(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Gp(e){return bt(e.x)/bt(e.y)}class f3{constructor(){this.members=[]}add(t){Bd(this.members,t),t.scheduleRender()}remove(t){if(Fd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qp(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const p3=(e,t)=>e.depth-t.depth;class x3{constructor(){this.children=[],this.isDirty=!1}add(t){Bd(this.children,t),this.isDirty=!0}remove(t){Fd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(p3),this.isDirty=!1,this.children.forEach(t)}}function m3(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(xr(n),e(i-t))};return me.read(n,!0),()=>xr(n)}function g3(e){window.MotionDebug&&window.MotionDebug.record(e)}function v3(e){return e instanceof SVGElement&&e.tagName!=="svg"}function y3(e,t,r){const n=pt(e)?e:vs(e);return n.start(Dd("",n,t,r)),n.animation}const Xp=["","X","Y","Z"],w3={visibility:"hidden"},Yp=1e3;let b3=0;const an={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function My({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=b3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,an.totalNodes=an.resolvedTargetDeltas=an.recalculatedProjection=0,this.nodes.forEach(k3),this.nodes.forEach(A3),this.nodes.forEach(P3),this.nodes.forEach(j3),g3(an)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new x3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Td),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v3(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=m3(f,250),Oo.hasAnimatedSinceResize&&(Oo.hasAnimatedSinceResize=!1,this.nodes.forEach(Jp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||R3,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=d.getProps(),m=!this.targetLayout||!Iy(this.targetLayout,g)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const b={...Pd(v,"layout"),onPlay:w,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Jp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zp);return}this.isUpdating||this.nodes.forEach(S3),this.isUpdating=!1,this.nodes.forEach(N3),this.nodes.forEach(_3),this.nodes.forEach(C3),this.clearAllSnapshots();const a=performance.now();Ke.delta=Hr(0,1e3/60,a-Ke.timestamp),Ke.timestamp=a,Ke.isProcessing=!0,Cc.update.process(Ke),Cc.preRender.process(Ke),Cc.render.process(Ke),Ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(E3),this.sharedNodes.forEach(B3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ly(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||on(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),O3(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ae();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(jr(a.x,c.offset.x),jr(a.y,c.offset.y)),a}removeElementScroll(o){const a=Ae();kt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){kt(a,o);const{scroll:f}=this.root;f&&(jr(a.x,-f.offset.x),jr(a.y,-f.offset.y))}jr(a.x,d.offset.x),jr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const c=Ae();kt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&es(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),on(d.latestValues)&&es(c,d.latestValues)}return on(this.latestValues)&&es(c,this.latestValues),c}removeTransform(o){const a=Ae();kt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!on(u.latestValues))continue;Ju(u.latestValues)&&u.updateSnapshot();const d=Ae(),h=u.measurePageBox();kt(d,h),qp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return on(this.latestValues)&&qp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ke.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),ci(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ae(),this.targetWithTransforms=Ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kt(this.target,this.layout.layoutBox),Dy(this.target,this.targetDelta)):kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),ci(this.relativeTargetOrigin,this.target,p.target),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}an.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ju(this.parent.latestValues)||Py(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ke.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;kt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;qj(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Jn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Jn(),this.projectionDeltaWithTransform=Jn());const v=this.projectionTransform;li(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=Qp(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),an.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Jn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ae(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,w=this.getStack(),y=!w||w.members.length<=1,m=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(T3));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const C=b/1e3;ex(h.x,o.x,C),ex(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ci(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F3(this.relativeTarget,this.relativeTargetOrigin,f,C),x&&h3(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ae()),kt(x,this.relativeTarget)),v&&(this.animationValues=d,o3(d,u,this.latestValues,C,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{Oo.hasAnimatedSinceResize=!0,this.currentAnimation=y3(0,Yp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&Uy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ae();const h=bt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=bt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}kt(a,c),es(a,d),li(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new f3),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<Xp.length;d++){const h="rotate"+Xp[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return w3;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ro(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ro(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!on(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Qp(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in pa){if(f[v]===void 0)continue;const{correct:w,applyTo:y}=pa[v],m=u.transform==="none"?f[v]:w(f[v],h);if(y){const x=y.length;for(let b=0;b<x;b++)u[y[b]]=m}else u[v]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Ro(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Zp),this.root.sharedNodes.clear()}}}function _3(e){e.updateLayout()}function C3(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?jt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=bt(f);f.min=n[h].min,f.max=f.min+p}):Uy(i,r.layoutBox,n)&&jt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=bt(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=Jn();li(a,n,r.layoutBox);const c=Jn();o?li(c,e.applyTransform(s,!0),r.measuredBox):li(c,n,r.layoutBox);const u=!Ly(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=Ae();ci(g,r.layoutBox,f.layoutBox);const v=Ae();ci(v,n,p.layoutBox),Iy(g,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function k3(e){an.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function j3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function E3(e){e.clearSnapshot()}function Zp(e){e.clearMeasurements()}function S3(e){e.isLayoutDirty=!1}function N3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function A3(e){e.resolveTargetDelta()}function P3(e){e.calcProjection()}function D3(e){e.resetRotation()}function B3(e){e.removeLeadSnapshot()}function ex(e,t,r){e.translate=be(t.translate,0,r),e.scale=be(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function tx(e,t,r,n){e.min=be(t.min,r.min,n),e.max=be(t.max,r.max,n)}function F3(e,t,r,n){tx(e.x,t.x,r.x,n),tx(e.y,t.y,r.y,n)}function T3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const R3={duration:.45,ease:[.4,0,.1,1]},rx=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),nx=rx("applewebkit/")&&!rx("chrome/")?Math.round:Se;function sx(e){e.min=nx(e.min),e.max=nx(e.max)}function O3(e){sx(e.x),sx(e.y)}function Uy(e,t,r){return e==="position"||e==="preserve-aspect"&&!Yu(Gp(t),Gp(r),.2)}const L3=My({attachResizeListener:(e,t)=>ar(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tc={current:void 0},$y=My({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Tc.current){const e=new L3({});e.mount(window),e.setOptions({layoutScroll:!0}),Tc.current=e}return Tc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),I3={pan:{Feature:e3},drag:{Feature:Jj,ProjectionNode:$y,MeasureLayout:Ty}},M3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function U3(e){const t=M3.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function t0(e,t,r=1){const[n,s]=U3(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return Cy(o)?parseFloat(o):o}else return Hu(s)?t0(s,t,r+1):s}function $3(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!Hu(i))return;const o=t0(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!Hu(i))continue;const o=t0(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const V3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Vy=e=>V3.has(e),z3=e=>Object.keys(e).some(Vy),ix=e=>e===Pn||e===re,ox=(e,t)=>parseFloat(e.split(", ")[t]),ax=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return ox(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?ox(i[1],e):0}},H3=new Set(["x","y","z"]),W3=Hi.filter(e=>!H3.has(e));function q3(e){const t=[];return W3.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ys={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ax(4,13),y:ax(5,14)};ys.translateX=ys.x;ys.translateY=ys.y;const K3=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{a[u]=ys[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=ys[u](c,i)}),e},G3=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(Vy);let i=[],o=!1;const a=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],h=Ms(d);const f=t[c];let p;if(ma(f)){const g=f.length,v=f[0]===null?1:0;d=f[v],h=Ms(d);for(let w=v;w<g&&f[w]!==null;w++)p?ga(Ms(f[w])===p):p=Ms(f[w])}else p=Ms(f);if(h!==p)if(ix(h)&&ix(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&p===re&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?u.set(p.transform(d)):t[c]=h.transform(f):(o||(i=q3(e),o=!0),a.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(f))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=K3(t,e,a);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),el&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function Q3(e,t,r,n){return z3(t)?G3(e,t,r,n):{target:t,transitionEnd:n}}const X3=(e,t,r,n)=>{const s=$3(e,t,n);return t=s.target,n=s.transitionEnd,Q3(e,t,r,n)},r0={current:null},zy={current:!1};function Y3(){if(zy.current=!0,!!el)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>r0.current=e.matches;e.addListener(t),t()}else r0.current=!1}function Z3(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(pt(i))e.addValue(s,i),ba(n)&&n.add(s);else if(pt(o))e.addValue(s,vs(i,{owner:e})),ba(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,vs(a!==void 0?a:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const lx=new WeakMap,Hy=Object.keys(Bi),J3=Hy.length,cx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eE=gd.length;class tE{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>me.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=rl(r),this.isVariantNode=Nv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const f=d[h];a[h]!==void 0&&pt(f)&&(f.set(a[h],!1),ba(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,lx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),zy.current||Y3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:r0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lx.delete(this.current),this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=An.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&me.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,a;for(let c=0;c<J3;c++){const u=Hy[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:p}=Bi[u];f&&(o=f),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Yn(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<cx.length;n++){const s=cx[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Z3(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<eE;n++){const s=gd[n],i=this.props[s];(Di(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=vs(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=jd(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!pt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Td),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Wy extends tE{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=vj(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){mj(this,n,o);const a=X3(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:t,transitionEnd:r,...n}}}function rE(e){return window.getComputedStyle(e)}class nE extends Wy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(An.has(r)){const n=Ad(r);return n&&n.default||0}else{const n=rE(t),s=(Bv(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return By(t,r)}build(t,r,n,s){wd(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return kd(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){Iv(t,r,n,s)}}class sE extends Wy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(An.has(r)){const n=Ad(r);return n&&n.default||0}return r=Mv.has(r)?r:xd(r),t.getAttribute(r)}measureInstanceViewportBox(){return Ae()}scrapeMotionValuesFromProps(t,r){return $v(t,r)}build(t,r,n,s){_d(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){Uv(t,r,n,s)}mount(t){this.isSVGTag=Cd(t.tagName),super.mount(t)}}const iE=(e,t)=>yd(e)?new sE(t,{enableHardwareAcceleration:!1}):new nE(t,{enableHardwareAcceleration:!0}),oE={layout:{ProjectionNode:$y,MeasureLayout:Ty}},aE={...Fj,...e8,...I3,...oE},Rc=ck((e,t)=>$k(e,t,aE,iE));function qy(){const e=N.useRef(!1);return pd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function lE(){const e=qy(),[t,r]=N.useState(0),n=N.useCallback(()=>{e.current&&r(t+1)},[t]);return[N.useCallback(()=>me.postRender(n),[n]),t]}class cE extends N.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uE({children:e,isPresent:t}){const r=N.useId(),n=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),N.createElement(cE,{isPresent:t,childRef:n,sizeRef:s},N.cloneElement(e,{ref:n}))}const Oc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Vv(dE),c=N.useId(),u=N.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;n&&n()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[r]);return N.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[r]),N.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=N.createElement(uE,{isPresent:r},e)),N.createElement(Ja.Provider,{value:u},e)};function dE(){return new Map}function hE(e){return N.useEffect(()=>()=>e(),[])}const ln=e=>e.key||"";function fE(e,t){e.forEach(r=>{const n=ln(r);t.set(n,r)})}function pE(e){const t=[];return N.Children.forEach(e,r=>{N.isValidElement(r)&&t.push(r)}),t}const ux=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=N.useContext(vd).forceRender||lE()[0],c=qy(),u=pE(e);let d=u;const h=N.useRef(new Map).current,f=N.useRef(d),p=N.useRef(new Map).current,g=N.useRef(!0);if(pd(()=>{g.current=!1,fE(u,p),f.current=d}),hE(()=>{g.current=!0,p.clear(),h.clear()}),g.current)return N.createElement(N.Fragment,null,d.map(m=>N.createElement(Oc,{key:ln(m),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},m)));d=[...d];const v=f.current.map(ln),w=u.map(ln),y=v.length;for(let m=0;m<y;m++){const x=v[m];w.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((m,x)=>{if(w.indexOf(x)!==-1)return;const b=p.get(x);if(!b)return;const C=v.indexOf(x);let k=m;if(!k){const j=()=>{h.delete(x);const _=Array.from(p.keys()).filter(T=>!w.includes(T));if(_.forEach(T=>p.delete(T)),f.current=u.filter(T=>{const E=ln(T);return E===x||_.includes(E)}),!h.size){if(c.current===!1)return;a(),n&&n()}};k=N.createElement(Oc,{key:ln(b),isPresent:!1,onExitComplete:j,custom:t,presenceAffectsLayout:i,mode:o},b),h.set(x,k)}d.splice(C,0,k)}),d=d.map(m=>{const x=m.key;return h.has(x)?m:N.createElement(Oc,{key:ln(m),isPresent:!0,presenceAffectsLayout:i,mode:o},m)}),N.createElement(N.Fragment,null,h.size?d:d.map(m=>N.cloneElement(m)))},Ky=({children:e,onSwipeLeft:t,onSwipeRight:r,leftAction:n={icon:l.jsx(ld,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:s={icon:l.jsx(Ya,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},className:i=""})=>{const[o,a]=N.useState(0),[c,u]=N.useState(!1),d=JC({onSwiping:h=>{const f=h.deltaX,p=100,g=Math.max(-p,Math.min(p,f));a(g),u(Math.abs(g)>20)},onSwipedLeft:()=>{Math.abs(o)>50&&t&&t(),a(0),u(!1)},onSwipedRight:()=>{Math.abs(o)>50&&r&&r(),a(0),u(!1)},onSwiped:()=>{a(0),u(!1)},trackMouse:!0,trackTouch:!0});return l.jsxs("div",{className:`relative overflow-hidden ${i}`,...d,children:[l.jsx(ux,{children:o>20&&l.jsx(Rc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`absolute left-0 top-0 h-full flex items-center px-4 ${s.color}`,style:{width:Math.abs(o)},children:l.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[s.icon,Math.abs(o)>60&&l.jsx("span",{className:"text-sm font-medium",children:s.label})]})})}),l.jsx(ux,{children:o<-20&&l.jsx(Rc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`absolute right-0 top-0 h-full flex items-center justify-end px-4 ${n.color}`,style:{width:Math.abs(o)},children:l.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[Math.abs(o)>60&&l.jsx("span",{className:"text-sm font-medium",children:n.label}),n.icon]})})}),l.jsx(Rc.div,{animate:{x:o},transition:{type:"spring",stiffness:300,damping:30},className:`relative z-10 ${c?"shadow-lg":""}`,children:e})]})},xE=()=>{const{notifications:e,markNotificationAsRead:t,clearAllNotifications:r,posts:n,allUsers:s}=rt();Be();const i=J0(),o=f=>{switch(f){case"like":return l.jsx(xv,{className:"w-5 h-5 text-red-400"});case"repost":return l.jsx(wv,{className:"w-5 h-5 text-green-400"});case"comment":return l.jsx(Vu,{className:"w-5 h-5 text-blue-400"});case"follow":return l.jsx(Br,{className:"w-5 h-5 text-purple-400"});case"mention":return l.jsx(yC,{className:"w-5 h-5 text-yellow-400"});case"message":return l.jsx(Vu,{className:"w-5 h-5 text-pink-400"});default:return l.jsx(ua,{className:"w-5 h-5 text-gray-400"})}},a=f=>{switch(f.type){case"like":return"liked your post";case"repost":return"reposted your post";case"comment":return"commented on your post";case"follow":return"started following you";case"mention":return"mentioned you in a post";case"message":return"sent you a message";default:return"interacted with your content"}},c=f=>{switch(t(f.id),f.type){case"like":case"repost":case"comment":case"mention":f.postId&&i("/");break;case"follow":f.fromUserId&&i("/explore");break;case"message":i("/messages");break}},u=f=>{t(f)},d=f=>{console.log("Archive notification:",f)},h=f=>{console.log("Delete notification:",f)};return l.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[l.jsx("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Stay updated with your community"})]}),e.length>0&&l.jsxs("button",{onClick:r,className:"flex items-center space-x-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-gray-300 hover:text-white",children:[l.jsx(Vt,{className:"w-4 h-4"}),l.jsx("span",{children:"Clear All"})]})]})}),l.jsx("div",{className:"divide-y divide-gray-700/30",children:e.length===0?l.jsxs("div",{className:"p-12 text-center",children:[l.jsx(ua,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No notifications yet"}),l.jsx("p",{className:"text-gray-500",children:"When someone interacts with your content, you'll see it here."})]}):e.map(f=>{var p;return l.jsx(Ky,{onSwipeLeft:()=>d(f.id),onSwipeRight:()=>h(f.id),leftAction:{icon:l.jsx(ld,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:{icon:l.jsx(Vt,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},children:l.jsx("div",{onClick:()=>c(f),className:`p-6 hover:bg-gray-800/20 transition-colors cursor-pointer ${f.read?"":"bg-purple-900/10 border-l-4 border-purple-500"}`,children:l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"flex-shrink-0",children:o(f.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[f.fromUser&&l.jsx("img",{src:f.fromUser.avatar,alt:f.fromUser.displayName,className:"w-8 h-8 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-white",children:[l.jsx("span",{className:"font-semibold",children:((p=f.fromUser)==null?void 0:p.displayName)||"Someone"})," ",l.jsx("span",{className:"text-gray-300",children:a(f)})]}),l.jsx("p",{className:"text-gray-500 text-sm",children:f.timestamp.toLocaleString()})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[!f.read&&l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),l.jsx("button",{onClick:g=>{g.stopPropagation(),u(f.id)},className:"p-1 text-gray-400 hover:text-green-400 transition-colors",children:l.jsx(wC,{className:"w-4 h-4"})})]})]}),f.message&&l.jsx("p",{className:"text-gray-400 text-sm mt-2 bg-gray-800/30 rounded-lg p-3",children:f.message})]})]})})},f.id)})})]})},mE=()=>{const{chats:e,sendMessage:t,createChat:r,allUsers:n,getChatMessages:s,markMessagesAsRead:i}=rt(),{user:o}=Be(),[a,c]=N.useState(null),[u,d]=N.useState(""),[h,f]=N.useState(!1),[p,g]=N.useState(""),[v,w]=N.useState([]),[y,m]=N.useState([]),[x,b]=N.useState(""),[C,k]=N.useState(!1),[j,_]=N.useState(!1),[T,E]=N.useState(null),[B,P]=N.useState(window.innerWidth<768);N.useEffect(()=>{const I=()=>{P(window.innerWidth<768)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),N.useEffect(()=>{a&&(O(a.id),i(a.id))},[a]);const O=async I=>{const Z=await s(I);w(Z)},q=async I=>{if(I.preventDefault(),u.trim()&&a&&o){await t(a.id,u.trim(),o.id);const Z={id:Date.now().toString(),content:u.trim(),senderId:o.id,chatId:a.id,timestamp:new Date,isEncrypted:!0,readBy:[o.id]};w(K=>[...K,Z]),d("")}},G=async()=>{if(y.length!==0)try{const I=await r(y,C,x||void 0);c(I),f(!1),m([]),b(""),k(!1)}catch(I){console.error("Error creating chat:",I)}},A=I=>{console.log("Archive chat:",I)},Q=I=>{E(I)},$=I=>{console.log("Delete chat:",I),E(null)},M=async(I,Z)=>{if(!(!o||!a)){_(!0);try{const K=Z==="image"?"message-images":"message-videos",ue=`${o.id}/${Z}_${Date.now()}.${I.name.split(".").pop()}`,je=await ad(I,K,ue);je?(await t(a.id,`Sent ${Z==="image"?"an image":"a video"}`,o.id,je),O(a.id)):alert("Failed to upload file")}catch(K){console.error("Upload error:",K),alert("Failed to upload file")}finally{_(!1)}}},H=()=>{const I=document.createElement("input");I.type="file",I.accept="image/*",I.onchange=Z=>{var ue;const K=(ue=Z.target.files)==null?void 0:ue[0];K&&M(K,"image")},I.click()},F=()=>{const I=document.createElement("input");I.type="file",I.accept="video/*",I.onchange=Z=>{var ue;const K=(ue=Z.target.files)==null?void 0:ue[0];K&&M(K,"video")},I.click()},L=e.filter(I=>{var Z;return((Z=I.name)==null?void 0:Z.toLowerCase().includes(p.toLowerCase()))||I.participants.some(K=>{const ue=n.find(je=>je.id===K);return(ue==null?void 0:ue.displayName.toLowerCase().includes(p.toLowerCase()))||(ue==null?void 0:ue.username.toLowerCase().includes(p.toLowerCase()))})}),z=n.filter(I=>I.id!==(o==null?void 0:o.id)),U=I=>{if(I.name)return I.name;const Z=I.participants.filter(K=>K!==(o==null?void 0:o.id));if(Z.length===1){const K=n.find(ue=>ue.id===Z[0]);return(K==null?void 0:K.displayName)||"Unknown User"}return`Group Chat (${I.participants.length} members)`},ae=I=>{if(I.isGroup)return"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=350&h=350";const Z=I.participants.filter(K=>K!==(o==null?void 0:o.id));if(Z.length===1){const K=n.find(ue=>ue.id===Z[0]);return(K==null?void 0:K.avatar)||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=350&h=350"}return"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=350&h=350"};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm flex relative",children:[l.jsxs("div",{className:`${B?a?"hidden":"w-full":"w-80"} border-r border-gray-700/50 bg-black/20 ${B?"absolute inset-0 z-10":""}`,children:[l.jsxs("div",{className:"p-4 border-b border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Messages"}),l.jsx("button",{onClick:()=>f(!0),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full transition-colors",children:l.jsx(Xa,{className:"w-5 h-5 text-white"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",value:p,onChange:I=>g(I.target.value),placeholder:"Search conversations...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-9 pr-4 py-2 text-white text-sm focus:border-purple-500 focus:outline-none"})]})]}),l.jsx("div",{className:"overflow-y-auto",children:L.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx(gs,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-400",children:"No conversations yet"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Start a new chat to connect with other writers"})]}):L.map(I=>{var Z;return l.jsx(Ky,{onSwipeLeft:()=>A(I.id),onSwipeRight:()=>Q(I.id),leftAction:{icon:l.jsx(ld,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:{icon:l.jsx(Ya,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},children:l.jsx("button",{onClick:()=>c(I),className:`w-full p-4 text-left hover:bg-gray-800/30 transition-colors border-b border-gray-700/20 ${(a==null?void 0:a.id)===I.id?"bg-purple-900/20":""}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:ae(I),alt:"Chat avatar",className:"w-12 h-12 rounded-full object-cover"}),I.isEncrypted&&l.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx(ha,{className:"w-2 h-2 text-white"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:U(I)}),l.jsx("p",{className:"text-gray-400 text-sm truncate",children:((Z=I.lastMessage)==null?void 0:Z.content)||"No messages yet"})]}),I.lastMessage&&!I.lastMessage.readBy.includes((o==null?void 0:o.id)||"")&&l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})]})})},I.id)})})]}),l.jsx("div",{className:`flex-1 flex flex-col ${B&&a?"absolute inset-0 z-20 bg-gray-900":""}`,children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 border-b border-gray-700/50 bg-black/20",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[B&&l.jsx("button",{onClick:()=>c(null),className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(vC,{className:"w-5 h-5"})}),l.jsx("img",{src:ae(a),alt:"Chat avatar",className:"w-10 h-10 rounded-full object-cover"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold",children:U(a)}),l.jsxs("div",{className:"flex items-center space-x-2",children:[a.isEncrypted&&l.jsxs("div",{className:"flex items-center space-x-1 text-green-400 text-xs",children:[l.jsx(ha,{className:"w-3 h-3"}),l.jsx("span",{children:"Encrypted"})]}),l.jsxs("span",{className:"text-gray-400 text-sm",children:[a.participants.length," participants"]})]})]})]}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(vv,{className:"w-5 h-5"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:v.map(I=>l.jsx("div",{className:`flex ${I.senderId===(o==null?void 0:o.id)?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs rounded-2xl p-3 ${I.senderId===(o==null?void 0:o.id)?"bg-purple-600 rounded-br-md":"bg-gray-800 rounded-bl-md"}`,children:[I.mediaUrl&&l.jsx("div",{className:"mb-2",children:I.mediaUrl.includes(".mp4")||I.mediaUrl.includes(".mov")||I.mediaUrl.includes(".avi")?l.jsx("video",{src:I.mediaUrl,className:"w-full max-w-xs rounded-lg",controls:!0}):l.jsx("img",{src:I.mediaUrl,alt:"Shared media",className:"w-full max-w-xs rounded-lg"})}),l.jsx("p",{className:"text-white text-sm",children:I.content}),l.jsx("p",{className:`text-xs mt-1 ${I.senderId===(o==null?void 0:o.id)?"text-purple-200":"text-gray-400"}`,children:I.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},I.id))}),l.jsx("form",{onSubmit:q,className:"p-4 border-t border-gray-700/50 bg-black/20",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{type:"button",onClick:H,disabled:j,className:"p-2 text-gray-400 hover:text-purple-400 transition-colors disabled:opacity-50",children:j?l.jsx(hd,{className:"w-5 h-5 animate-spin"}):l.jsx(mv,{className:"w-5 h-5"})}),l.jsx("button",{type:"button",onClick:F,disabled:j,className:"p-2 text-gray-400 hover:text-purple-400 transition-colors disabled:opacity-50",children:l.jsx(_v,{className:"w-5 h-5"})}),l.jsx("input",{type:"text",value:u,onChange:I=>d(I.target.value),placeholder:"Type a message...",className:"flex-1 bg-gray-800 border border-gray-600 rounded-full px-4 py-2 text-white focus:border-purple-500 focus:outline-none"}),l.jsx("button",{type:"submit",disabled:!u.trim()||j,className:"p-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-full transition-colors",children:l.jsx(PC,{className:"w-5 h-5 text-white"})})]})})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(gs,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"Select a conversation"}),l.jsx("p",{className:"text-gray-500",children:"Choose from your existing conversations or start a new one"})]})})})]}),T&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 p-6 mx-4 max-w-sm w-full",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Delete Conversation"}),l.jsx("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to delete this conversation? This action cannot be undone."}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>$(T),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded-lg transition-colors",children:"Delete"}),l.jsx("button",{onClick:()=>E(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 rounded-lg transition-colors",children:"Cancel"})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-md mx-4 max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Start New Conversation"}),l.jsx("button",{onClick:()=>f(!1),className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(Vt,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx("input",{type:"checkbox",id:"groupChat",checked:C,onChange:I=>k(I.target.checked),className:"text-purple-600 focus:ring-purple-500 rounded"}),l.jsx("label",{htmlFor:"groupChat",className:"text-white text-sm",children:"Create group chat"})]}),C&&l.jsx("input",{type:"text",value:x,onChange:I=>b(I.target.value),placeholder:"Group name (optional)",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white text-sm mb-2",children:"Select users:"}),l.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:z.map(I=>l.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-800 rounded-lg cursor-pointer",children:[l.jsx("input",{type:C?"checkbox":"radio",name:"selectedUsers",value:I.id,checked:y.includes(I.id),onChange:Z=>{C?Z.target.checked?m(K=>[...K,I.id]):m(K=>K.filter(ue=>ue!==I.id)):m([I.id])},className:"text-purple-600 focus:ring-purple-500"}),l.jsx("img",{src:I.avatar,alt:I.displayName,className:"w-8 h-8 rounded-full object-cover"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white text-sm",children:I.displayName}),l.jsxs("p",{className:"text-gray-400 text-xs",children:["@",I.username]})]})]},I.id))})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{onClick:G,disabled:y.length===0,className:"flex-1 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3 rounded-lg transition-colors",children:"Create Chat"}),l.jsx("button",{onClick:()=>{f(!1),m([]),b(""),k(!1)},className:"px-6 py-3 text-gray-400 hover:text-white transition-colors",children:"Cancel"})]})]})]})})})]})},gE=()=>{const{user:e}=Be(),{posts:t,characters:r,allUsers:n,bookmarkedPosts:s,bookmarkedCharacters:i,bookmarkedUsers:o,likePost:a,repostPost:c}=rt(),[u,d]=N.useState(""),[h,f]=N.useState("all"),[p,g]=N.useState(null),[v,w]=N.useState(null),y=t.filter(A=>s.includes(A.id)),m=r.filter(A=>i.includes(A.id)),x=n.filter(A=>o.includes(A.id)),b=()=>{const A=u.toLowerCase();let Q=y,$=m,M=x;return u&&(Q=Q.filter(H=>{var F,L;return H.content.toLowerCase().includes(A)||((F=H.character)==null?void 0:F.name.toLowerCase().includes(A))||((L=H.user)==null?void 0:L.displayName.toLowerCase().includes(A))}),$=$.filter(H=>H.name.toLowerCase().includes(A)||H.username.toLowerCase().includes(A)||H.verseTag.toLowerCase().includes(A)),M=M.filter(H=>H.displayName.toLowerCase().includes(A)||H.username.toLowerCase().includes(A)||H.writersTag.toLowerCase().includes(A))),{filteredPosts:Q,filteredCharacters:$,filteredUsers:M}},{filteredPosts:C,filteredCharacters:k,filteredUsers:j}=b(),_=A=>{a(A)},T=A=>{c(A)},E=A=>{g(A)},B=A=>{w(A)},P=h==="all"||h==="posts",O=h==="all"||h==="characters",q=h==="all"||h==="writers",G=P&&C.length>0||O&&k.length>0||q&&j.length>0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[l.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Bookmarks"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",value:u,onChange:A=>d(A.target.value),placeholder:"Search bookmarks...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-10 pr-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(kC,{className:"w-4 h-4 text-gray-400"}),l.jsx("div",{className:"flex space-x-1",children:[{key:"all",label:"All"},{key:"posts",label:"Posts"},{key:"characters",label:"Characters"},{key:"writers",label:"Writers"}].map(A=>l.jsx("button",{onClick:()=>f(A.key),className:`px-3 py-1 rounded-full text-sm transition-colors ${h===A.key?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:A.label},A.key))})]})]})]}),l.jsx("div",{className:"p-6 space-y-8",children:G?l.jsxs(l.Fragment,{children:[P&&C.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Bookmarked Posts"}),l.jsx("div",{className:"space-y-4",children:C.map(A=>l.jsx(Es,{post:A,onLike:()=>_(A.id),onRepost:()=>T(A.id)},A.id))})]}),O&&k.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Bookmarked Characters"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(A=>l.jsx("div",{onClick:()=>B(A),children:l.jsx(ii,{character:A,showActions:!1,showFollowButton:A.userId!==(e==null?void 0:e.id)})},A.id))})]}),q&&j.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Bookmarked Writers"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(A=>l.jsxs("div",{onClick:()=>E(A),className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50 hover:bg-gray-700/30 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx("img",{src:A.avatar,alt:A.displayName,className:"w-16 h-16 rounded-full object-cover ring-2 ring-purple-500/30"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-white font-bold text-lg",children:A.displayName}),l.jsxs("p",{className:"text-gray-400",children:["@",A.username]}),l.jsxs("p",{className:"text-purple-300 text-sm",children:["#",A.writersTag]})]})]}),l.jsx("p",{className:"text-gray-300 text-sm",children:A.bio})]},A.id))})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(da,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:u?"No matching bookmarks":"No bookmarks yet"}),l.jsx("p",{className:"text-gray-500",children:u?"Try adjusting your search or filter criteria":"Save posts, characters, and writers you want to revisit later"})]})}),l.jsx("div",{className:"p-6 text-center border-t border-gray-700/50 bg-black/20",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:["Verse © ",new Date().getFullYear()," - UNWYRE TECH AND CONSULTING"]})})]}),p&&l.jsx(kv,{user:p,onClose:()=>g(null)}),v&&l.jsx(fd,{character:v,onClose:()=>w(null)})]})},vE=({onClose:e})=>{const{addCharacter:t}=rt(),{user:r}=Be(),[n,s]=N.useState({username:"",name:"",title:"",bio:"",universe:"",verseTag:"",traits:"",customColor:"#8b5cf6",customFont:"Inter"}),i=a=>{if(a.preventDefault(),!r)return;const c={id:Date.now().toString(),username:n.username,name:n.name,title:n.title,avatar:"https://images.pexels.com/photos/1382734/pexels-photo-1382734.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",headerImage:"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=800&h=300",bio:n.bio,universe:n.universe,verseTag:n.verseTag,traits:n.traits.split(",").map(u=>u.trim()).filter(u=>u),userId:r.id,customColor:n.customColor,customFont:n.customFont,createdAt:new Date};t(c),e()},o=["Inter","Roboto","Open Sans","Lato","Montserrat","Playfair Display","Crimson Text","Merriweather","Courier New","Georgia"];return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Create New Character"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Vt,{className:"w-6 h-6 text-gray-400"})})]}),l.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Username *"}),l.jsx("input",{type:"text",value:n.username,onChange:a=>s(c=>({...c,username:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"character_username",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Name *"}),l.jsx("input",{type:"text",value:n.name,onChange:a=>s(c=>({...c,name:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"Character's full name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title/Role *"}),l.jsx("input",{type:"text",value:n.title,onChange:a=>s(c=>({...c,title:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Elven Ranger, Detective, Wizard",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Universe *"}),l.jsx("input",{type:"text",value:n.universe,onChange:a=>s(c=>({...c,universe:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Middle Earth, Marvel Universe",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Verse Tag *"}),l.jsx("input",{type:"text",value:n.verseTag,onChange:a=>s(c=>({...c,verseTag:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Marvel, Fantasy, SciFi",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Color"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:n.customColor,onChange:a=>s(c=>({...c,customColor:a.target.value})),className:"w-12 h-12 rounded-lg border border-gray-600 bg-gray-800"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:n.customColor,onChange:a=>s(c=>({...c,customColor:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio *"}),l.jsx("textarea",{value:n.bio,onChange:a=>s(c=>({...c,bio:a.target.value})),rows:4,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",placeholder:"Describe your character's background, personality, and story...",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Traits (comma-separated)"}),l.jsx("input",{type:"text",value:n.traits,onChange:a=>s(c=>({...c,traits:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Brave, Mysterious, Loyal, Cunning"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Font"}),l.jsx("select",{value:n.customFont,onChange:a=>s(c=>({...c,customFont:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",children:o.map(a=>l.jsx("option",{value:a,style:{fontFamily:a},children:a},a))})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[l.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Create Character"})]})]})]})})},yE=({onClose:e})=>{const{user:t,updateUser:r}=Be(),[n,s]=N.useState({displayName:(t==null?void 0:t.displayName)||"",bio:(t==null?void 0:t.bio)||"",writersTag:(t==null?void 0:t.writersTag)||"",avatar:(t==null?void 0:t.avatar)||"",headerImage:(t==null?void 0:t.headerImage)||""}),i=o=>{o.preventDefault(),r(n),e()};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-lg mx-4",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700/50 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Edit Profile"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Vt,{className:"w-6 h-6 text-gray-400"})})]}),l.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Header Image"}),l.jsx(fa,{currentImage:n.headerImage,onImageChange:o=>s(a=>({...a,headerImage:o})),type:"header"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Picture"}),l.jsx(fa,{currentImage:n.avatar,onImageChange:o=>s(a=>({...a,avatar:o})),type:"avatar",className:"w-32"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),l.jsx("input",{type:"text",value:n.displayName,onChange:o=>s(a=>({...a,displayName:o.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),l.jsx("textarea",{value:n.bio,onChange:o=>s(a=>({...a,bio:o.target.value})),rows:3,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",placeholder:"Tell us about yourself..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),l.jsx("input",{type:"text",value:n.writersTag,onChange:o=>s(a=>({...a,writersTag:o.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., fantasy, scifi, modern",required:!0})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[l.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Save Changes"})]})]})]})})},wE=()=>{const{user:e,updateUser:t}=Be(),{characters:r,posts:n,getUserFollowers:s,getUserFollowing:i,likePost:o,repostPost:a,pinPost:c,unpinPost:u}=rt(),[d,h]=N.useState("posts"),[f,p]=N.useState(!1),[g,v]=N.useState(!1),[w,y]=N.useState([]),[m,x]=N.useState([]),b=n.filter(P=>P.userId===(e==null?void 0:e.id)),C=r.filter(P=>P.userId===(e==null?void 0:e.id)),k=b.sort((P,O)=>P.isPinned&&!O.isPinned?-1:!P.isPinned&&O.isPinned?1:O.timestamp.getTime()-P.timestamp.getTime());N.useEffect(()=>{e&&(d==="followers"?j():d==="following"&&_())},[d,e]);const j=async()=>{if(e){const P=await s(e.id);y(P)}},_=async()=>{if(e){const P=await i(e.id);x(P)}},T=P=>{o(P)},E=P=>{a(P)},B=P=>{const O=b.find(q=>q.id===P);O!=null&&O.isPinned?u(P):c(P)};return e?l.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"h-48 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-800 relative",children:[l.jsx("img",{src:e.headerImage,alt:"Profile header",className:"w-full h-full object-cover",style:{width:"1500px",height:"500px",objectFit:"cover"}}),l.jsx("button",{className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:l.jsx($u,{className:"w-5 h-5 text-white"})})]}),l.jsxs("div",{className:"relative px-6 pb-6",children:[l.jsxs("div",{className:"flex items-end justify-between -mt-16 mb-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:e.avatar,alt:e.displayName,className:"w-32 h-32 rounded-full object-cover ring-4 ring-gray-900 bg-gray-900",style:{width:"350px",height:"350px",objectFit:"cover"}}),l.jsx("button",{className:"absolute bottom-2 right-2 p-2 bg-purple-600 hover:bg-purple-700 rounded-full transition-colors",children:l.jsx($u,{className:"w-4 h-4 text-white"})})]}),l.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-full transition-colors text-white border border-gray-600",children:[l.jsx(dd,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit Profile"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:e.displayName}),l.jsxs("p",{className:"text-gray-400",children:["@",e.username]})]}),l.jsx("p",{className:"text-gray-300",children:e.bio}),l.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Qa,{className:"w-4 h-4"}),l.jsxs("span",{children:["Joined ",e.createdAt.toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),l.jsxs("span",{children:["#",e.writersTag]})]})]}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[l.jsxs("button",{onClick:()=>h("following"),className:"hover:text-white transition-colors",children:[l.jsx("span",{className:"font-bold text-white",children:e.following.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Following"})]}),l.jsxs("button",{onClick:()=>h("followers"),className:"hover:text-white transition-colors",children:[l.jsx("span",{className:"font-bold text-white",children:e.followers.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Followers"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-white",children:C.length}),l.jsx("span",{className:"text-gray-400 ml-1",children:"Characters"})]})]})]})]})]}),l.jsx("div",{className:"border-b border-gray-700/50 bg-black/20 sticky top-0 z-10",children:l.jsx("div",{className:"flex",children:[{key:"posts",label:"Posts",count:b.length},{key:"characters",label:"Characters",count:C.length},{key:"followers",label:"Followers",count:e.followers.length},{key:"following",label:"Following",count:e.following.length}].map(P=>l.jsxs("button",{onClick:()=>h(P.key),className:`flex-1 px-4 py-4 text-center transition-colors relative ${d===P.key?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,children:[l.jsx("span",{className:"font-medium",children:P.label}),P.count>0&&l.jsx("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-1 rounded-full",children:P.count})]},P.key))})}),l.jsxs("div",{className:"p-6",children:[d==="posts"&&l.jsx("div",{className:"space-y-4",children:k.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-400 mb-4",children:"No posts yet"}),l.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full transition-colors",children:"Create your first post"})]}):k.map(P=>l.jsxs("div",{className:"relative",children:[P.isPinned&&l.jsxs("div",{className:"flex items-center space-x-2 text-purple-400 text-sm mb-2",children:[l.jsx(yv,{className:"w-4 h-4"}),l.jsx("span",{children:"Pinned Post"})]}),l.jsx(Es,{post:P,onLike:()=>T(P.id),onRepost:()=>E(P.id),showPinOption:!0,onPin:()=>B(P.id)})]},P.id))}),d==="characters"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Your Characters"}),l.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:[l.jsx(Xa,{className:"w-4 h-4"}),l.jsx("span",{children:"New Character"})]})]}),C.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-400 mb-4",children:"No characters created yet"}),l.jsx("button",{onClick:()=>p(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full transition-colors",children:"Create your first character"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:C.map(P=>l.jsx(ii,{character:P},P.id))})]}),d==="followers"&&l.jsx("div",{className:"space-y-4",children:w.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"No followers yet"})}):w.map(P=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[l.jsx("img",{src:P.avatar,alt:P.displayName,className:"w-12 h-12 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-white font-medium",children:P.displayName}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",P.username]}),l.jsxs("p",{className:"text-purple-300 text-sm",children:["#",P.writersTag]})]})]},P.id))}),d==="following"&&l.jsx("div",{className:"space-y-4",children:m.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"Not following anyone yet"})}):m.map(P=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-700/30 transition-colors cursor-pointer",children:[l.jsx("img",{src:P.avatar,alt:P.displayName,className:"w-12 h-12 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-white font-medium",children:P.displayName}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["@",P.username]}),l.jsxs("p",{className:"text-purple-300 text-sm",children:["#",P.writersTag]})]})]},P.id))})]}),f&&l.jsx(vE,{onClose:()=>p(!1)}),g&&l.jsx(yE,{onClose:()=>v(!1)})]}):null},bE=()=>{const{user:e,updateUser:t,enableTwoFactor:r}=Be(),[n,s]=N.useState("privacy"),[i,o]=N.useState({currentPassword:"",newPassword:"",confirmPassword:"",email:(e==null?void 0:e.email)||"",otpCode:""}),a=[{key:"privacy",label:"Privacy & Safety",icon:FC},{key:"account",label:"Account",icon:bv},{key:"security",label:"Security",icon:ha},{key:"notifications",label:"Notifications",icon:ua}],c=async h=>{if(h.preventDefault(),i.newPassword!==i.confirmPassword){alert("Passwords do not match");return}console.log("Password change requested")},u=async()=>{i.email&&await r(i.email)},d=(h,f)=>{e&&t({privacySettings:{...e.privacySettings,[h]:f}})};return l.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[l.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Settings"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Manage your account and privacy preferences"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row min-h-0",children:[l.jsx("div",{className:"w-full lg:w-64 border-b lg:border-r lg:border-b-0 border-gray-700/50 bg-black/20 p-4",children:l.jsx("nav",{className:"space-y-2",children:a.map(h=>l.jsxs("button",{onClick:()=>s(h.key),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors ${n===h.key?"bg-purple-600/20 text-purple-300 border border-purple-500/30":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[l.jsx(h.icon,{className:"w-5 h-5"}),l.jsx("span",{children:h.label})]},h.key))})}),l.jsxs("div",{className:"flex-1 p-4 lg:p-6 overflow-y-auto",children:[n==="privacy"&&l.jsxs("div",{className:"space-y-6 max-w-2xl",children:[l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[l.jsx(cd,{className:"w-5 h-5 text-purple-400"}),l.jsx("span",{children:"Profile Visibility"})]}),l.jsx("div",{className:"space-y-4",children:[{value:"public",label:"Public",desc:"Anyone can see your profile"},{value:"followers",label:"Followers Only",desc:"Only your followers can see your profile"},{value:"private",label:"Private",desc:"Only you can see your profile"}].map(h=>l.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"profileVisibility",value:h.value,checked:(e==null?void 0:e.privacySettings.profileVisibility)===h.value,onChange:f=>d("profileVisibility",f.target.value),className:"text-purple-600 focus:ring-purple-500 mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:h.label}),l.jsx("p",{className:"text-gray-400 text-sm",children:h.desc})]})]},h.value))})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Message Permissions"}),l.jsx("div",{className:"space-y-4",children:[{value:"everyone",label:"Everyone",desc:"Anyone can send you messages"},{value:"followers",label:"Followers Only",desc:"Only your followers can message you"},{value:"none",label:"No One",desc:"Disable direct messages"}].map(h=>l.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"messagePermissions",value:h.value,checked:(e==null?void 0:e.privacySettings.messagePermissions)===h.value,onChange:f=>d("messagePermissions",f.target.value),className:"text-purple-600 focus:ring-purple-500 mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:h.label}),l.jsx("p",{className:"text-gray-400 text-sm",children:h.desc})]})]},h.value))})]})]}),n==="account"&&l.jsx("div",{className:"space-y-6 max-w-2xl",children:l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Account Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),l.jsx("input",{type:"text",value:e==null?void 0:e.username,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",readOnly:!0}),l.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Username cannot be changed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),l.jsx("input",{type:"text",value:e==null?void 0:e.displayName,onChange:h=>t({displayName:h.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),l.jsx("input",{type:"text",value:e==null?void 0:e.writersTag,onChange:h=>t({writersTag:h.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),l.jsx("textarea",{value:e==null?void 0:e.bio,onChange:h=>t({bio:h.target.value}),rows:3,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none"})]})]})]})}),n==="security"&&l.jsxs("div",{className:"space-y-6 max-w-2xl",children:[l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[l.jsx(EC,{className:"w-5 h-5 text-purple-400"}),l.jsx("span",{children:"Change Password"})]}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),l.jsx("input",{type:"password",value:i.currentPassword,onChange:h=>o(f=>({...f,currentPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),l.jsx("input",{type:"password",value:i.newPassword,onChange:h=>o(f=>({...f,newPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),l.jsx("input",{type:"password",value:i.confirmPassword,onChange:h=>o(f=>({...f,confirmPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),l.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"Update Password"})]})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[l.jsx(TC,{className:"w-5 h-5 text-purple-400"}),l.jsx("span",{children:"Two-Factor Authentication"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:"2FA Status"}),l.jsx("p",{className:"text-gray-400 text-sm",children:e!=null&&e.twoFactorEnabled?"Enabled":"Disabled"})]}),l.jsx("div",{className:`w-4 h-4 rounded-full ${e!=null&&e.twoFactorEnabled?"bg-green-500":"bg-red-500"}`})]}),!(e!=null&&e.twoFactorEnabled)&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email for 2FA"}),l.jsx("input",{type:"email",value:i.email,onChange:h=>o(f=>({...f,email:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"your@email.com"})]}),l.jsx("button",{onClick:u,className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"Enable 2FA"})]})]})]})]}),n==="notifications"&&l.jsx("div",{className:"space-y-6 max-w-2xl",children:l.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Notification Preferences"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:"Tag Notifications"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when someone mentions you"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e==null?void 0:e.privacySettings.tagNotifications,onChange:h=>d("tagNotifications",h.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:"Direct Message Notifications"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified about new messages"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e==null?void 0:e.privacySettings.directMessageNotifications,onChange:h=>d("directMessageNotifications",h.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]})})]})]})]})},_E=({unreadNotifications:e,isOpen:t=!0,onToggle:r})=>{const n=J0(),s=Ua(),{user:i,logout:o}=Be(),{unreadMessages:a}=rt(),c=[{icon:jC,label:"Home",path:"/"},{icon:ls,label:"Explore",path:"/explore"},{icon:ua,label:"Notifications",path:"/notifications",badge:e},{icon:SC,label:"Messages",path:"/messages",badge:a},{icon:da,label:"Bookmarks",path:"/bookmarks"},{icon:bv,label:"Profile",path:"/profile"},{icon:DC,label:"Settings",path:"/settings"}];return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:r,className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-gray-900 rounded-full border border-gray-700",children:t?l.jsx(Vt,{className:"w-6 h-6 text-white"}):l.jsx(NC,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:`
        fixed md:sticky top-0 left-0 h-screen bg-black/20 backdrop-blur-sm border-r border-gray-700/50 z-40
        transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full"}
        md:translate-x-0 w-64 md:w-64
      `,children:[l.jsxs("div",{className:"p-6 space-y-8",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:l.jsx(ud,{className:"w-5 h-5 text-white"})}),l.jsx("h1",{className:"text-xl font-bold text-white",children:"VERSE"})]}),l.jsx("nav",{className:"space-y-2",children:c.map(u=>l.jsxs("button",{onClick:()=>{n(u.path),r&&window.innerWidth<768&&r()},className:`w-full flex items-center space-x-4 px-4 py-3 rounded-xl transition-all duration-200 relative ${s.pathname===u.path?"bg-purple-600/20 text-purple-300 border border-purple-500/30":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[l.jsx(u.icon,{className:"w-6 h-6"}),l.jsx("span",{className:"font-medium",children:u.label}),u.badge&&u.badge>0&&l.jsx("span",{className:"absolute right-3 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u.badge>99?"99+":u.badge})]},u.label))}),l.jsxs("button",{onClick:()=>{n("/"),r&&window.innerWidth<768&&r()},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-purple-500/25",children:[l.jsx(Xa,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Post"})]}),l.jsx("div",{className:"pt-8 border-t border-gray-700/50",children:l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-800/50 transition-colors cursor-pointer group",children:[l.jsx("img",{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.displayName,className:"w-12 h-12 rounded-full object-cover ring-2 ring-purple-500/30"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:i==null?void 0:i.displayName}),l.jsxs("p",{className:"text-gray-400 text-sm truncate",children:["@",i==null?void 0:i.username]})]}),l.jsx("button",{onClick:o,className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400 transition-all duration-200 text-sm",children:"Logout"})]})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-center border-t border-gray-700/50 bg-black/20",children:l.jsxs("p",{className:"text-gray-500 text-xs",children:["Verse © ",new Date().getFullYear()," - UNWYRE TECH AND CONSULTING"]})})]}),t&&l.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-30",onClick:r})]})},CE=({children:e})=>{const{unreadNotifications:t}=rt(),[r,n]=N.useState(!1);return l.jsxs("div",{className:"max-w-7xl mx-auto flex min-h-screen",children:[l.jsx(_E,{unreadNotifications:t,isOpen:r,onToggle:()=>n(!r)}),l.jsx("main",{className:"flex-1 max-w-2xl border-x border-gray-700/50 md:ml-0",children:e}),l.jsx("div",{className:"hidden lg:block w-80 h-screen sticky top-0 p-6 bg-black/20 backdrop-blur-sm"})]})},kE=()=>{const{isAuthenticated:e,loading:t}=Be();return t?l.jsx(Cv,{}):e?l.jsx(CE,{children:l.jsxs(mb,{children:[l.jsx(er,{path:"/",element:l.jsx(UC,{})}),l.jsx(er,{path:"/explore",element:l.jsx(VC,{})}),l.jsx(er,{path:"/notifications",element:l.jsx(xE,{})}),l.jsx(er,{path:"/messages",element:l.jsx(mE,{})}),l.jsx(er,{path:"/bookmarks",element:l.jsx(gE,{})}),l.jsx(er,{path:"/profile",element:l.jsx(wE,{})}),l.jsx(er,{path:"/settings",element:l.jsx(bE,{})}),l.jsx(er,{path:"*",element:l.jsx(pb,{to:"/",replace:!0})})]})}):l.jsx(LC,{})};function jE(){return l.jsx(pC,{children:l.jsx(xC,{children:l.jsx(yb,{children:l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:l.jsx(kE,{})})})})})}jg(document.getElementById("root")).render(l.jsx(N.StrictMode,{children:l.jsx(jE,{})}));
