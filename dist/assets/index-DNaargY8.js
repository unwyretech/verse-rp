function Ky(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ex={exports:{}},oa={},tx={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mi=Symbol.for("react.element"),Gy=Symbol.for("react.portal"),Qy=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),Zy=Symbol.for("react.provider"),Jy=Symbol.for("react.context"),e1=Symbol.for("react.forward_ref"),t1=Symbol.for("react.suspense"),r1=Symbol.for("react.memo"),n1=Symbol.for("react.lazy"),Ad=Symbol.iterator;function s1(e){return e===null||typeof e!="object"?null:(e=Ad&&e[Ad]||e["@@iterator"],typeof e=="function"?e:null)}var rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nx=Object.assign,sx={};function ss(e,t,r){this.props=e,this.context=t,this.refs=sx,this.updater=r||rx}ss.prototype.isReactComponent={};ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ix(){}ix.prototype=ss.prototype;function $u(e,t,r){this.props=e,this.context=t,this.refs=sx,this.updater=r||rx}var Vu=$u.prototype=new ix;Vu.constructor=$u;nx(Vu,ss.prototype);Vu.isPureReactComponent=!0;var Nd=Array.isArray,ox=Object.prototype.hasOwnProperty,zu={current:null},ax={key:!0,ref:!0,__self:!0,__source:!0};function lx(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ox.call(t,n)&&!ax.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:mi,type:e,key:i,ref:o,props:s,_owner:zu.current}}function i1(e,t){return{$$typeof:mi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hu(e){return typeof e=="object"&&e!==null&&e.$$typeof===mi}function o1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dd=/\/+/g;function Ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?o1(""+e.key):t.toString(36)}function so(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mi:case Gy:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ha(o,0):n,Nd(s)?(r="",e!=null&&(r=e.replace(Dd,"$&/")+"/"),so(s,t,r,"",function(c){return c})):s!=null&&(Hu(s)&&(s=i1(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Nd(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Ha(i,a);o+=so(i,t,r,l,s)}else if(l=s1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Ha(i,a++),o+=so(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bi(e,t,r){if(e==null)return e;var n=[],s=0;return so(e,n,"","",function(i){return t.call(r,i,s++)}),n}function a1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},io={transition:null},l1={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:io,ReactCurrentOwner:zu};function cx(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Bi,forEach:function(e,t,r){Bi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bi(e,function(){t++}),t},toArray:function(e){return Bi(e,function(t){return t})||[]},only:function(e){if(!Hu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=ss;te.Fragment=Qy;te.Profiler=Yy;te.PureComponent=$u;te.StrictMode=Xy;te.Suspense=t1;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l1;te.act=cx;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nx({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=zu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ox.call(t,l)&&!ax.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:mi,type:e.type,key:s,ref:i,props:n,_owner:o}};te.createContext=function(e){return e={$$typeof:Jy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zy,_context:e},e.Consumer=e};te.createElement=lx;te.createFactory=function(e){var t=lx.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:e1,render:e}};te.isValidElement=Hu;te.lazy=function(e){return{$$typeof:n1,_payload:{_status:-1,_result:e},_init:a1}};te.memo=function(e,t){return{$$typeof:r1,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=io.transition;io.transition={};try{e()}finally{io.transition=t}};te.unstable_act=cx;te.useCallback=function(e,t){return qe.current.useCallback(e,t)};te.useContext=function(e){return qe.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};te.useEffect=function(e,t){return qe.current.useEffect(e,t)};te.useId=function(){return qe.current.useId()};te.useImperativeHandle=function(e,t,r){return qe.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return qe.current.useMemo(e,t)};te.useReducer=function(e,t,r){return qe.current.useReducer(e,t,r)};te.useRef=function(e){return qe.current.useRef(e)};te.useState=function(e){return qe.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return qe.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return qe.current.useTransition()};te.version="18.3.1";tx.exports=te;var N=tx.exports;const Wu=Zp(N),c1=Ky({__proto__:null,default:Wu},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=N,d1=Symbol.for("react.element"),h1=Symbol.for("react.fragment"),f1=Object.prototype.hasOwnProperty,p1=u1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x1={key:!0,ref:!0,__self:!0,__source:!0};function ux(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)f1.call(t,n)&&!x1.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:d1,type:e,key:i,ref:o,props:s,_owner:p1.current}}oa.Fragment=h1;oa.jsx=ux;oa.jsxs=ux;ex.exports=oa;var d=ex.exports,dx={exports:{}},ct={},hx={exports:{}},fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,V){var z=L.length;L.push(V);e:for(;0<z;){var T=z-1>>>1,O=L[T];if(0<s(O,V))L[T]=V,L[z]=O,z=T;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],z=L.pop();if(z!==V){L[0]=z;e:for(var T=0,O=L.length,A=O>>>1;T<A;){var j=2*(T+1)-1,M=L[j],P=j+1,H=L[P];if(0>s(M,z))P<O&&0>s(H,M)?(L[T]=H,L[P]=z,T=P):(L[T]=M,L[j]=z,T=j);else if(P<O&&0>s(H,z))L[T]=H,L[P]=z,T=P;else break e}}return V}function s(L,V){var z=L.sortIndex-V.sortIndex;return z!==0?z:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=L)n(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(c)}}function b(L){if(y=!1,x(L),!g)if(r(l)!==null)g=!0,W(C);else{var V=r(c);V!==null&&Y(b,V.startTime-L)}}function C(L,V){g=!1,y&&(y=!1,w(_),_=-1),p=!0;var z=f;try{for(x(V),h=r(l);h!==null&&(!(h.expirationTime>V)||L&&!D());){var T=h.callback;if(typeof T=="function"){h.callback=null,f=h.priorityLevel;var O=T(h.expirationTime<=V);V=e.unstable_now(),typeof O=="function"?h.callback=O:h===r(l)&&n(l),x(V)}else n(l);h=r(l)}if(h!==null)var A=!0;else{var j=r(c);j!==null&&Y(b,j.startTime-V),A=!1}return A}finally{h=null,f=z,p=!1}}var k=!1,E=null,_=-1,B=5,S=-1;function D(){return!(e.unstable_now()-S<B)}function F(){if(E!==null){var L=e.unstable_now();S=L;var V=!0;try{V=E(!0,L)}finally{V?R():(k=!1,E=null)}}else k=!1}var R;if(typeof m=="function")R=function(){m(F)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=F,R=function(){K.postMessage(null)}}else R=function(){v(F,0)};function W(L){E=L,k||(k=!0,R())}function Y(L,V){_=v(function(){L(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,W(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var z=f;f=V;try{return L()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=f;f=L;try{return V()}finally{f=z}},e.unstable_scheduleCallback=function(L,V,z){var T=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?T+z:T):z=T,L){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,L={id:u++,callback:V,priorityLevel:L,startTime:z,expirationTime:O,sortIndex:-1},z>T?(L.sortIndex=z,t(c,L),r(l)===null&&L===r(c)&&(y?(w(_),_=-1):y=!0,Y(b,z-T))):(L.sortIndex=O,t(l,L),g||p||(g=!0,W(C))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var V=f;return function(){var z=f;f=V;try{return L.apply(this,arguments)}finally{f=z}}}})(fx);hx.exports=fx;var m1=hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1=N,at=m1;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var px=new Set,Ks={};function an(e,t){Gn(e,t),Gn(e+"Capture",t)}function Gn(e,t){for(Ks[e]=t,e=0;e<t.length;e++)px.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wc=Object.prototype.hasOwnProperty,v1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pd={},Bd={};function y1(e){return wc.call(Bd,e)?!0:wc.call(Pd,e)?!1:v1.test(e)?Bd[e]=!0:(Pd[e]=!0,!1)}function w1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b1(e,t,r,n){if(t===null||typeof t>"u"||w1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var qu=/[\-:]([a-z])/g;function Ku(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qu,Ku);Te[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qu,Ku);Te[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qu,Ku);Te[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gu(e,t,r,n){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b1(t,r,s,n)&&(r=null),n||s===null?y1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jt=g1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ti=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),bc=Symbol.for("react.profiler"),xx=Symbol.for("react.provider"),mx=Symbol.for("react.context"),Xu=Symbol.for("react.forward_ref"),_c=Symbol.for("react.suspense"),Cc=Symbol.for("react.suspense_list"),Yu=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),gx=Symbol.for("react.offscreen"),Td=Symbol.iterator;function ps(e){return e===null||typeof e!="object"?null:(e=Td&&e[Td]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Wa;function Es(e){if(Wa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Wa=t&&t[1]||""}return`
`+Wa+e}var qa=!1;function Ka(e,t){if(!e||qa)return"";qa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{qa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Es(e):""}function _1(e){switch(e.tag){case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return e=Ka(e.type,!1),e;case 11:return e=Ka(e.type.render,!1),e;case 1:return e=Ka(e.type,!0),e;default:return""}}function kc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case Cn:return"Portal";case bc:return"Profiler";case Qu:return"StrictMode";case _c:return"Suspense";case Cc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mx:return(e.displayName||"Context")+".Consumer";case xx:return(e._context.displayName||"Context")+".Provider";case Xu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yu:return t=e.displayName||null,t!==null?t:kc(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return kc(e(t))}catch{}}return null}function C1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kc(t);case 8:return t===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k1(e){var t=vx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fi(e){e._valueTracker||(e._valueTracker=k1(e))}function yx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=vx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ec(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wx(e,t){t=t.checked,t!=null&&Gu(e,"checked",t,!1)}function jc(e,t){wx(e,t);var r=kr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sc(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sc(e,t,r){(t!=="number"||wo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var js=Array.isArray;function Un(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+kr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ac(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Od(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(js(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kr(r)}}function bx(e,t){var r=kr(t.value),n=kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ld(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _x(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_x(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,Cx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E1=["Webkit","ms","Moz","O"];Object.keys(Ps).forEach(function(e){E1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ps[t]=Ps[e]})});function kx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ps.hasOwnProperty(e)&&Ps[e]?(""+t).trim():t+"px"}function Ex(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=kx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var j1=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(e,t){if(t){if(j1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Pc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function Zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tc=null,$n=null,Vn=null;function Id(e){if(e=yi(e)){if(typeof Tc!="function")throw Error(I(280));var t=e.stateNode;t&&(t=da(t),Tc(e.stateNode,e.type,t))}}function jx(e){$n?Vn?Vn.push(e):Vn=[e]:$n=e}function Sx(){if($n){var e=$n,t=Vn;if(Vn=$n=null,Id(e),t)for(e=0;e<t.length;e++)Id(t[e])}}function Ax(e,t){return e(t)}function Nx(){}var Ga=!1;function Dx(e,t,r){if(Ga)return e(t,r);Ga=!0;try{return Ax(e,t,r)}finally{Ga=!1,($n!==null||Vn!==null)&&(Nx(),Sx())}}function Qs(e,t){var r=e.stateNode;if(r===null)return null;var n=da(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Fc=!1;if(Gt)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Fc=!1}function S1(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Bs=!1,bo=null,_o=!1,Rc=null,A1={onError:function(e){Bs=!0,bo=e}};function N1(e,t,r,n,s,i,o,a,l){Bs=!1,bo=null,S1.apply(A1,arguments)}function D1(e,t,r,n,s,i,o,a,l){if(N1.apply(this,arguments),Bs){if(Bs){var c=bo;Bs=!1,bo=null}else throw Error(I(198));_o||(_o=!0,Rc=c)}}function ln(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Px(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Md(e){if(ln(e)!==e)throw Error(I(188))}function P1(e){var t=e.alternate;if(!t){if(t=ln(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Md(s),e;if(i===n)return Md(s),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Bx(e){return e=P1(e),e!==null?Tx(e):null}function Tx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tx(e);if(t!==null)return t;e=e.sibling}return null}var Fx=at.unstable_scheduleCallback,Ud=at.unstable_cancelCallback,B1=at.unstable_shouldYield,T1=at.unstable_requestPaint,ye=at.unstable_now,F1=at.unstable_getCurrentPriorityLevel,Ju=at.unstable_ImmediatePriority,Rx=at.unstable_UserBlockingPriority,Co=at.unstable_NormalPriority,R1=at.unstable_LowPriority,Ox=at.unstable_IdlePriority,aa=null,Ft=null;function O1(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(aa,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:M1,L1=Math.log,I1=Math.LN2;function M1(e){return e>>>=0,e===0?32:31-(L1(e)/I1|0)|0}var Oi=64,Li=4194304;function Ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ko(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Ss(a):(i&=o,i!==0&&(n=Ss(i)))}else o=r&~s,o!==0?n=Ss(o):i!==0&&(n=Ss(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-At(t),s=1<<r,n|=e[r],t&=~s;return n}function U1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $1(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-At(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=U1(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Oc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lx(){var e=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),e}function Qa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=r}function V1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-At(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function e0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-At(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var se=0;function Ix(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mx,t0,Ux,$x,Vx,Lc=!1,Ii=[],xr=null,mr=null,gr=null,Xs=new Map,Ys=new Map,cr=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $d(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function ms(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=yi(t),t!==null&&t0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function H1(e,t,r,n,s){switch(t){case"focusin":return xr=ms(xr,e,t,r,n,s),!0;case"dragenter":return mr=ms(mr,e,t,r,n,s),!0;case"mouseover":return gr=ms(gr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Xs.set(i,ms(Xs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ys.set(i,ms(Ys.get(i)||null,e,t,r,n,s)),!0}return!1}function zx(e){var t=Wr(e.target);if(t!==null){var r=ln(t);if(r!==null){if(t=r.tag,t===13){if(t=Px(r),t!==null){e.blockedOn=t,Vx(e.priority,function(){Ux(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ic(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bc=n,r.target.dispatchEvent(n),Bc=null}else return t=yi(r),t!==null&&t0(t),e.blockedOn=r,!1;t.shift()}return!0}function Vd(e,t,r){oo(e)&&r.delete(t)}function W1(){Lc=!1,xr!==null&&oo(xr)&&(xr=null),mr!==null&&oo(mr)&&(mr=null),gr!==null&&oo(gr)&&(gr=null),Xs.forEach(Vd),Ys.forEach(Vd)}function gs(e,t){e.blockedOn===t&&(e.blockedOn=null,Lc||(Lc=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,W1)))}function Zs(e){function t(s){return gs(s,e)}if(0<Ii.length){gs(Ii[0],e);for(var r=1;r<Ii.length;r++){var n=Ii[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xr!==null&&gs(xr,e),mr!==null&&gs(mr,e),gr!==null&&gs(gr,e),Xs.forEach(t),Ys.forEach(t),r=0;r<cr.length;r++)n=cr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)zx(r),r.blockedOn===null&&cr.shift()}var zn=Jt.ReactCurrentBatchConfig,Eo=!0;function q1(e,t,r,n){var s=se,i=zn.transition;zn.transition=null;try{se=1,r0(e,t,r,n)}finally{se=s,zn.transition=i}}function K1(e,t,r,n){var s=se,i=zn.transition;zn.transition=null;try{se=4,r0(e,t,r,n)}finally{se=s,zn.transition=i}}function r0(e,t,r,n){if(Eo){var s=Ic(e,t,r,n);if(s===null)il(e,t,n,jo,r),$d(e,n);else if(H1(s,e,t,r,n))n.stopPropagation();else if($d(e,n),t&4&&-1<z1.indexOf(e)){for(;s!==null;){var i=yi(s);if(i!==null&&Mx(i),i=Ic(e,t,r,n),i===null&&il(e,t,n,jo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else il(e,t,n,null,r)}}var jo=null;function Ic(e,t,r,n){if(jo=null,e=Zu(n),e=Wr(e),e!==null)if(t=ln(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Px(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jo=e,null}function Hx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F1()){case Ju:return 1;case Rx:return 4;case Co:case R1:return 16;case Ox:return 536870912;default:return 16}default:return 16}}var hr=null,n0=null,ao=null;function Wx(){if(ao)return ao;var e,t=n0,r=t.length,n,s="value"in hr?hr.value:hr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ao=s.slice(e,1<n?1-n:void 0)}function lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function zd(){return!1}function ut(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mi:zd,this.isPropagationStopped=zd,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s0=ut(is),vi=me({},is,{view:0,detail:0}),G1=ut(vi),Xa,Ya,vs,la=me({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(Xa=e.screenX-vs.screenX,Ya=e.screenY-vs.screenY):Ya=Xa=0,vs=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),Hd=ut(la),Q1=me({},la,{dataTransfer:0}),X1=ut(Q1),Y1=me({},vi,{relatedTarget:0}),Za=ut(Y1),Z1=me({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),J1=ut(Z1),ew=me({},is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tw=ut(ew),rw=me({},is,{data:0}),Wd=ut(rw),nw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ow(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iw[e])?!!t[e]:!1}function i0(){return ow}var aw=me({},vi,{key:function(e){if(e.key){var t=nw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lw=ut(aw),cw=me({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=ut(cw),uw=me({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),dw=ut(uw),hw=me({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),fw=ut(hw),pw=me({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xw=ut(pw),mw=[9,13,27,32],o0=Gt&&"CompositionEvent"in window,Ts=null;Gt&&"documentMode"in document&&(Ts=document.documentMode);var gw=Gt&&"TextEvent"in window&&!Ts,qx=Gt&&(!o0||Ts&&8<Ts&&11>=Ts),Kd=" ",Gd=!1;function Kx(e,t){switch(e){case"keyup":return mw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function vw(e,t){switch(e){case"compositionend":return Gx(t);case"keypress":return t.which!==32?null:(Gd=!0,Kd);case"textInput":return e=t.data,e===Kd&&Gd?null:e;default:return null}}function yw(e,t){if(En)return e==="compositionend"||!o0&&Kx(e,t)?(e=Wx(),ao=n0=hr=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qx&&t.locale!=="ko"?null:t.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ww[e.type]:t==="textarea"}function Qx(e,t,r,n){jx(n),t=So(t,"onChange"),0<t.length&&(r=new s0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fs=null,Js=null;function bw(e){om(e,0)}function ca(e){var t=An(e);if(yx(t))return e}function _w(e,t){if(e==="change")return t}var Xx=!1;if(Gt){var Ja;if(Gt){var el="oninput"in document;if(!el){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),el=typeof Xd.oninput=="function"}Ja=el}else Ja=!1;Xx=Ja&&(!document.documentMode||9<document.documentMode)}function Yd(){Fs&&(Fs.detachEvent("onpropertychange",Yx),Js=Fs=null)}function Yx(e){if(e.propertyName==="value"&&ca(Js)){var t=[];Qx(t,Js,e,Zu(e)),Dx(bw,t)}}function Cw(e,t,r){e==="focusin"?(Yd(),Fs=t,Js=r,Fs.attachEvent("onpropertychange",Yx)):e==="focusout"&&Yd()}function kw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ca(Js)}function Ew(e,t){if(e==="click")return ca(t)}function jw(e,t){if(e==="input"||e==="change")return ca(t)}function Sw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Sw;function ei(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!wc.call(t,s)||!Dt(e[s],t[s]))return!1}return!0}function Zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jd(e,t){var r=Zd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zd(r)}}function Zx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jx(){for(var e=window,t=wo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wo(e.document)}return t}function a0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Aw(e){var t=Jx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Zx(r.ownerDocument.documentElement,r)){if(n!==null&&a0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Jd(r,i);var o=Jd(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nw=Gt&&"documentMode"in document&&11>=document.documentMode,jn=null,Mc=null,Rs=null,Uc=!1;function eh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uc||jn==null||jn!==wo(n)||(n=jn,"selectionStart"in n&&a0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rs&&ei(Rs,n)||(Rs=n,n=So(Mc,"onSelect"),0<n.length&&(t=new s0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jn)))}function Ui(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sn={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},tl={},em={};Gt&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function ua(e){if(tl[e])return tl[e];if(!Sn[e])return e;var t=Sn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in em)return tl[e]=t[r];return e}var tm=ua("animationend"),rm=ua("animationiteration"),nm=ua("animationstart"),sm=ua("transitionend"),im=new Map,th="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){im.set(e,t),an(t,[e])}for(var rl=0;rl<th.length;rl++){var nl=th[rl],Dw=nl.toLowerCase(),Pw=nl[0].toUpperCase()+nl.slice(1);Nr(Dw,"on"+Pw)}Nr(tm,"onAnimationEnd");Nr(rm,"onAnimationIteration");Nr(nm,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(sm,"onTransitionEnd");Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function rh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,D1(n,t,void 0,e),e.currentTarget=null}function om(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;rh(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;rh(s,a,c),i=l}}}if(_o)throw e=Rc,_o=!1,Rc=null,e}function ce(e,t){var r=t[Wc];r===void 0&&(r=t[Wc]=new Set);var n=e+"__bubble";r.has(n)||(am(t,e,2,!1),r.add(n))}function sl(e,t,r){var n=0;t&&(n|=4),am(r,e,n,t)}var $i="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[$i]){e[$i]=!0,px.forEach(function(r){r!=="selectionchange"&&(Bw.has(r)||sl(r,!1,e),sl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$i]||(t[$i]=!0,sl("selectionchange",!1,t))}}function am(e,t,r,n){switch(Hx(t)){case 1:var s=q1;break;case 4:s=K1;break;default:s=r0}r=s.bind(null,t,r,e),s=void 0,!Fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function il(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Wr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Dx(function(){var c=i,u=Zu(r),h=[];e:{var f=im.get(e);if(f!==void 0){var p=s0,g=e;switch(e){case"keypress":if(lo(r)===0)break e;case"keydown":case"keyup":p=lw;break;case"focusin":g="focus",p=Za;break;case"focusout":g="blur",p=Za;break;case"beforeblur":case"afterblur":p=Za;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=X1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dw;break;case tm:case rm:case nm:p=J1;break;case sm:p=fw;break;case"scroll":p=G1;break;case"wheel":p=xw;break;case"copy":case"cut":case"paste":p=tw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qd}var y=(t&4)!==0,v=!y&&e==="scroll",w=y?f!==null?f+"Capture":null:f;y=[];for(var m=c,x;m!==null;){x=m;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,w!==null&&(b=Qs(m,w),b!=null&&y.push(ri(m,b,x)))),v)break;m=m.return}0<y.length&&(f=new p(f,g,null,r,u),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Bc&&(g=r.relatedTarget||r.fromElement)&&(Wr(g)||g[Qt]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Wr(g):null,g!==null&&(v=ln(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=Hd,b="onMouseLeave",w="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=qd,b="onPointerLeave",w="onPointerEnter",m="pointer"),v=p==null?f:An(p),x=g==null?f:An(g),f=new y(b,m+"leave",p,r,u),f.target=v,f.relatedTarget=x,b=null,Wr(u)===c&&(y=new y(w,m+"enter",g,r,u),y.target=x,y.relatedTarget=v,b=y),v=b,p&&g)t:{for(y=p,w=g,m=0,x=y;x;x=gn(x))m++;for(x=0,b=w;b;b=gn(b))x++;for(;0<m-x;)y=gn(y),m--;for(;0<x-m;)w=gn(w),x--;for(;m--;){if(y===w||w!==null&&y===w.alternate)break t;y=gn(y),w=gn(w)}y=null}else y=null;p!==null&&nh(h,f,p,y,!1),g!==null&&v!==null&&nh(h,v,g,y,!0)}}e:{if(f=c?An(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=_w;else if(Qd(f))if(Xx)C=jw;else{C=kw;var k=Cw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Ew);if(C&&(C=C(e,c))){Qx(h,C,r,u);break e}k&&k(e,f,c),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Sc(f,"number",f.value)}switch(k=c?An(c):window,e){case"focusin":(Qd(k)||k.contentEditable==="true")&&(jn=k,Mc=c,Rs=null);break;case"focusout":Rs=Mc=jn=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,eh(h,r,u);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":eh(h,r,u)}var E;if(o0)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else En?Kx(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(qx&&r.locale!=="ko"&&(En||_!=="onCompositionStart"?_==="onCompositionEnd"&&En&&(E=Wx()):(hr=u,n0="value"in hr?hr.value:hr.textContent,En=!0)),k=So(c,_),0<k.length&&(_=new Wd(_,e,null,r,u),h.push({event:_,listeners:k}),E?_.data=E:(E=Gx(r),E!==null&&(_.data=E)))),(E=gw?vw(e,r):yw(e,r))&&(c=So(c,"onBeforeInput"),0<c.length&&(u=new Wd("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=E))}om(h,t)})}function ri(e,t,r){return{instance:e,listener:t,currentTarget:r}}function So(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qs(e,r),i!=null&&n.unshift(ri(e,i,s)),i=Qs(e,t),i!=null&&n.push(ri(e,i,s))),e=e.return}return n}function gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nh(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Qs(r,i),l!=null&&o.unshift(ri(r,l,a))):s||(l=Qs(r,i),l!=null&&o.push(ri(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Tw=/\r\n?/g,Fw=/\u0000|\uFFFD/g;function sh(e){return(typeof e=="string"?e:""+e).replace(Tw,`
`).replace(Fw,"")}function Vi(e,t,r){if(t=sh(t),sh(e)!==t&&r)throw Error(I(425))}function Ao(){}var $c=null,Vc=null;function zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hc=typeof setTimeout=="function"?setTimeout:void 0,Rw=typeof clearTimeout=="function"?clearTimeout:void 0,ih=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof ih<"u"?function(e){return ih.resolve(null).then(e).catch(Lw)}:Hc;function Lw(e){setTimeout(function(){throw e})}function ol(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Zs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Zs(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),Tt="__reactFiber$"+os,ni="__reactProps$"+os,Qt="__reactContainer$"+os,Wc="__reactEvents$"+os,Iw="__reactListeners$"+os,Mw="__reactHandles$"+os;function Wr(e){var t=e[Tt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qt]||r[Tt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=oh(e);e!==null;){if(r=e[Tt])return r;e=oh(e)}return t}e=r,r=e.parentNode}return null}function yi(e){return e=e[Tt]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function da(e){return e[ni]||null}var qc=[],Nn=-1;function Dr(e){return{current:e}}function ue(e){0>Nn||(e.current=qc[Nn],qc[Nn]=null,Nn--)}function oe(e,t){Nn++,qc[Nn]=e.current,e.current=t}var Er={},Ue=Dr(Er),Ze=Dr(!1),tn=Er;function Qn(e,t){var r=e.type.contextTypes;if(!r)return Er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Je(e){return e=e.childContextTypes,e!=null}function No(){ue(Ze),ue(Ue)}function ah(e,t,r){if(Ue.current!==Er)throw Error(I(168));oe(Ue,t),oe(Ze,r)}function lm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,C1(e)||"Unknown",s));return me({},r,n)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,tn=Ue.current,oe(Ue,e),oe(Ze,Ze.current),!0}function lh(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=lm(e,t,tn),n.__reactInternalMemoizedMergedChildContext=e,ue(Ze),ue(Ue),oe(Ue,e)):ue(Ze),oe(Ze,r)}var $t=null,ha=!1,al=!1;function cm(e){$t===null?$t=[e]:$t.push(e)}function Uw(e){ha=!0,cm(e)}function Pr(){if(!al&&$t!==null){al=!0;var e=0,t=se;try{var r=$t;for(se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$t=null,ha=!1}catch(s){throw $t!==null&&($t=$t.slice(e+1)),Fx(Ju,Pr),s}finally{se=t,al=!1}}return null}var Dn=[],Pn=0,Po=null,Bo=0,xt=[],mt=0,rn=null,Vt=1,zt="";function Ir(e,t){Dn[Pn++]=Bo,Dn[Pn++]=Po,Po=e,Bo=t}function um(e,t,r){xt[mt++]=Vt,xt[mt++]=zt,xt[mt++]=rn,rn=e;var n=Vt;e=zt;var s=32-At(n)-1;n&=~(1<<s),r+=1;var i=32-At(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Vt=1<<32-At(t)+s|r<<s|n,zt=i+e}else Vt=1<<i|r<<s|n,zt=e}function l0(e){e.return!==null&&(Ir(e,1),um(e,1,0))}function c0(e){for(;e===Po;)Po=Dn[--Pn],Dn[Pn]=null,Bo=Dn[--Pn],Dn[Pn]=null;for(;e===rn;)rn=xt[--mt],xt[mt]=null,zt=xt[--mt],xt[mt]=null,Vt=xt[--mt],xt[mt]=null}var ot=null,it=null,de=!1,St=null;function dm(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ch(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rn!==null?{id:Vt,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ot=e,it=null,!0):!1;default:return!1}}function Kc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gc(e){if(de){var t=it;if(t){var r=t;if(!ch(e,t)){if(Kc(e))throw Error(I(418));t=vr(r.nextSibling);var n=ot;t&&ch(e,t)?dm(n,r):(e.flags=e.flags&-4097|2,de=!1,ot=e)}}else{if(Kc(e))throw Error(I(418));e.flags=e.flags&-4097|2,de=!1,ot=e}}}function uh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function zi(e){if(e!==ot)return!1;if(!de)return uh(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zc(e.type,e.memoizedProps)),t&&(t=it)){if(Kc(e))throw hm(),Error(I(418));for(;t;)dm(e,t),t=vr(t.nextSibling)}if(uh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){it=vr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?vr(e.stateNode.nextSibling):null;return!0}function hm(){for(var e=it;e;)e=vr(e.nextSibling)}function Xn(){it=ot=null,de=!1}function u0(e){St===null?St=[e]:St.push(e)}var $w=Jt.ReactCurrentBatchConfig;function ys(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dh(e){var t=e._init;return t(e._payload)}function fm(e){function t(w,m){if(e){var x=w.deletions;x===null?(w.deletions=[m],w.flags|=16):x.push(m)}}function r(w,m){if(!e)return null;for(;m!==null;)t(w,m),m=m.sibling;return null}function n(w,m){for(w=new Map;m!==null;)m.key!==null?w.set(m.key,m):w.set(m.index,m),m=m.sibling;return w}function s(w,m){return w=_r(w,m),w.index=0,w.sibling=null,w}function i(w,m,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<m?(w.flags|=2,m):x):(w.flags|=2,m)):(w.flags|=1048576,m)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,m,x,b){return m===null||m.tag!==6?(m=pl(x,w.mode,b),m.return=w,m):(m=s(m,x),m.return=w,m)}function l(w,m,x,b){var C=x.type;return C===kn?u(w,m,x.props.children,b,x.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ir&&dh(C)===m.type)?(b=s(m,x.props),b.ref=ys(w,m,x),b.return=w,b):(b=mo(x.type,x.key,x.props,null,w.mode,b),b.ref=ys(w,m,x),b.return=w,b)}function c(w,m,x,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=xl(x,w.mode,b),m.return=w,m):(m=s(m,x.children||[]),m.return=w,m)}function u(w,m,x,b,C){return m===null||m.tag!==7?(m=Zr(x,w.mode,b,C),m.return=w,m):(m=s(m,x),m.return=w,m)}function h(w,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=pl(""+m,w.mode,x),m.return=w,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ti:return x=mo(m.type,m.key,m.props,null,w.mode,x),x.ref=ys(w,null,m),x.return=w,x;case Cn:return m=xl(m,w.mode,x),m.return=w,m;case ir:var b=m._init;return h(w,b(m._payload),x)}if(js(m)||ps(m))return m=Zr(m,w.mode,x,null),m.return=w,m;Hi(w,m)}return null}function f(w,m,x,b){var C=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(w,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ti:return x.key===C?l(w,m,x,b):null;case Cn:return x.key===C?c(w,m,x,b):null;case ir:return C=x._init,f(w,m,C(x._payload),b)}if(js(x)||ps(x))return C!==null?null:u(w,m,x,b,null);Hi(w,x)}return null}function p(w,m,x,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(x)||null,a(m,w,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ti:return w=w.get(b.key===null?x:b.key)||null,l(m,w,b,C);case Cn:return w=w.get(b.key===null?x:b.key)||null,c(m,w,b,C);case ir:var k=b._init;return p(w,m,x,k(b._payload),C)}if(js(b)||ps(b))return w=w.get(x)||null,u(m,w,b,C,null);Hi(m,b)}return null}function g(w,m,x,b){for(var C=null,k=null,E=m,_=m=0,B=null;E!==null&&_<x.length;_++){E.index>_?(B=E,E=null):B=E.sibling;var S=f(w,E,x[_],b);if(S===null){E===null&&(E=B);break}e&&E&&S.alternate===null&&t(w,E),m=i(S,m,_),k===null?C=S:k.sibling=S,k=S,E=B}if(_===x.length)return r(w,E),de&&Ir(w,_),C;if(E===null){for(;_<x.length;_++)E=h(w,x[_],b),E!==null&&(m=i(E,m,_),k===null?C=E:k.sibling=E,k=E);return de&&Ir(w,_),C}for(E=n(w,E);_<x.length;_++)B=p(E,w,_,x[_],b),B!==null&&(e&&B.alternate!==null&&E.delete(B.key===null?_:B.key),m=i(B,m,_),k===null?C=B:k.sibling=B,k=B);return e&&E.forEach(function(D){return t(w,D)}),de&&Ir(w,_),C}function y(w,m,x,b){var C=ps(x);if(typeof C!="function")throw Error(I(150));if(x=C.call(x),x==null)throw Error(I(151));for(var k=C=null,E=m,_=m=0,B=null,S=x.next();E!==null&&!S.done;_++,S=x.next()){E.index>_?(B=E,E=null):B=E.sibling;var D=f(w,E,S.value,b);if(D===null){E===null&&(E=B);break}e&&E&&D.alternate===null&&t(w,E),m=i(D,m,_),k===null?C=D:k.sibling=D,k=D,E=B}if(S.done)return r(w,E),de&&Ir(w,_),C;if(E===null){for(;!S.done;_++,S=x.next())S=h(w,S.value,b),S!==null&&(m=i(S,m,_),k===null?C=S:k.sibling=S,k=S);return de&&Ir(w,_),C}for(E=n(w,E);!S.done;_++,S=x.next())S=p(E,w,_,S.value,b),S!==null&&(e&&S.alternate!==null&&E.delete(S.key===null?_:S.key),m=i(S,m,_),k===null?C=S:k.sibling=S,k=S);return e&&E.forEach(function(F){return t(w,F)}),de&&Ir(w,_),C}function v(w,m,x,b){if(typeof x=="object"&&x!==null&&x.type===kn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ti:e:{for(var C=x.key,k=m;k!==null;){if(k.key===C){if(C=x.type,C===kn){if(k.tag===7){r(w,k.sibling),m=s(k,x.props.children),m.return=w,w=m;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ir&&dh(C)===k.type){r(w,k.sibling),m=s(k,x.props),m.ref=ys(w,k,x),m.return=w,w=m;break e}r(w,k);break}else t(w,k);k=k.sibling}x.type===kn?(m=Zr(x.props.children,w.mode,b,x.key),m.return=w,w=m):(b=mo(x.type,x.key,x.props,null,w.mode,b),b.ref=ys(w,m,x),b.return=w,w=b)}return o(w);case Cn:e:{for(k=x.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(w,m.sibling),m=s(m,x.children||[]),m.return=w,w=m;break e}else{r(w,m);break}else t(w,m);m=m.sibling}m=xl(x,w.mode,b),m.return=w,w=m}return o(w);case ir:return k=x._init,v(w,m,k(x._payload),b)}if(js(x))return g(w,m,x,b);if(ps(x))return y(w,m,x,b);Hi(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(w,m.sibling),m=s(m,x),m.return=w,w=m):(r(w,m),m=pl(x,w.mode,b),m.return=w,w=m),o(w)):r(w,m)}return v}var Yn=fm(!0),pm=fm(!1),To=Dr(null),Fo=null,Bn=null,d0=null;function h0(){d0=Bn=Fo=null}function f0(e){var t=To.current;ue(To),e._currentValue=t}function Qc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hn(e,t){Fo=e,d0=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(d0!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(Fo===null)throw Error(I(308));Bn=e,Fo.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var qr=null;function p0(e){qr===null?qr=[e]:qr.push(e)}function xm(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,p0(t)):(r.next=s.next,s.next=r),t.interleaved=r,Xt(e,n)}function Xt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var or=!1;function x0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ne&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Xt(e,r)}return s=n.interleaved,s===null?(t.next=t,p0(n)):(t.next=s.next,s.next=t),n.interleaved=t,Xt(e,r)}function co(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,e0(e,r)}}function hh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ro(e,t,r,n){var s=e.updateQueue;or=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(f=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=me({},h,f);break e;case 2:or=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sn|=o,e.lanes=o,e.memoizedState=h}}function fh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var wi={},Rt=Dr(wi),si=Dr(wi),ii=Dr(wi);function Kr(e){if(e===wi)throw Error(I(174));return e}function m0(e,t){switch(oe(ii,t),oe(si,e),oe(Rt,wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nc(t,e)}ue(Rt),oe(Rt,t)}function Zn(){ue(Rt),ue(si),ue(ii)}function gm(e){Kr(ii.current);var t=Kr(Rt.current),r=Nc(t,e.type);t!==r&&(oe(si,e),oe(Rt,r))}function g0(e){si.current===e&&(ue(Rt),ue(si))}var fe=Dr(0);function Oo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=[];function v0(){for(var e=0;e<ll.length;e++)ll[e]._workInProgressVersionPrimary=null;ll.length=0}var uo=Jt.ReactCurrentDispatcher,cl=Jt.ReactCurrentBatchConfig,nn=0,xe=null,ke=null,Se=null,Lo=!1,Os=!1,oi=0,Vw=0;function Oe(){throw Error(I(321))}function y0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dt(e[r],t[r]))return!1;return!0}function w0(e,t,r,n,s,i){if(nn=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=e===null||e.memoizedState===null?qw:Kw,e=r(n,s),Os){i=0;do{if(Os=!1,oi=0,25<=i)throw Error(I(301));i+=1,Se=ke=null,t.updateQueue=null,uo.current=Gw,e=r(n,s)}while(Os)}if(uo.current=Io,t=ke!==null&&ke.next!==null,nn=0,Se=ke=xe=null,Lo=!1,t)throw Error(I(300));return e}function b0(){var e=oi!==0;return oi=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?xe.memoizedState=Se=e:Se=Se.next=e,Se}function wt(){if(ke===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Se===null?xe.memoizedState:Se.next;if(t!==null)Se=t,ke=e;else{if(e===null)throw Error(I(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Se===null?xe.memoizedState=Se=e:Se=Se.next=e}return Se}function ai(e,t){return typeof t=="function"?t(e):t}function ul(e){var t=wt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=ke,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((nn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,xe.lanes|=u,sn|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Dt(n,t.memoizedState)||(Ye=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,sn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dl(e){var t=wt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Dt(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function vm(){}function ym(e,t){var r=xe,n=wt(),s=t(),i=!Dt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ye=!0),n=n.queue,_0(_m.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,li(9,bm.bind(null,r,n,s,t),void 0,null),Ae===null)throw Error(I(349));nn&30||wm(r,t,s)}return s}function wm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bm(e,t,r,n){t.value=r,t.getSnapshot=n,Cm(t)&&km(e)}function _m(e,t,r){return r(function(){Cm(t)&&km(e)})}function Cm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dt(e,r)}catch{return!0}}function km(e){var t=Xt(e,1);t!==null&&Nt(t,e,1,-1)}function ph(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=Ww.bind(null,xe,e),[t.memoizedState,e]}function li(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Em(){return wt().memoizedState}function ho(e,t,r,n){var s=Bt();xe.flags|=e,s.memoizedState=li(1|t,r,void 0,n===void 0?null:n)}function fa(e,t,r,n){var s=wt();n=n===void 0?null:n;var i=void 0;if(ke!==null){var o=ke.memoizedState;if(i=o.destroy,n!==null&&y0(n,o.deps)){s.memoizedState=li(t,r,i,n);return}}xe.flags|=e,s.memoizedState=li(1|t,r,i,n)}function xh(e,t){return ho(8390656,8,e,t)}function _0(e,t){return fa(2048,8,e,t)}function jm(e,t){return fa(4,2,e,t)}function Sm(e,t){return fa(4,4,e,t)}function Am(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nm(e,t,r){return r=r!=null?r.concat([e]):null,fa(4,4,Am.bind(null,t,e),r)}function C0(){}function Dm(e,t){var r=wt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&y0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Pm(e,t){var r=wt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&y0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Bm(e,t,r){return nn&21?(Dt(r,t)||(r=Lx(),xe.lanes|=r,sn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=r)}function zw(e,t){var r=se;se=r!==0&&4>r?r:4,e(!0);var n=cl.transition;cl.transition={};try{e(!1),t()}finally{se=r,cl.transition=n}}function Tm(){return wt().memoizedState}function Hw(e,t,r){var n=br(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fm(e))Rm(t,r);else if(r=xm(e,t,r,n),r!==null){var s=We();Nt(r,e,n,s),Om(r,t,n)}}function Ww(e,t,r){var n=br(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fm(e))Rm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Dt(a,o)){var l=t.interleaved;l===null?(s.next=s,p0(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=xm(e,t,s,n),r!==null&&(s=We(),Nt(r,e,n,s),Om(r,t,n))}}function Fm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Rm(e,t){Os=Lo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Om(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,e0(e,r)}}var Io={readContext:yt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},qw={readContext:yt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:xh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ho(4194308,4,Am.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return ho(4,2,e,t)},useMemo:function(e,t){var r=Bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Hw.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:ph,useDebugValue:C0,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=ph(!1),t=e[0];return e=zw.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xe,s=Bt();if(de){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ae===null)throw Error(I(349));nn&30||wm(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,xh(_m.bind(null,n,i,e),[e]),n.flags|=2048,li(9,bm.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Bt(),t=Ae.identifierPrefix;if(de){var r=zt,n=Vt;r=(n&~(1<<32-At(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=oi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kw={readContext:yt,useCallback:Dm,useContext:yt,useEffect:_0,useImperativeHandle:Nm,useInsertionEffect:jm,useLayoutEffect:Sm,useMemo:Pm,useReducer:ul,useRef:Em,useState:function(){return ul(ai)},useDebugValue:C0,useDeferredValue:function(e){var t=wt();return Bm(t,ke.memoizedState,e)},useTransition:function(){var e=ul(ai)[0],t=wt().memoizedState;return[e,t]},useMutableSource:vm,useSyncExternalStore:ym,useId:Tm,unstable_isNewReconciler:!1},Gw={readContext:yt,useCallback:Dm,useContext:yt,useEffect:_0,useImperativeHandle:Nm,useInsertionEffect:jm,useLayoutEffect:Sm,useMemo:Pm,useReducer:dl,useRef:Em,useState:function(){return dl(ai)},useDebugValue:C0,useDeferredValue:function(e){var t=wt();return ke===null?t.memoizedState=e:Bm(t,ke.memoizedState,e)},useTransition:function(){var e=dl(ai)[0],t=wt().memoizedState;return[e,t]},useMutableSource:vm,useSyncExternalStore:ym,useId:Tm,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pa={isMounted:function(e){return(e=e._reactInternals)?ln(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=We(),s=br(e),i=Wt(n,s);i.payload=t,r!=null&&(i.callback=r),t=yr(e,i,s),t!==null&&(Nt(t,e,s,n),co(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=We(),s=br(e),i=Wt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=yr(e,i,s),t!==null&&(Nt(t,e,s,n),co(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=We(),n=br(e),s=Wt(r,n);s.tag=2,t!=null&&(s.callback=t),t=yr(e,s,n),t!==null&&(Nt(t,e,n,r),co(t,e,n))}};function mh(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ei(r,n)||!ei(s,i):!0}function Lm(e,t,r){var n=!1,s=Er,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=Je(t)?tn:Ue.current,n=t.contextTypes,i=(n=n!=null)?Qn(e,s):Er),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function gh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function Yc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},x0(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=Je(t)?tn:Ue.current,s.context=Qn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xc(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pa.enqueueReplaceState(s,s.state,null),Ro(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Jn(e,t){try{var r="",n=t;do r+=_1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Qw=typeof WeakMap=="function"?WeakMap:Map;function Im(e,t,r){r=Wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Uo||(Uo=!0,lu=n),Zc(e,t)},r}function Mm(e,t,r){r=Wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Zc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zc(e,t),typeof n!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function vh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Qw;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=c2.bind(null,e,t,r),t.then(e,e))}function yh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wt(-1,1),t.tag=2,yr(r,t,1))),r.lanes|=1),e)}var Xw=Jt.ReactCurrentOwner,Ye=!1;function He(e,t,r,n){t.child=e===null?pm(t,null,r,n):Yn(t,e.child,r,n)}function bh(e,t,r,n,s){r=r.render;var i=t.ref;return Hn(t,s),n=w0(e,t,r,n,i,s),r=b0(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yt(e,t,s)):(de&&r&&l0(t),t.flags|=1,He(e,t,n,s),t.child)}function _h(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!P0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Um(e,t,i,n,s)):(e=mo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ei,r(o,n)&&e.ref===t.ref)return Yt(e,t,s)}return t.flags|=1,e=_r(i,n),e.ref=t.ref,e.return=t,t.child=e}function Um(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ei(i,n)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Yt(e,t,s)}return Jc(e,t,r,n,s)}function $m(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Fn,st),st|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Fn,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,oe(Fn,st),st|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,oe(Fn,st),st|=n;return He(e,t,s,r),t.child}function Vm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jc(e,t,r,n,s){var i=Je(r)?tn:Ue.current;return i=Qn(t,i),Hn(t,s),r=w0(e,t,r,n,i,s),n=b0(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yt(e,t,s)):(de&&n&&l0(t),t.flags|=1,He(e,t,r,s),t.child)}function Ch(e,t,r,n,s){if(Je(r)){var i=!0;Do(t)}else i=!1;if(Hn(t,s),t.stateNode===null)fo(e,t),Lm(t,r,n),Yc(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=yt(c):(c=Je(r)?tn:Ue.current,c=Qn(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&gh(t,o,n,c),or=!1;var f=t.memoizedState;o.state=f,Ro(t,n,o,s),l=t.memoizedState,a!==n||f!==l||Ze.current||or?(typeof u=="function"&&(Xc(t,r,u,n),l=t.memoizedState),(a=or||mh(t,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,mm(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:kt(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=yt(l):(l=Je(r)?tn:Ue.current,l=Qn(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&gh(t,o,n,l),or=!1,f=t.memoizedState,o.state=f,Ro(t,n,o,s);var g=t.memoizedState;a!==h||f!==g||Ze.current||or?(typeof p=="function"&&(Xc(t,r,p,n),g=t.memoizedState),(c=or||mh(t,r,c,n,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return eu(e,t,r,n,i,s)}function eu(e,t,r,n,s,i){Vm(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&lh(t,r,!1),Yt(e,t,i);n=t.stateNode,Xw.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Yn(t,e.child,null,i),t.child=Yn(t,null,a,i)):He(e,t,a,i),t.memoizedState=n.state,s&&lh(t,r,!0),t.child}function zm(e){var t=e.stateNode;t.pendingContext?ah(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ah(e,t.context,!1),m0(e,t.containerInfo)}function kh(e,t,r,n,s){return Xn(),u0(s),t.flags|=256,He(e,t,r,n),t.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hm(e,t,r){var n=t.pendingProps,s=fe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(fe,s&1),e===null)return Gc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ga(o,n,0,null),e=Zr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ru(r),t.memoizedState=tu,e):k0(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Yw(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=_r(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_r(a,i):(i=Zr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ru(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=tu,n}return i=e.child,e=i.sibling,n=_r(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function k0(e,t){return t=ga({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wi(e,t,r,n){return n!==null&&u0(n),Yn(t,e.child,null,r),e=k0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yw(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=hl(Error(I(422))),Wi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ga({mode:"visible",children:n.children},s,0,null),i=Zr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Yn(t,e.child,null,o),t.child.memoizedState=ru(o),t.memoizedState=tu,i);if(!(t.mode&1))return Wi(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(I(419)),n=hl(i,n,void 0),Wi(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ye||a){if(n=Ae,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xt(e,s),Nt(n,e,s,-1))}return D0(),n=hl(Error(I(421))),Wi(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=u2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,it=vr(s.nextSibling),ot=t,de=!0,St=null,e!==null&&(xt[mt++]=Vt,xt[mt++]=zt,xt[mt++]=rn,Vt=e.id,zt=e.overflow,rn=t),t=k0(t,n.children),t.flags|=4096,t)}function Eh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qc(e.return,t,r)}function fl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Wm(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(He(e,t,n.children,r),n=fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eh(e,r,t);else if(e.tag===19)Eh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(oe(fe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Oo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),fl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Oo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}fl(t,!0,r,null,i);break;case"together":fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=_r(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_r(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Zw(e,t,r){switch(t.tag){case 3:zm(t),Xn();break;case 5:gm(t);break;case 1:Je(t.type)&&Do(t);break;case 4:m0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;oe(To,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(oe(fe,fe.current&1),t.flags|=128,null):r&t.child.childLanes?Hm(e,t,r):(oe(fe,fe.current&1),e=Yt(e,t,r),e!==null?e.sibling:null);oe(fe,fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Wm(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(fe,fe.current),n)break;return null;case 22:case 23:return t.lanes=0,$m(e,t,r)}return Yt(e,t,r)}var qm,nu,Km,Gm;qm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nu=function(){};Km=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Kr(Rt.current);var i=null;switch(r){case"input":s=Ec(e,s),n=Ec(e,n),i=[];break;case"select":s=me({},s,{value:void 0}),n=me({},n,{value:void 0}),i=[];break;case"textarea":s=Ac(e,s),n=Ac(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ao)}Dc(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ks.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ce("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Gm=function(e,t,r,n){r!==n&&(t.flags|=4)};function ws(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Jw(e,t,r){var n=t.pendingProps;switch(c0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Je(t.type)&&No(),Le(t),null;case 3:return n=t.stateNode,Zn(),ue(Ze),ue(Ue),v0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(du(St),St=null))),nu(e,t),Le(t),null;case 5:g0(t);var s=Kr(ii.current);if(r=t.type,e!==null&&t.stateNode!=null)Km(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Le(t),null}if(e=Kr(Rt.current),zi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Tt]=t,n[ni]=i,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(s=0;s<As.length;s++)ce(As[s],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":Fd(n,i),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ce("invalid",n);break;case"textarea":Od(n,i),ce("invalid",n)}Dc(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vi(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vi(n.textContent,a,e),s=["children",""+a]):Ks.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",n)}switch(r){case"input":Fi(n),Rd(n,i,!0);break;case"textarea":Fi(n),Ld(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ao)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_x(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Tt]=t,e[ni]=n,qm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pc(r,n),r){case"dialog":ce("cancel",e),ce("close",e),s=n;break;case"iframe":case"object":case"embed":ce("load",e),s=n;break;case"video":case"audio":for(s=0;s<As.length;s++)ce(As[s],e);s=n;break;case"source":ce("error",e),s=n;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=n;break;case"details":ce("toggle",e),s=n;break;case"input":Fd(e,n),s=Ec(e,n),ce("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=me({},n,{value:void 0}),ce("invalid",e);break;case"textarea":Od(e,n),s=Ac(e,n),ce("invalid",e);break;default:s=n}Dc(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ex(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cx(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Gs(e,l):typeof l=="number"&&Gs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ks.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ce("scroll",e):l!=null&&Gu(e,i,l,o))}switch(r){case"input":Fi(e),Rd(e,n,!1);break;case"textarea":Fi(e),Ld(e);break;case"option":n.value!=null&&e.setAttribute("value",""+kr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Un(e,!!n.multiple,i,!1):n.defaultValue!=null&&Un(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ao)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Gm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Kr(ii.current),Kr(Rt.current),zi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Tt]=t,(i=n.nodeValue!==r)&&(e=ot,e!==null))switch(e.tag){case 3:Vi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tt]=t,t.stateNode=n}return Le(t),null;case 13:if(ue(fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&it!==null&&t.mode&1&&!(t.flags&128))hm(),Xn(),t.flags|=98560,i=!1;else if(i=zi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Tt]=t}else Xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else St!==null&&(du(St),St=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Ee===0&&(Ee=3):D0())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Zn(),nu(e,t),e===null&&ti(t.stateNode.containerInfo),Le(t),null;case 10:return f0(t.type._context),Le(t),null;case 17:return Je(t.type)&&No(),Le(t),null;case 19:if(ue(fe),i=t.memoizedState,i===null)return Le(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ws(i,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oo(e),o!==null){for(t.flags|=128,ws(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>es&&(t.flags|=128,n=!0,ws(i,!1),t.lanes=4194304)}else{if(!n)if(e=Oo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ws(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return Le(t),null}else 2*ye()-i.renderingStartTime>es&&r!==1073741824&&(t.flags|=128,n=!0,ws(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,r=fe.current,oe(fe,n?r&1|2:r&1),t):(Le(t),null);case 22:case 23:return N0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?st&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function e2(e,t){switch(c0(t),t.tag){case 1:return Je(t.type)&&No(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),ue(Ze),ue(Ue),v0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g0(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return Zn(),null;case 10:return f0(t.type._context),null;case 22:case 23:return N0(),null;case 24:return null;default:return null}}var qi=!1,Me=!1,t2=typeof WeakSet=="function"?WeakSet:Set,q=null;function Tn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ge(e,t,n)}else r.current=null}function su(e,t,r){try{r()}catch(n){ge(e,t,n)}}var jh=!1;function r2(e,t){if($c=Eo,e=Jx(),a0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++c===s&&(a=o),f===i&&++u===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vc={focusedElem:e,selectionRange:r},Eo=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,w=t.stateNode,m=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:kt(t.type,y),v);w.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return g=jh,jh=!1,g}function Ls(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&su(t,r,i)}s=s.next}while(s!==n)}}function xa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function iu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Qm(e){var t=e.alternate;t!==null&&(e.alternate=null,Qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[ni],delete t[Wc],delete t[Iw],delete t[Mw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xm(e){return e.tag===5||e.tag===3||e.tag===4}function Sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ou(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ao));else if(n!==4&&(e=e.child,e!==null))for(ou(e,t,r),e=e.sibling;e!==null;)ou(e,t,r),e=e.sibling}function au(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(au(e,t,r),e=e.sibling;e!==null;)au(e,t,r),e=e.sibling}var Pe=null,Et=!1;function rr(e,t,r){for(r=r.child;r!==null;)Ym(e,t,r),r=r.sibling}function Ym(e,t,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(aa,r)}catch{}switch(r.tag){case 5:Me||Tn(r,t);case 6:var n=Pe,s=Et;Pe=null,rr(e,t,r),Pe=n,Et=s,Pe!==null&&(Et?(e=Pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pe.removeChild(r.stateNode));break;case 18:Pe!==null&&(Et?(e=Pe,r=r.stateNode,e.nodeType===8?ol(e.parentNode,r):e.nodeType===1&&ol(e,r),Zs(e)):ol(Pe,r.stateNode));break;case 4:n=Pe,s=Et,Pe=r.stateNode.containerInfo,Et=!0,rr(e,t,r),Pe=n,Et=s;break;case 0:case 11:case 14:case 15:if(!Me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&su(r,t,o),s=s.next}while(s!==n)}rr(e,t,r);break;case 1:if(!Me&&(Tn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ge(r,t,a)}rr(e,t,r);break;case 21:rr(e,t,r);break;case 22:r.mode&1?(Me=(n=Me)||r.memoizedState!==null,rr(e,t,r),Me=n):rr(e,t,r);break;default:rr(e,t,r)}}function Ah(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new t2),t.forEach(function(n){var s=d2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,Et=!1;break e;case 3:Pe=a.stateNode.containerInfo,Et=!0;break e;case 4:Pe=a.stateNode.containerInfo,Et=!0;break e}a=a.return}if(Pe===null)throw Error(I(160));Ym(i,o,s),Pe=null,Et=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ge(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zm(t,e),t=t.sibling}function Zm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Pt(e),n&4){try{Ls(3,e,e.return),xa(3,e)}catch(y){ge(e,e.return,y)}try{Ls(5,e,e.return)}catch(y){ge(e,e.return,y)}}break;case 1:_t(t,e),Pt(e),n&512&&r!==null&&Tn(r,r.return);break;case 5:if(_t(t,e),Pt(e),n&512&&r!==null&&Tn(r,r.return),e.flags&32){var s=e.stateNode;try{Gs(s,"")}catch(y){ge(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&wx(s,i),Pc(a,o);var c=Pc(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Ex(s,h):u==="dangerouslySetInnerHTML"?Cx(s,h):u==="children"?Gs(s,h):Gu(s,u,h,c)}switch(a){case"input":jc(s,i);break;case"textarea":bx(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Un(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Un(s,!!i.multiple,i.defaultValue,!0):Un(s,!!i.multiple,i.multiple?[]:"",!1))}s[ni]=i}catch(y){ge(e,e.return,y)}}break;case 6:if(_t(t,e),Pt(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ge(e,e.return,y)}}break;case 3:if(_t(t,e),Pt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(y){ge(e,e.return,y)}break;case 4:_t(t,e),Pt(e);break;case 13:_t(t,e),Pt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(S0=ye())),n&4&&Ah(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Me=(c=Me)||u,_t(t,e),Me=c):_t(t,e),Pt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(q=e,u=e.child;u!==null;){for(h=q=u;q!==null;){switch(f=q,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ls(4,f,f.return);break;case 1:Tn(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){ge(n,r,y)}}break;case 5:Tn(f,f.return);break;case 22:if(f.memoizedState!==null){Dh(h);continue}}p!==null?(p.return=f,q=p):Dh(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kx("display",o))}catch(y){ge(e,e.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){ge(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),Pt(e),n&4&&Ah(e);break;case 21:break;default:_t(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xm(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Gs(s,""),n.flags&=-33);var i=Sh(e);au(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Sh(e);ou(e,a,o);break;default:throw Error(I(161))}}catch(l){ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n2(e,t,r){q=e,Jm(e)}function Jm(e,t,r){for(var n=(e.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||qi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Me;a=qi;var c=Me;if(qi=o,(Me=l)&&!c)for(q=s;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?Ph(s):l!==null?(l.return=o,q=l):Ph(s);for(;i!==null;)q=i,Jm(i),i=i.sibling;q=s,qi=a,Me=c}Nh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):Nh(e)}}function Nh(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||xa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Me)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:kt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&fh(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fh(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Zs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Me||t.flags&512&&iu(t)}catch(f){ge(t,t.return,f)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function Dh(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function Ph(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xa(4,t)}catch(l){ge(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ge(t,s,l)}}var i=t.return;try{iu(t)}catch(l){ge(t,i,l)}break;case 5:var o=t.return;try{iu(t)}catch(l){ge(t,o,l)}}}catch(l){ge(t,t.return,l)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var s2=Math.ceil,Mo=Jt.ReactCurrentDispatcher,E0=Jt.ReactCurrentOwner,vt=Jt.ReactCurrentBatchConfig,ne=0,Ae=null,_e=null,Be=0,st=0,Fn=Dr(0),Ee=0,ci=null,sn=0,ma=0,j0=0,Is=null,Qe=null,S0=0,es=1/0,Mt=null,Uo=!1,lu=null,wr=null,Ki=!1,fr=null,$o=0,Ms=0,cu=null,po=-1,xo=0;function We(){return ne&6?ye():po!==-1?po:po=ye()}function br(e){return e.mode&1?ne&2&&Be!==0?Be&-Be:$w.transition!==null?(xo===0&&(xo=Lx()),xo):(e=se,e!==0||(e=window.event,e=e===void 0?16:Hx(e.type)),e):1}function Nt(e,t,r,n){if(50<Ms)throw Ms=0,cu=null,Error(I(185));gi(e,r,n),(!(ne&2)||e!==Ae)&&(e===Ae&&(!(ne&2)&&(ma|=r),Ee===4&&ur(e,Be)),et(e,n),r===1&&ne===0&&!(t.mode&1)&&(es=ye()+500,ha&&Pr()))}function et(e,t){var r=e.callbackNode;$1(e,t);var n=ko(e,e===Ae?Be:0);if(n===0)r!==null&&Ud(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ud(r),t===1)e.tag===0?Uw(Bh.bind(null,e)):cm(Bh.bind(null,e)),Ow(function(){!(ne&6)&&Pr()}),r=null;else{switch(Ix(n)){case 1:r=Ju;break;case 4:r=Rx;break;case 16:r=Co;break;case 536870912:r=Ox;break;default:r=Co}r=ag(r,eg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eg(e,t){if(po=-1,xo=0,ne&6)throw Error(I(327));var r=e.callbackNode;if(Wn()&&e.callbackNode!==r)return null;var n=ko(e,e===Ae?Be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vo(e,n);else{t=n;var s=ne;ne|=2;var i=rg();(Ae!==e||Be!==t)&&(Mt=null,es=ye()+500,Yr(e,t));do try{a2();break}catch(a){tg(e,a)}while(!0);h0(),Mo.current=i,ne=s,_e!==null?t=0:(Ae=null,Be=0,t=Ee)}if(t!==0){if(t===2&&(s=Oc(e),s!==0&&(n=s,t=uu(e,s))),t===1)throw r=ci,Yr(e,0),ur(e,n),et(e,ye()),r;if(t===6)ur(e,n);else{if(s=e.current.alternate,!(n&30)&&!i2(s)&&(t=Vo(e,n),t===2&&(i=Oc(e),i!==0&&(n=i,t=uu(e,i))),t===1))throw r=ci,Yr(e,0),ur(e,n),et(e,ye()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:Mr(e,Qe,Mt);break;case 3:if(ur(e,n),(n&130023424)===n&&(t=S0+500-ye(),10<t)){if(ko(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){We(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hc(Mr.bind(null,e,Qe,Mt),t);break}Mr(e,Qe,Mt);break;case 4:if(ur(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-At(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s2(n/1960))-n,10<n){e.timeoutHandle=Hc(Mr.bind(null,e,Qe,Mt),n);break}Mr(e,Qe,Mt);break;case 5:Mr(e,Qe,Mt);break;default:throw Error(I(329))}}}return et(e,ye()),e.callbackNode===r?eg.bind(null,e):null}function uu(e,t){var r=Is;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=Vo(e,t),e!==2&&(t=Qe,Qe=r,t!==null&&du(t)),e}function du(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function i2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Dt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~j0,t&=~ma,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-At(t),n=1<<r;e[r]=-1,t&=~n}}function Bh(e){if(ne&6)throw Error(I(327));Wn();var t=ko(e,0);if(!(t&1))return et(e,ye()),null;var r=Vo(e,t);if(e.tag!==0&&r===2){var n=Oc(e);n!==0&&(t=n,r=uu(e,n))}if(r===1)throw r=ci,Yr(e,0),ur(e,t),et(e,ye()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mr(e,Qe,Mt),et(e,ye()),null}function A0(e,t){var r=ne;ne|=1;try{return e(t)}finally{ne=r,ne===0&&(es=ye()+500,ha&&Pr())}}function on(e){fr!==null&&fr.tag===0&&!(ne&6)&&Wn();var t=ne;ne|=1;var r=vt.transition,n=se;try{if(vt.transition=null,se=1,e)return e()}finally{se=n,vt.transition=r,ne=t,!(ne&6)&&Pr()}}function N0(){st=Fn.current,ue(Fn)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Rw(r)),_e!==null)for(r=_e.return;r!==null;){var n=r;switch(c0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&No();break;case 3:Zn(),ue(Ze),ue(Ue),v0();break;case 5:g0(n);break;case 4:Zn();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:f0(n.type._context);break;case 22:case 23:N0()}r=r.return}if(Ae=e,_e=e=_r(e.current,null),Be=st=t,Ee=0,ci=null,j0=ma=sn=0,Qe=Is=null,qr!==null){for(t=0;t<qr.length;t++)if(r=qr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}qr=null}return e}function tg(e,t){do{var r=_e;try{if(h0(),uo.current=Io,Lo){for(var n=xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lo=!1}if(nn=0,Se=ke=xe=null,Os=!1,oi=0,E0.current=null,r===null||r.return===null){Ee=1,ci=t,_e=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=yh(o);if(p!==null){p.flags&=-257,wh(p,o,a,i,t),p.mode&1&&vh(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){vh(i,c,t),D0();break e}l=Error(I(426))}}else if(de&&a.mode&1){var v=yh(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),wh(v,o,a,i,t),u0(Jn(l,a));break e}}i=l=Jn(l,a),Ee!==4&&(Ee=2),Is===null?Is=[i]:Is.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=Im(i,l,t);hh(i,w);break e;case 1:a=l;var m=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wr===null||!wr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Mm(i,a,t);hh(i,b);break e}}i=i.return}while(i!==null)}sg(r)}catch(C){t=C,_e===r&&r!==null&&(_e=r=r.return);continue}break}while(!0)}function rg(){var e=Mo.current;return Mo.current=Io,e===null?Io:e}function D0(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ae===null||!(sn&268435455)&&!(ma&268435455)||ur(Ae,Be)}function Vo(e,t){var r=ne;ne|=2;var n=rg();(Ae!==e||Be!==t)&&(Mt=null,Yr(e,t));do try{o2();break}catch(s){tg(e,s)}while(!0);if(h0(),ne=r,Mo.current=n,_e!==null)throw Error(I(261));return Ae=null,Be=0,Ee}function o2(){for(;_e!==null;)ng(_e)}function a2(){for(;_e!==null&&!B1();)ng(_e)}function ng(e){var t=og(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?sg(e):_e=t,E0.current=null}function sg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=e2(r,t),r!==null){r.flags&=32767,_e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,_e=null;return}}else if(r=Jw(r,t,st),r!==null){_e=r;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ee===0&&(Ee=5)}function Mr(e,t,r){var n=se,s=vt.transition;try{vt.transition=null,se=1,l2(e,t,r,n)}finally{vt.transition=s,se=n}return null}function l2(e,t,r,n){do Wn();while(fr!==null);if(ne&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(V1(e,i),e===Ae&&(_e=Ae=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ki||(Ki=!0,ag(Co,function(){return Wn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var o=se;se=1;var a=ne;ne|=4,E0.current=null,r2(e,r),Zm(r,e),Aw(Vc),Eo=!!$c,Vc=$c=null,e.current=r,n2(r),T1(),ne=a,se=o,vt.transition=i}else e.current=r;if(Ki&&(Ki=!1,fr=e,$o=s),i=e.pendingLanes,i===0&&(wr=null),O1(r.stateNode),et(e,ye()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Uo)throw Uo=!1,e=lu,lu=null,e;return $o&1&&e.tag!==0&&Wn(),i=e.pendingLanes,i&1?e===cu?Ms++:(Ms=0,cu=e):Ms=0,Pr(),null}function Wn(){if(fr!==null){var e=Ix($o),t=vt.transition,r=se;try{if(vt.transition=null,se=16>e?16:e,fr===null)var n=!1;else{if(e=fr,fr=null,$o=0,ne&6)throw Error(I(331));var s=ne;for(ne|=4,q=e.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:Ls(8,u,i)}var h=u.child;if(h!==null)h.return=u,q=h;else for(;q!==null;){u=q;var f=u.sibling,p=u.return;if(Qm(u),u===c){q=null;break}if(f!==null){f.return=p,q=f;break}q=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ls(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,q=w;break e}q=i.return}}var m=e.current;for(q=m;q!==null;){o=q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,q=x;else e:for(o=m;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xa(9,a)}}catch(C){ge(a,a.return,C)}if(a===o){q=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,q=b;break e}q=a.return}}if(ne=s,Pr(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(aa,e)}catch{}n=!0}return n}finally{se=r,vt.transition=t}}return!1}function Th(e,t,r){t=Jn(r,t),t=Im(e,t,1),e=yr(e,t,1),t=We(),e!==null&&(gi(e,1,t),et(e,t))}function ge(e,t,r){if(e.tag===3)Th(e,e,r);else for(;t!==null;){if(t.tag===3){Th(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wr===null||!wr.has(n))){e=Jn(r,e),e=Mm(t,e,1),t=yr(t,e,1),e=We(),t!==null&&(gi(t,1,e),et(t,e));break}}t=t.return}}function c2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(Be&r)===r&&(Ee===4||Ee===3&&(Be&130023424)===Be&&500>ye()-S0?Yr(e,0):j0|=r),et(e,t)}function ig(e,t){t===0&&(e.mode&1?(t=Li,Li<<=1,!(Li&130023424)&&(Li=4194304)):t=1);var r=We();e=Xt(e,t),e!==null&&(gi(e,t,r),et(e,r))}function u2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ig(e,r)}function d2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),ig(e,r)}var og;og=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Ye=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ye=!1,Zw(e,t,r);Ye=!!(e.flags&131072)}else Ye=!1,de&&t.flags&1048576&&um(t,Bo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fo(e,t),e=t.pendingProps;var s=Qn(t,Ue.current);Hn(t,r),s=w0(null,t,n,e,s,r);var i=b0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(n)?(i=!0,Do(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,x0(t),s.updater=pa,t.stateNode=s,s._reactInternals=t,Yc(t,n,e,r),t=eu(null,t,n,!0,i,r)):(t.tag=0,de&&i&&l0(t),He(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=f2(n),e=kt(n,e),s){case 0:t=Jc(null,t,n,e,r);break e;case 1:t=Ch(null,t,n,e,r);break e;case 11:t=bh(null,t,n,e,r);break e;case 14:t=_h(null,t,n,kt(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Jc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Ch(e,t,n,s,r);case 3:e:{if(zm(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,s=i.element,mm(e,t),Ro(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Jn(Error(I(423)),t),t=kh(e,t,n,r,s);break e}else if(n!==s){s=Jn(Error(I(424)),t),t=kh(e,t,n,r,s);break e}else for(it=vr(t.stateNode.containerInfo.firstChild),ot=t,de=!0,St=null,r=pm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xn(),n===s){t=Yt(e,t,r);break e}He(e,t,n,r)}t=t.child}return t;case 5:return gm(t),e===null&&Gc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,zc(n,s)?o=null:i!==null&&zc(n,i)&&(t.flags|=32),Vm(e,t),He(e,t,o,r),t.child;case 6:return e===null&&Gc(t),null;case 13:return Hm(e,t,r);case 4:return m0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yn(t,null,n,r):He(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),bh(e,t,n,s,r);case 7:return He(e,t,t.pendingProps,r),t.child;case 8:return He(e,t,t.pendingProps.children,r),t.child;case 12:return He(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,oe(To,n._currentValue),n._currentValue=o,i!==null)if(Dt(i.value,o)){if(i.children===s.children&&!Ze.current){t=Yt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Wt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Qc(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Qc(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}He(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Hn(t,r),s=yt(s),n=n(s),t.flags|=1,He(e,t,n,r),t.child;case 14:return n=t.type,s=kt(n,t.pendingProps),s=kt(n.type,s),_h(e,t,n,s,r);case 15:return Um(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),fo(e,t),t.tag=1,Je(n)?(e=!0,Do(t)):e=!1,Hn(t,r),Lm(t,n,s),Yc(t,n,s,r),eu(null,t,n,!0,e,r);case 19:return Wm(e,t,r);case 22:return $m(e,t,r)}throw Error(I(156,t.tag))};function ag(e,t){return Fx(e,t)}function h2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,n){return new h2(e,t,r,n)}function P0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f2(e){if(typeof e=="function")return P0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xu)return 11;if(e===Yu)return 14}return 2}function _r(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mo(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")P0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case kn:return Zr(r.children,s,i,t);case Qu:o=8,s|=8;break;case bc:return e=gt(12,r,t,s|2),e.elementType=bc,e.lanes=i,e;case _c:return e=gt(13,r,t,s),e.elementType=_c,e.lanes=i,e;case Cc:return e=gt(19,r,t,s),e.elementType=Cc,e.lanes=i,e;case gx:return ga(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xx:o=10;break e;case mx:o=9;break e;case Xu:o=11;break e;case Yu:o=14;break e;case ir:o=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=gt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Zr(e,t,r,n){return e=gt(7,e,n,t),e.lanes=r,e}function ga(e,t,r,n){return e=gt(22,e,n,t),e.elementType=gx,e.lanes=r,e.stateNode={isHidden:!1},e}function pl(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function xl(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function B0(e,t,r,n,s,i,o,a,l){return e=new p2(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},x0(i),e}function x2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lg(e){if(!e)return Er;e=e._reactInternals;e:{if(ln(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(Je(r))return lm(e,r,t)}return t}function cg(e,t,r,n,s,i,o,a,l){return e=B0(r,n,!0,e,s,i,o,a,l),e.context=lg(null),r=e.current,n=We(),s=br(r),i=Wt(n,s),i.callback=t??null,yr(r,i,s),e.current.lanes=s,gi(e,s,n),et(e,n),e}function va(e,t,r,n){var s=t.current,i=We(),o=br(s);return r=lg(r),t.context===null?t.context=r:t.pendingContext=r,t=Wt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yr(s,t,o),e!==null&&(Nt(e,s,o,i),co(e,s,o)),o}function zo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function T0(e,t){Fh(e,t),(e=e.alternate)&&Fh(e,t)}function m2(){return null}var ug=typeof reportError=="function"?reportError:function(e){console.error(e)};function F0(e){this._internalRoot=e}ya.prototype.render=F0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));va(e,t,null,null)};ya.prototype.unmount=F0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){va(null,e,null,null)}),t[Qt]=null}};function ya(e){this._internalRoot=e}ya.prototype.unstable_scheduleHydration=function(e){if(e){var t=$x();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cr.length&&t!==0&&t<cr[r].priority;r++);cr.splice(r,0,e),r===0&&zx(e)}};function R0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rh(){}function g2(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=zo(o);i.call(c)}}var o=cg(t,n,e,0,null,!1,!1,"",Rh);return e._reactRootContainer=o,e[Qt]=o.current,ti(e.nodeType===8?e.parentNode:e),on(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=zo(l);a.call(c)}}var l=B0(e,0,!1,null,null,!1,!1,"",Rh);return e._reactRootContainer=l,e[Qt]=l.current,ti(e.nodeType===8?e.parentNode:e),on(function(){va(t,l,r,n)}),l}function ba(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zo(o);a.call(l)}}va(t,o,e,s)}else o=g2(r,t,e,s,n);return zo(o)}Mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ss(t.pendingLanes);r!==0&&(e0(t,r|1),et(t,ye()),!(ne&6)&&(es=ye()+500,Pr()))}break;case 13:on(function(){var n=Xt(e,1);if(n!==null){var s=We();Nt(n,e,1,s)}}),T0(e,1)}};t0=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var r=We();Nt(t,e,134217728,r)}T0(e,134217728)}};Ux=function(e){if(e.tag===13){var t=br(e),r=Xt(e,t);if(r!==null){var n=We();Nt(r,e,t,n)}T0(e,t)}};$x=function(){return se};Vx=function(e,t){var r=se;try{return se=e,t()}finally{se=r}};Tc=function(e,t,r){switch(t){case"input":if(jc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=da(n);if(!s)throw Error(I(90));yx(n),jc(n,s)}}}break;case"textarea":bx(e,r);break;case"select":t=r.value,t!=null&&Un(e,!!r.multiple,t,!1)}};Ax=A0;Nx=on;var v2={usingClientEntryPoint:!1,Events:[yi,An,da,jx,Sx,A0]},bs={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y2={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bx(e),e===null?null:e.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||m2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{aa=Gi.inject(y2),Ft=Gi}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v2;ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R0(t))throw Error(I(200));return x2(e,t,null,r)};ct.createRoot=function(e,t){if(!R0(e))throw Error(I(299));var r=!1,n="",s=ug;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=B0(e,1,!1,null,null,r,!1,n,s),e[Qt]=t.current,ti(e.nodeType===8?e.parentNode:e),new F0(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Bx(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return on(e)};ct.hydrate=function(e,t,r){if(!wa(t))throw Error(I(200));return ba(null,e,t,!0,r)};ct.hydrateRoot=function(e,t,r){if(!R0(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ug;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=cg(t,null,e,1,r??null,s,!1,i,o),e[Qt]=t.current,ti(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ya(t)};ct.render=function(e,t,r){if(!wa(t))throw Error(I(200));return ba(null,e,t,!1,r)};ct.unmountComponentAtNode=function(e){if(!wa(e))throw Error(I(40));return e._reactRootContainer?(on(function(){ba(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};ct.unstable_batchedUpdates=A0;ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wa(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return ba(e,t,r,!1,n)};ct.version="18.3.1-next-f1338f8080-20240426";function dg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dg)}catch(e){console.error(e)}}dg(),dx.exports=ct;var w2=dx.exports,hg,Oh=w2;hg=Oh.createRoot,Oh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(this,arguments)}var pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pr||(pr={}));const Lh="popstate";function b2(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return hu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:pg(s)}return C2(t,r,null,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _2(){return Math.random().toString(36).substr(2,8)}function Ih(e,t){return{usr:e.state,key:e.key,idx:t}}function hu(e,t,r,n){return r===void 0&&(r=null),ui({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?as(t):t,{state:r,key:t&&t.key||n||_2()})}function pg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function as(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function C2(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=pr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ui({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=pr.Pop;let v=u(),w=v==null?null:v-c;c=v,l&&l({action:a,location:y.location,delta:w})}function f(v,w){a=pr.Push;let m=hu(y.location,v,w);c=u()+1;let x=Ih(m,c),b=y.createHref(m);try{o.pushState(x,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&l&&l({action:a,location:y.location,delta:1})}function p(v,w){a=pr.Replace;let m=hu(y.location,v,w);c=u();let x=Ih(m,c),b=y.createHref(m);o.replaceState(x,"",b),i&&l&&l({action:a,location:y.location,delta:0})}function g(v){let w=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof v=="string"?v:pg(v);return m=m.replace(/ $/,"%20"),Ce(w,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,w)}let y={get action(){return a},get location(){return e(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Lh,h),l=v,()=>{s.removeEventListener(Lh,h),l=null}},createHref(v){return t(s,v)},createURL:g,encodeLocation(v){let w=g(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(v){return o.go(v)}};return y}var Mh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mh||(Mh={}));function k2(e,t,r){return r===void 0&&(r="/"),E2(e,t,r,!1)}function E2(e,t,r,n){let s=typeof t=="string"?as(t):t,i=gg(s.pathname||"/",r);if(i==null)return null;let o=xg(e);j2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=L2(i);a=R2(o[l],c,n)}return a}function xg(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ce(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Jr([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xg(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:T2(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of mg(i.path))s(i,o,l)}),t}function mg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=mg(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function j2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:F2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const S2=/^:[\w-]+$/,A2=3,N2=2,D2=1,P2=10,B2=-2,Uh=e=>e==="*";function T2(e,t){let r=e.split("/"),n=r.length;return r.some(Uh)&&(n+=B2),t&&(n+=N2),r.filter(s=>!Uh(s)).reduce((s,i)=>s+(S2.test(i)?A2:i===""?D2:P2),n)}function F2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function R2(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=$h({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=$h({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Jr([i,h.pathname]),pathnameBase:$2(Jr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Jr([i,h.pathnameBase]))}return o}function $h(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=O2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function O2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function L2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function I2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?as(e):e;return{pathname:r?r.startsWith("/")?r:M2(r,t):t,search:V2(n),hash:z2(s)}}function M2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ml(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vg(e,t){let r=U2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=as(e):(s=ui({},e),Ce(!s.pathname||!s.pathname.includes("?"),ml("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),ml("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),ml("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=I2(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Jr=e=>e.join("/").replace(/\/\/+/g,"/"),$2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,z2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wg=["post","put","patch","delete"];new Set(wg);const W2=["get",...wg];new Set(W2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(this,arguments)}const O0=N.createContext(null),q2=N.createContext(null),bi=N.createContext(null),_a=N.createContext(null),cn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),bg=N.createContext(null);function _i(){return N.useContext(_a)!=null}function Ca(){return _i()||Ce(!1),N.useContext(_a).location}function _g(e){N.useContext(bi).static||N.useLayoutEffect(e)}function Cg(){let{isDataRoute:e}=N.useContext(cn);return e?ib():K2()}function K2(){_i()||Ce(!1);let e=N.useContext(O0),{basename:t,future:r,navigator:n}=N.useContext(bi),{matches:s}=N.useContext(cn),{pathname:i}=Ca(),o=JSON.stringify(vg(s,r.v7_relativeSplatPath)),a=N.useRef(!1);return _g(()=>{a.current=!0}),N.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=yg(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jr([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}function G2(e,t){return Q2(e,t)}function Q2(e,t,r,n){_i()||Ce(!1);let{navigator:s}=N.useContext(bi),{matches:i}=N.useContext(cn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ca(),u;if(t){var h;let v=typeof t=="string"?as(t):t;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||Ce(!1),u=v}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=k2(e,{pathname:p}),y=eb(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Jr([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Jr([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?N.createElement(_a.Provider,{value:{location:di({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pr.Pop}},y):y}function X2(){let e=sb(),t=H2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const Y2=N.createElement(X2,null);class Z2 extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(cn.Provider,{value:this.props.routeContext},N.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J2(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(O0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(cn.Provider,{value:t},n)}function eb(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Ce(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,y=null,v=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Y2,l&&(c<0&&f===0?(g=!0,v=null):c===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,f+1)),m=()=>{let x;return p?x=y:g?x=v:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,N.createElement(J2,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(Z2,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):m()},null)}var kg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kg||{}),Ho=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ho||{});function tb(e){let t=N.useContext(O0);return t||Ce(!1),t}function rb(e){let t=N.useContext(q2);return t||Ce(!1),t}function nb(e){let t=N.useContext(cn);return t||Ce(!1),t}function Eg(e){let t=nb(),r=t.matches[t.matches.length-1];return r.route.id||Ce(!1),r.route.id}function sb(){var e;let t=N.useContext(bg),r=rb(Ho.UseRouteError),n=Eg(Ho.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ib(){let{router:e}=tb(kg.UseNavigateStable),t=Eg(Ho.UseNavigateStable),r=N.useRef(!1);return _g(()=>{r.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,di({fromRouteId:t},i)))},[e,t])}function ob(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ab(e){let{to:t,replace:r,state:n,relative:s}=e;_i()||Ce(!1);let{future:i,static:o}=N.useContext(bi),{matches:a}=N.useContext(cn),{pathname:l}=Ca(),c=Cg(),u=yg(t,vg(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return N.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function Lt(e){Ce(!1)}function lb(e){let{basename:t="/",children:r=null,location:n,navigationType:s=pr.Pop,navigator:i,static:o=!1,future:a}=e;_i()&&Ce(!1);let l=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:i,static:o,future:di({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=as(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,y=N.useMemo(()=>{let v=gg(u,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:g},navigationType:s}},[l,u,h,f,p,g,s]);return y==null?null:N.createElement(bi.Provider,{value:c},N.createElement(_a.Provider,{children:r,value:y}))}function cb(e){let{children:t,location:r}=e;return G2(fu(t),r)}new Promise(()=>{});function fu(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let i=[...t,s];if(n.type===N.Fragment){r.push.apply(r,fu(n.props.children,i));return}n.type!==Lt&&Ce(!1),!n.props.index||!n.props.children||Ce(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=fu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ub="6";try{window.__reactRouterVersion=ub}catch{}const db="startTransition",Vh=c1[db];function hb(e){let{basename:t,children:r,future:n,window:s}=e,i=N.useRef();i.current==null&&(i.current=b2({window:s,v5Compat:!0}));let o=i.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=N.useCallback(h=>{c&&Vh?Vh(()=>l(h)):l(h)},[l,c]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.useEffect(()=>ob(n),[n]),N.createElement(lb,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var zh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zh||(zh={}));var Hh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hh||(Hh={}));const fb="modulepreload",pb=function(e){return"/"+e},Wh={},Ci=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=pb(l),l in Wh)return;Wh[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":fb,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},xb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>ls);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class L0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class mb extends L0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gb extends L0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vb extends L0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pu||(pu={}));var yb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class wb{constructor(t,{headers:r={},customFetch:n,region:s=pu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=xb(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return yb(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(g=>{throw new mb(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new gb(u);if(!u.ok)throw new vb(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Xe={},I0={},ka={},ki={},Ea={},ja={},bb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ts=bb();const _b=ts.fetch,jg=ts.fetch.bind(ts),Sg=ts.Headers,Cb=ts.Request,kb=ts.Response,ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sg,Request:Cb,Response:kb,default:jg,fetch:_b},Symbol.toStringTag,{value:"Module"})),Eb=Jp(ls);var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});let jb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sa.default=jb;var Ag=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ja,"__esModule",{value:!0});const Sb=Ag(Eb),Ab=Ag(Sa);let Nb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Sb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,p="OK")}catch{i.status===404&&y===""?(f=204,p="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new Ab.default(c)}return{error:c,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ja.default=Nb;var Db=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ea,"__esModule",{value:!0});const Pb=Db(ja);let Bb=class extends Pb.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ea.default=Bb;var Tb=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ki,"__esModule",{value:!0});const Fb=Tb(Ea);let Rb=class extends Fb.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ki.default=Rb;var Ob=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ka,"__esModule",{value:!0});const _s=Ob(ki);let Lb=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new _s.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new _s.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new _s.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new _s.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new _s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ka.default=Lb;var Aa={},Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.version=void 0;Na.version="0.0.0-automated";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.DEFAULT_HEADERS=void 0;const Ib=Na;Aa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ib.version}`};var Ng=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I0,"__esModule",{value:!0});const Mb=Ng(ka),Ub=Ng(ki),$b=Aa;let Vb=class Dg{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},$b.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Mb.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Ub.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};I0.default=Vb;var cs=G&&G.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const Pg=cs(I0);Xe.PostgrestClient=Pg.default;const Bg=cs(ka);Xe.PostgrestQueryBuilder=Bg.default;const Tg=cs(ki);Xe.PostgrestFilterBuilder=Tg.default;const Fg=cs(Ea);Xe.PostgrestTransformBuilder=Fg.default;const Rg=cs(ja);Xe.PostgrestBuilder=Rg.default;const Og=cs(Sa);Xe.PostgrestError=Og.default;var zb=Xe.default={PostgrestClient:Pg.default,PostgrestQueryBuilder:Bg.default,PostgrestFilterBuilder:Tg.default,PostgrestTransformBuilder:Fg.default,PostgrestBuilder:Rg.default,PostgrestError:Og.default};const{PostgrestClient:Hb,PostgrestQueryBuilder:Ej,PostgrestFilterBuilder:jj,PostgrestTransformBuilder:Sj,PostgrestBuilder:Aj,PostgrestError:Nj}=zb;let xu;typeof window>"u"?xu=require("ws"):xu=window.WebSocket;const Wb=xu,qb="2.11.10",Kb={"X-Client-Info":`realtime-js/${qb}`},Gb="1.0.0",Lg=1e4,Qb=1e3;var qn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qn||(qn={}));var Ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ve||(Ve={}));var jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jt||(jt={}));var mu;(function(e){e.websocket="websocket"})(mu||(mu={}));var Hr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hr||(Hr={}));class Xb{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Ig{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const qh=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Yb(o,e,t,s),i),{})},Yb=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Mg(i,o):gu(o)},Mg=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return t4(t,r)}switch(e){case ie.bool:return Zb(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Jb(t);case ie.json:case ie.jsonb:return e4(t);case ie.timestamp:return r4(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return gu(t);default:return gu(t)}},gu=e=>e,Zb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},e4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},t4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Mg(t,a))}return e},r4=e=>typeof e=="string"?e.replace(" ","T"):e,Ug=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class gl{constructor(t,r,n={},s=Lg){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kh||(Kh={}));class Us{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Us.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Us.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Us.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const f=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),g=u.filter(v=>p.indexOf(v.presence_ref)<0),y=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(a[c]=g),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gh||(Gh={}));var Qh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qh||(Qh={}));var Ut;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ut||(Ut={}));class M0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gl(this,jt.join,this.params,this.timeout),this.rejoinTimer=new Ig(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Us(this),this.broadcastEndpointURL=Ug(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(Ut.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Ut.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(Ut.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<p;y++){const v=f[y],{filter:{event:w,schema:m,table:x,filter:b}}=v,C=u&&u[y];if(C&&C.event===w&&C.schema===m&&C.table===x&&C.filter===b)g.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=Ve.errored,t==null||t(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ut.SUBSCRIBED);return}}).receive("error",u=>{this.state=Ve.errored,t==null||t(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new gl(this,jt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=jt;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,y,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,y,v,w,m,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,C=(g=p.filter)===null||g===void 0?void 0:g.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const b=(m=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:v,commit_timestamp:w,type:m,errors:x}=g;f=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:w,eventType:m,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&M0.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jt.close,{},t)}_onError(t){this._on(jt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qh(t.columns,t.old_record)),r}}const Xh=()=>{},n4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s4{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Kb,this.params={},this.timeout=Lg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xh,this.ref=0,this.logger=Xh,this.conn=null,this.sendBuffer=[],this.serializer=new Xb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ci(async()=>{const{default:l}=await Promise.resolve().then(()=>ls);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${mu.websocket}`,this.httpEndpoint=Ug(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ig(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Wb),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new i4(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gb}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return Hr.Connecting;case qn.open:return Hr.Open;case qn.closing:return Hr.Closing;default:return Hr.Closed}}isConnected(){return this.connectionState()===Hr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new M0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(jt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Qb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(jt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([n4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class i4{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=qn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class U0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class o4 extends U0{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vu extends U0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var a4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const $g=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>ls);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},l4=()=>a4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ci(()=>Promise.resolve().then(()=>ls),void 0)).Response:Response}),yu=e=>{if(Array.isArray(e))return e.map(r=>yu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=yu(n)}),t};var un=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const vl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c4=(e,t,r)=>un(void 0,void 0,void 0,function*(){const n=yield l4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new o4(vl(s),e.status||500))}).catch(s=>{t(new vu(vl(s),s))}):t(new vu(vl(e),e))}),u4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ei(e,t,r,n,s,i){return un(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,u4(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>c4(l,a,n))})})}function Wo(e,t,r,n){return un(this,void 0,void 0,function*(){return Ei(e,"GET",t,r,n)})}function ar(e,t,r,n,s){return un(this,void 0,void 0,function*(){return Ei(e,"POST",t,n,s,r)})}function d4(e,t,r,n,s){return un(this,void 0,void 0,function*(){return Ei(e,"PUT",t,n,s,r)})}function h4(e,t,r,n){return un(this,void 0,void 0,function*(){return Ei(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Vg(e,t,r,n,s){return un(this,void 0,void 0,function*(){return Ei(e,"DELETE",t,n,s,r)})}var Ge=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const f4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p4{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=$g(s)}uploadOrUpdate(t,r,n,s){return Ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Yh),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(je(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Yh.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ar(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new U0("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ar(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ge(this,void 0,void 0,function*(){try{const s=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}download(t,r){return Ge(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Wo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(je(a))return{data:null,error:a};throw a}})}info(t){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Wo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yu(n),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}exists(t){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield h4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(je(n)&&n instanceof vu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Vg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},f4),r),{prefix:t||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const x4="2.7.1",m4={"X-Client-Info":`storage-js/${x4}`};var vn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class g4{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},m4),r),this.fetch=$g(n)}listBuckets(){return vn(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}getBucket(t){return vn(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vn(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return vn(this,void 0,void 0,function*(){try{return{data:yield d4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}emptyBucket(t){return vn(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vn(this,void 0,void 0,function*(){try{return{data:yield Vg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}}class v4 extends g4{constructor(t,r={},n){super(t,r,n)}from(t){return new p4(this.url,this.headers,t,this.fetch)}}const y4="2.50.0";let Ns="";typeof Deno<"u"?Ns="deno":typeof document<"u"?Ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ns="react-native":Ns="node";const w4={"X-Client-Info":`supabase-js-${Ns}/${y4}`},b4={headers:w4},_4={schema:"public"},C4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k4={};var E4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const j4=e=>{let t;return e?t=e:typeof fetch>"u"?t=jg:t=fetch,(...r)=>t(...r)},S4=()=>typeof Headers>"u"?Sg:Headers,A4=(e,t,r)=>{const n=j4(r),s=S4();return(i,o)=>E4(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var N4=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function D4(e){return e.endsWith("/")?e:e+"/"}function P4(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>N4(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const zg="2.70.0",_n=30*1e3,wu=3,yl=wu*_n,B4="http://localhost:9999",T4="supabase.auth.token",F4={"X-Client-Info":`gotrue-js/${zg}`},bu="X-Supabase-Api-Version",Hg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},R4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O4=6e5;class $0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class L4 extends $0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function I4(e){return Z(e)&&e.name==="AuthApiError"}class Wg extends $0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Br extends $0{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class nr extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M4(e){return Z(e)&&e.name==="AuthSessionMissingError"}class Qi extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xi extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yi extends Br{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U4(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zh extends Br{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _u extends Br{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wl(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class Jh extends Br{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $s extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ef=` 	
\r=`.split(""),$4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ef.length;t+=1)e[ef[t].charCodeAt(0)]=-2;for(let t=0;t<qo.length;t+=1)e[qo[t].charCodeAt(0)]=t;return e})();function tf(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(qo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(qo[n]),t.queuedBits-=6}}function qg(e,t,r){const n=$4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rf(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{H4(o,n,r)};for(let o=0;o<e.length;o+=1)qg(e.charCodeAt(o),s,i);return t.join("")}function V4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function z4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}V4(n,t)}}function H4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function W4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)qg(e.charCodeAt(s),r,n);return new Uint8Array(t)}function q4(e){const t=[];return z4(e,r=>t.push(r)),new Uint8Array(t)}function K4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>tf(s,r,n)),tf(null,r,n),t.join("")}function G4(e){return Math.round(Date.now()/1e3)+e}function Q4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ct=()=>typeof window<"u"&&typeof document<"u",Or={tested:!1,writable:!1},Vs=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Or.tested)return Or.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Or.tested=!0,Or.writable=!0}catch{Or.tested=!0,Or.writable=!1}return Or.writable};function X4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Kg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>ls);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Y4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gg=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ji=async(e,t)=>{await e.removeItem(t)};class Da{constructor(){this.promise=new Da.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Da.promiseConstructor=Promise;function bl(e){const t=e.split(".");if(t.length!==3)throw new $s("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!R4.test(t[n]))throw new $s("JWT not in base64url format");return{header:JSON.parse(rf(t[0])),payload:JSON.parse(rf(t[1])),signature:W4(t[2]),raw:{header:t[0],payload:t[1]}}}async function Z4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function J4(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function e_(e){return("0"+e.toString(16)).substr(-2)}function t_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,e_).join("")}async function r_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function n_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await r_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yn(e,t,r=!1){const n=t_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Gg(e,`${t}-code-verifier`,s);const i=await n_(n);return[i,n===i?"plain":"s256"]}const s_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i_(e){const t=e.headers.get(bu);if(!t||!t.match(s_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function o_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function a_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const l_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wn(e){if(!l_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var c_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),u_=[502,503,504];async function nf(e){var t;if(!Y4(e))throw new _u(Ur(e),0);if(u_.includes(e.status))throw new _u(Ur(e),e.status);let r;try{r=await e.json()}catch(i){throw new Wg(Ur(i),i)}let n;const s=i_(e);if(s&&s.getTime()>=Hg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jh(Ur(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new nr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jh(Ur(r),e.status,r.weak_password.reasons);throw new L4(Ur(r),e.status||500,n)}const d_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ee(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[bu]||(i[bu]=Hg["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await h_(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function h_(e,t,r,n,s,i){const o=d_(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new _u(Ur(l),0)}if(a.ok||await nf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await nf(l)}}function It(e){var t;let r=null;m_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=G4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function sf(e){const t=It(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function dr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function f_(e){return{data:e,error:null}}function p_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=c_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function x_(e){return e}function m_(e){return e.access_token&&e.refresh_token&&e.expires_in}const _l=["global","local","others"];var g_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class v_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Kg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=_l[0]){if(_l.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_l.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:dr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=g_(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:p_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:dr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:x_});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Z(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){wn(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:dr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){wn(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:dr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){wn(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:dr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){wn(t.userId);try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){wn(t.userId),wn(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}}const y_={getItem:e=>Vs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Vs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Vs()&&globalThis.localStorage.removeItem(e)}};function of(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function w_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bn={debug:!!(globalThis&&Vs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class b_ extends Qg{}async function __(e,t,r){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}w_();const C_={url:B4,storageKey:T4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function af(e,t,r){return await r()}class hi{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hi.nextInstanceID,hi.nextInstanceID+=1,this.instanceID>0&&Ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},C_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new v_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kg(s.fetch),this.lock=s.lock||af,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=__:this.lock=af,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Vs()?this.storage=y_:(this.memoryStorage={},this.storage=of(this.memoryStorage)):(this.memoryStorage={},this.storage=of(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=X4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ct()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),U4(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new Wg("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:It}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await yn(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:It})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:It})}else throw new Xi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sf})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sf})}else throw new Xi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Qi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,c,u,h,f,p;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:v,wallet:w,statement:m,options:x}=t;let b;if(Ct())if(typeof w=="object")b=w;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const C=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${C.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:v,error:w}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:K4(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:It});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Qi}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(Z(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Zi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:It});if(await Ji(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Qi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:It}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Qi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await yn(this.storage,this.storageKey));const{error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Xi("You must provide either an email or phone number.")}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:It});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await yn(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:f_})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new nr;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Xi("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:dr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:dr})})}catch(r){if(Z(r))return M4(r)&&(await this._removeSession(),await Ji(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new nr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await yn(this.storage,this.storageKey));const{data:c,error:u}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:dr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=bl(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new nr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ct())throw new Yi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zh("No code detected.");const{data:m,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Yi("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const p=f-u;p*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(Z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(I4(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ji(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Q4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await yn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ct()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await J4(async s=>(s>0&&await Z4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:It})),(s,i)=>{const o=200*Math.pow(2,s);return i&&wl(i)&&Date.now()+o-n<_n})}catch(n){if(this._debug(r,"error",n),Z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ct()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Zi(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<yl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${yl}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),wl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Da;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new nr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Z(i)){const o={session:null,error:i};return wl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Gg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ji(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_n}ms, refresh threshold is ${wu} ticks`),s<=wu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await yn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bl(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+O4>Date.now()))return n;const{data:s,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new $s("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new $s("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=bl(n);if(o_(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=a_(s.alg),u=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,q4(`${a}.${l}`)))throw new $s("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}hi.nextInstanceID=0;const k_=hi;class E_ extends k_{constructor(t){super(t)}}var j_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class S_{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=D4(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:_4,realtime:k4,auth:Object.assign(Object.assign({},C4),{storageKey:c}),global:b4},h=P4(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=A4(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Hb(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new wb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new v4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return j_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new E_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new s4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A_=(e,t,r)=>new S_(e,t,r);var Xg={exports:{}};function N_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cl={exports:{}};const D_={},P_=Object.freeze(Object.defineProperty({__proto__:null,default:D_},Symbol.toStringTag,{value:"Module"})),B_=Jp(P_);var lf;function re(){return lf||(lf=1,function(e,t){(function(r,n){e.exports=n()})(G,function(){var r=r||function(n,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof G<"u"&&G.crypto&&(i=G.crypto),!i&&typeof N_=="function")try{i=B_}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(x){var b;return m.prototype=x,b=new m,m.prototype=null,b}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(m){var x=a(this);return m&&x.mixIn(m),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var x in m)m.hasOwnProperty(x)&&(this[x]=m[x]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=u.extend({init:function(m,x){m=this.words=m||[],x!=s?this.sigBytes=x:this.sigBytes=m.length*4},toString:function(m){return(m||p).stringify(this)},concat:function(m){var x=this.words,b=m.words,C=this.sigBytes,k=m.sigBytes;if(this.clamp(),C%4)for(var E=0;E<k;E++){var _=b[E>>>2]>>>24-E%4*8&255;x[C+E>>>2]|=_<<24-(C+E)%4*8}else for(var B=0;B<k;B+=4)x[C+B>>>2]=b[B>>>2];return this.sigBytes+=k,this},clamp:function(){var m=this.words,x=this.sigBytes;m[x>>>2]&=4294967295<<32-x%4*8,m.length=n.ceil(x/4)},clone:function(){var m=u.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var x=[],b=0;b<m;b+=4)x.push(o());return new h.init(x,m)}}),f=l.enc={},p=f.Hex={stringify:function(m){for(var x=m.words,b=m.sigBytes,C=[],k=0;k<b;k++){var E=x[k>>>2]>>>24-k%4*8&255;C.push((E>>>4).toString(16)),C.push((E&15).toString(16))}return C.join("")},parse:function(m){for(var x=m.length,b=[],C=0;C<x;C+=2)b[C>>>3]|=parseInt(m.substr(C,2),16)<<24-C%8*4;return new h.init(b,x/2)}},g=f.Latin1={stringify:function(m){for(var x=m.words,b=m.sigBytes,C=[],k=0;k<b;k++){var E=x[k>>>2]>>>24-k%4*8&255;C.push(String.fromCharCode(E))}return C.join("")},parse:function(m){for(var x=m.length,b=[],C=0;C<x;C++)b[C>>>2]|=(m.charCodeAt(C)&255)<<24-C%4*8;return new h.init(b,x)}},y=f.Utf8={stringify:function(m){try{return decodeURIComponent(escape(g.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return g.parse(unescape(encodeURIComponent(m)))}},v=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=y.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var x,b=this._data,C=b.words,k=b.sigBytes,E=this.blockSize,_=E*4,B=k/_;m?B=n.ceil(B):B=n.max((B|0)-this._minBufferSize,0);var S=B*E,D=n.min(S*4,k);if(S){for(var F=0;F<S;F+=E)this._doProcessBlock(C,F);x=C.splice(0,S),b.sigBytes-=D}return new h.init(x,D)},clone:function(){var m=u.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});c.Hasher=v.extend({cfg:u.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(m){return function(x,b){return new m.init(b).finalize(x)}},_createHmacHelper:function(m){return function(x,b){return new w.HMAC.init(m,b).finalize(x)}}});var w=l.algo={};return l}(Math);return r})}(Cl)),Cl.exports}var kl={exports:{}},cf;function Pa(){return cf||(cf=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){return function(n){var s=r,i=s.lib,o=i.Base,a=i.WordArray,l=s.x64={};l.Word=o.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=o.extend({init:function(c,u){c=this.words=c||[],u!=n?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,h=[],f=0;f<u;f++){var p=c[f];h.push(p.high),h.push(p.low)}return a.create(h,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),u=c.words=this.words.slice(0),h=u.length,f=0;f<h;f++)u[f]=u[f].clone();return c}})}(),r})}(kl)),kl.exports}var El={exports:{}},uf;function T_(){return uf||(uf=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,s=n.lib,i=s.WordArray,o=i.init,a=i.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],h=0;h<c;h++)u[h>>>2]|=l[h]<<24-h%4*8;o.call(this,u,c)}else o.apply(this,arguments)};a.prototype=i}}(),r.lib.WordArray})}(El)),El.exports}var jl={exports:{}},df;function F_(){return df||(df=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,h=[],f=0;f<u;f+=2){var p=c[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(p))}return h.join("")},parse:function(l){for(var c=l.length,u=[],h=0;h<c;h++)u[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return i.create(u,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,h=[],f=0;f<u;f+=2){var p=a(c[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(p))}return h.join("")},parse:function(l){for(var c=l.length,u=[],h=0;h<c;h++)u[h>>>1]|=a(l.charCodeAt(h)<<16-h%2*16);return i.create(u,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})}(jl)),jl.exports}var Sl={exports:{}},hf;function dn(){return hf||(hf=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,h=this._map;l.clamp();for(var f=[],p=0;p<u;p+=3)for(var g=c[p>>>2]>>>24-p%4*8&255,y=c[p+1>>>2]>>>24-(p+1)%4*8&255,v=c[p+2>>>2]>>>24-(p+2)%4*8&255,w=g<<16|y<<8|v,m=0;m<4&&p+m*.75<u;m++)f.push(h.charAt(w>>>6*(3-m)&63));var x=h.charAt(64);if(x)for(;f.length%4;)f.push(x);return f.join("")},parse:function(l){var c=l.length,u=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<u.length;f++)h[u.charCodeAt(f)]=f}var p=u.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(c=g)}return a(l,c,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var h=[],f=0,p=0;p<c;p++)if(p%4){var g=u[l.charCodeAt(p-1)]<<p%4*2,y=u[l.charCodeAt(p)]>>>6-p%4*2,v=g|y;h[f>>>2]|=v<<24-f%4*8,f++}return i.create(h,f)}}(),r.enc.Base64})}(Sl)),Sl.exports}var Al={exports:{}},ff;function R_(){return ff||(ff=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,h=l.sigBytes,f=c?this._safe_map:this._map;l.clamp();for(var p=[],g=0;g<h;g+=3)for(var y=u[g>>>2]>>>24-g%4*8&255,v=u[g+1>>>2]>>>24-(g+1)%4*8&255,w=u[g+2>>>2]>>>24-(g+2)%4*8&255,m=y<<16|v<<8|w,x=0;x<4&&g+x*.75<h;x++)p.push(f.charAt(m>>>6*(3-x)&63));var b=f.charAt(64);if(b)for(;p.length%4;)p.push(b);return p.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,h=c?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var p=0;p<h.length;p++)f[h.charCodeAt(p)]=p}var g=h.charAt(64);if(g){var y=l.indexOf(g);y!==-1&&(u=y)}return a(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var h=[],f=0,p=0;p<c;p++)if(p%4){var g=u[l.charCodeAt(p-1)]<<p%4*2,y=u[l.charCodeAt(p)]>>>6-p%4*2,v=g|y;h[f>>>2]|=v<<24-f%4*8,f++}return i.create(h,f)}}(),r.enc.Base64url})}(Al)),Al.exports}var Nl={exports:{}},pf;function hn(){return pf||(pf=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,c=[];(function(){for(var y=0;y<64;y++)c[y]=n.abs(n.sin(y+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,v){for(var w=0;w<16;w++){var m=v+w,x=y[m];y[m]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var b=this._hash.words,C=y[v+0],k=y[v+1],E=y[v+2],_=y[v+3],B=y[v+4],S=y[v+5],D=y[v+6],F=y[v+7],R=y[v+8],$=y[v+9],K=y[v+10],W=y[v+11],Y=y[v+12],L=y[v+13],V=y[v+14],z=y[v+15],T=b[0],O=b[1],A=b[2],j=b[3];T=h(T,O,A,j,C,7,c[0]),j=h(j,T,O,A,k,12,c[1]),A=h(A,j,T,O,E,17,c[2]),O=h(O,A,j,T,_,22,c[3]),T=h(T,O,A,j,B,7,c[4]),j=h(j,T,O,A,S,12,c[5]),A=h(A,j,T,O,D,17,c[6]),O=h(O,A,j,T,F,22,c[7]),T=h(T,O,A,j,R,7,c[8]),j=h(j,T,O,A,$,12,c[9]),A=h(A,j,T,O,K,17,c[10]),O=h(O,A,j,T,W,22,c[11]),T=h(T,O,A,j,Y,7,c[12]),j=h(j,T,O,A,L,12,c[13]),A=h(A,j,T,O,V,17,c[14]),O=h(O,A,j,T,z,22,c[15]),T=f(T,O,A,j,k,5,c[16]),j=f(j,T,O,A,D,9,c[17]),A=f(A,j,T,O,W,14,c[18]),O=f(O,A,j,T,C,20,c[19]),T=f(T,O,A,j,S,5,c[20]),j=f(j,T,O,A,K,9,c[21]),A=f(A,j,T,O,z,14,c[22]),O=f(O,A,j,T,B,20,c[23]),T=f(T,O,A,j,$,5,c[24]),j=f(j,T,O,A,V,9,c[25]),A=f(A,j,T,O,_,14,c[26]),O=f(O,A,j,T,R,20,c[27]),T=f(T,O,A,j,L,5,c[28]),j=f(j,T,O,A,E,9,c[29]),A=f(A,j,T,O,F,14,c[30]),O=f(O,A,j,T,Y,20,c[31]),T=p(T,O,A,j,S,4,c[32]),j=p(j,T,O,A,R,11,c[33]),A=p(A,j,T,O,W,16,c[34]),O=p(O,A,j,T,V,23,c[35]),T=p(T,O,A,j,k,4,c[36]),j=p(j,T,O,A,B,11,c[37]),A=p(A,j,T,O,F,16,c[38]),O=p(O,A,j,T,K,23,c[39]),T=p(T,O,A,j,L,4,c[40]),j=p(j,T,O,A,C,11,c[41]),A=p(A,j,T,O,_,16,c[42]),O=p(O,A,j,T,D,23,c[43]),T=p(T,O,A,j,$,4,c[44]),j=p(j,T,O,A,Y,11,c[45]),A=p(A,j,T,O,z,16,c[46]),O=p(O,A,j,T,E,23,c[47]),T=g(T,O,A,j,C,6,c[48]),j=g(j,T,O,A,F,10,c[49]),A=g(A,j,T,O,V,15,c[50]),O=g(O,A,j,T,S,21,c[51]),T=g(T,O,A,j,Y,6,c[52]),j=g(j,T,O,A,_,10,c[53]),A=g(A,j,T,O,K,15,c[54]),O=g(O,A,j,T,k,21,c[55]),T=g(T,O,A,j,R,6,c[56]),j=g(j,T,O,A,z,10,c[57]),A=g(A,j,T,O,D,15,c[58]),O=g(O,A,j,T,L,21,c[59]),T=g(T,O,A,j,B,6,c[60]),j=g(j,T,O,A,W,10,c[61]),A=g(A,j,T,O,E,15,c[62]),O=g(O,A,j,T,$,21,c[63]),b[0]=b[0]+T|0,b[1]=b[1]+O|0,b[2]=b[2]+A|0,b[3]=b[3]+j|0},_doFinalize:function(){var y=this._data,v=y.words,w=this._nDataBytes*8,m=y.sigBytes*8;v[m>>>5]|=128<<24-m%32;var x=n.floor(w/4294967296),b=w;v[(m+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,v[(m+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,y.sigBytes=(v.length+1)*4,this._process();for(var C=this._hash,k=C.words,E=0;E<4;E++){var _=k[E];k[E]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}return C},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});function h(y,v,w,m,x,b,C){var k=y+(v&w|~v&m)+x+C;return(k<<b|k>>>32-b)+v}function f(y,v,w,m,x,b,C){var k=y+(v&m|w&~m)+x+C;return(k<<b|k>>>32-b)+v}function p(y,v,w,m,x,b,C){var k=y+(v^w^m)+x+C;return(k<<b|k>>>32-b)+v}function g(y,v,w,m,x,b,C){var k=y+(w^(v|~m))+x+C;return(k<<b|k>>>32-b)+v}s.MD5=a._createHelper(u),s.HmacMD5=a._createHmacHelper(u)}(Math),r.MD5})}(Nl)),Nl.exports}var Dl={exports:{}},xf;function Yg(){return xf||(xf=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=s.Hasher,a=n.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,h){for(var f=this._hash.words,p=f[0],g=f[1],y=f[2],v=f[3],w=f[4],m=0;m<80;m++){if(m<16)l[m]=u[h+m]|0;else{var x=l[m-3]^l[m-8]^l[m-14]^l[m-16];l[m]=x<<1|x>>>31}var b=(p<<5|p>>>27)+w+l[m];m<20?b+=(g&y|~g&v)+1518500249:m<40?b+=(g^y^v)+1859775393:m<60?b+=(g&y|g&v|y&v)-1894007588:b+=(g^y^v)-899497514,w=v,v=y,y=g<<30|g>>>2,g=p,p=b}f[0]=f[0]+p|0,f[1]=f[1]+g|0,f[2]=f[2]+y|0,f[3]=f[3]+v|0,f[4]=f[4]+w|0},_doFinalize:function(){var u=this._data,h=u.words,f=this._nDataBytes*8,p=u.sigBytes*8;return h[p>>>5]|=128<<24-p%32,h[(p+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(p+64>>>9<<4)+15]=f,u.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(c),n.HmacSHA1=o._createHmacHelper(c)}(),r.SHA1})}(Dl)),Dl.exports}var Pl={exports:{}},mf;function V0(){return mf||(mf=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,c=[],u=[];(function(){function p(w){for(var m=n.sqrt(w),x=2;x<=m;x++)if(!(w%x))return!1;return!0}function g(w){return(w-(w|0))*4294967296|0}for(var y=2,v=0;v<64;)p(y)&&(v<8&&(c[v]=g(n.pow(y,1/2))),u[v]=g(n.pow(y,1/3)),v++),y++})();var h=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(p,g){for(var y=this._hash.words,v=y[0],w=y[1],m=y[2],x=y[3],b=y[4],C=y[5],k=y[6],E=y[7],_=0;_<64;_++){if(_<16)h[_]=p[g+_]|0;else{var B=h[_-15],S=(B<<25|B>>>7)^(B<<14|B>>>18)^B>>>3,D=h[_-2],F=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;h[_]=S+h[_-7]+F+h[_-16]}var R=b&C^~b&k,$=v&w^v&m^w&m,K=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),W=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),Y=E+W+R+u[_]+h[_],L=K+$;E=k,k=C,C=b,b=x+Y|0,x=m,m=w,w=v,v=Y+L|0}y[0]=y[0]+v|0,y[1]=y[1]+w|0,y[2]=y[2]+m|0,y[3]=y[3]+x|0,y[4]=y[4]+b|0,y[5]=y[5]+C|0,y[6]=y[6]+k|0,y[7]=y[7]+E|0},_doFinalize:function(){var p=this._data,g=p.words,y=this._nDataBytes*8,v=p.sigBytes*8;return g[v>>>5]|=128<<24-v%32,g[(v+64>>>9<<4)+14]=n.floor(y/4294967296),g[(v+64>>>9<<4)+15]=y,p.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});s.SHA256=a._createHelper(f),s.HmacSHA256=a._createHmacHelper(f)}(Math),r.SHA256})}(Pl)),Pl.exports}var Bl={exports:{}},gf;function O_(){return gf||(gf=1,function(e,t){(function(r,n,s){e.exports=n(re(),V0())})(G,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});n.SHA224=a._createHelper(l),n.HmacSHA224=a._createHmacHelper(l)}(),r.SHA224})}(Bl)),Bl.exports}var Tl={exports:{}},vf;function Zg(){return vf||(vf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Pa())})(G,function(r){return function(){var n=r,s=n.lib,i=s.Hasher,o=n.x64,a=o.Word,l=o.WordArray,c=n.algo;function u(){return a.create.apply(a,arguments)}var h=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],f=[];(function(){for(var g=0;g<80;g++)f[g]=u()})();var p=c.SHA512=i.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,y){for(var v=this._hash.words,w=v[0],m=v[1],x=v[2],b=v[3],C=v[4],k=v[5],E=v[6],_=v[7],B=w.high,S=w.low,D=m.high,F=m.low,R=x.high,$=x.low,K=b.high,W=b.low,Y=C.high,L=C.low,V=k.high,z=k.low,T=E.high,O=E.low,A=_.high,j=_.low,M=B,P=S,H=D,U=F,he=R,ve=$,le=K,dt=W,Fe=Y,Re=L,Rr=V,$e=z,Di=T,us=O,za=A,ds=j,bt=0;bt<80;bt++){var ht,er,Pi=f[bt];if(bt<16)er=Pi.high=g[y+bt*2]|0,ht=Pi.low=g[y+bt*2+1]|0;else{var md=f[bt-15],xn=md.high,hs=md.low,Fy=(xn>>>1|hs<<31)^(xn>>>8|hs<<24)^xn>>>7,gd=(hs>>>1|xn<<31)^(hs>>>8|xn<<24)^(hs>>>7|xn<<25),vd=f[bt-2],mn=vd.high,fs=vd.low,Ry=(mn>>>19|fs<<13)^(mn<<3|fs>>>29)^mn>>>6,yd=(fs>>>19|mn<<13)^(fs<<3|mn>>>29)^(fs>>>6|mn<<26),wd=f[bt-7],Oy=wd.high,Ly=wd.low,bd=f[bt-16],Iy=bd.high,_d=bd.low;ht=gd+Ly,er=Fy+Oy+(ht>>>0<gd>>>0?1:0),ht=ht+yd,er=er+Ry+(ht>>>0<yd>>>0?1:0),ht=ht+_d,er=er+Iy+(ht>>>0<_d>>>0?1:0),Pi.high=er,Pi.low=ht}var My=Fe&Rr^~Fe&Di,Cd=Re&$e^~Re&us,Uy=M&H^M&he^H&he,$y=P&U^P&ve^U&ve,Vy=(M>>>28|P<<4)^(M<<30|P>>>2)^(M<<25|P>>>7),kd=(P>>>28|M<<4)^(P<<30|M>>>2)^(P<<25|M>>>7),zy=(Fe>>>14|Re<<18)^(Fe>>>18|Re<<14)^(Fe<<23|Re>>>9),Hy=(Re>>>14|Fe<<18)^(Re>>>18|Fe<<14)^(Re<<23|Fe>>>9),Ed=h[bt],Wy=Ed.high,jd=Ed.low,nt=ds+Hy,tr=za+zy+(nt>>>0<ds>>>0?1:0),nt=nt+Cd,tr=tr+My+(nt>>>0<Cd>>>0?1:0),nt=nt+jd,tr=tr+Wy+(nt>>>0<jd>>>0?1:0),nt=nt+ht,tr=tr+er+(nt>>>0<ht>>>0?1:0),Sd=kd+$y,qy=Vy+Uy+(Sd>>>0<kd>>>0?1:0);za=Di,ds=us,Di=Rr,us=$e,Rr=Fe,$e=Re,Re=dt+nt|0,Fe=le+tr+(Re>>>0<dt>>>0?1:0)|0,le=he,dt=ve,he=H,ve=U,H=M,U=P,P=nt+Sd|0,M=tr+qy+(P>>>0<nt>>>0?1:0)|0}S=w.low=S+P,w.high=B+M+(S>>>0<P>>>0?1:0),F=m.low=F+U,m.high=D+H+(F>>>0<U>>>0?1:0),$=x.low=$+ve,x.high=R+he+($>>>0<ve>>>0?1:0),W=b.low=W+dt,b.high=K+le+(W>>>0<dt>>>0?1:0),L=C.low=L+Re,C.high=Y+Fe+(L>>>0<Re>>>0?1:0),z=k.low=z+$e,k.high=V+Rr+(z>>>0<$e>>>0?1:0),O=E.low=O+us,E.high=T+Di+(O>>>0<us>>>0?1:0),j=_.low=j+ds,_.high=A+za+(j>>>0<ds>>>0?1:0)},_doFinalize:function(){var g=this._data,y=g.words,v=this._nDataBytes*8,w=g.sigBytes*8;y[w>>>5]|=128<<24-w%32,y[(w+128>>>10<<5)+30]=Math.floor(v/4294967296),y[(w+128>>>10<<5)+31]=v,g.sigBytes=y.length*4,this._process();var m=this._hash.toX32();return m},clone:function(){var g=i.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});n.SHA512=i._createHelper(p),n.HmacSHA512=i._createHmacHelper(p)}(),r.SHA512})}(Tl)),Tl.exports}var Fl={exports:{}},yf;function L_(){return yf||(yf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Pa(),Zg())})(G,function(r){return function(){var n=r,s=n.x64,i=s.Word,o=s.WordArray,a=n.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=l._createHelper(c),n.HmacSHA384=l._createHmacHelper(c)}(),r.SHA384})}(Fl)),Fl.exports}var Rl={exports:{}},wf;function I_(){return wf||(wf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Pa())})(G,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.x64,c=l.Word,u=s.algo,h=[],f=[],p=[];(function(){for(var v=1,w=0,m=0;m<24;m++){h[v+5*w]=(m+1)*(m+2)/2%64;var x=w%5,b=(2*v+3*w)%5;v=x,w=b}for(var v=0;v<5;v++)for(var w=0;w<5;w++)f[v+5*w]=w+(2*v+3*w)%5*5;for(var C=1,k=0;k<24;k++){for(var E=0,_=0,B=0;B<7;B++){if(C&1){var S=(1<<B)-1;S<32?_^=1<<S:E^=1<<S-32}C&128?C=C<<1^113:C<<=1}p[k]=c.create(E,_)}})();var g=[];(function(){for(var v=0;v<25;v++)g[v]=c.create()})();var y=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],w=0;w<25;w++)v[w]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,w){for(var m=this._state,x=this.blockSize/2,b=0;b<x;b++){var C=v[w+2*b],k=v[w+2*b+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var E=m[b];E.high^=k,E.low^=C}for(var _=0;_<24;_++){for(var B=0;B<5;B++){for(var S=0,D=0,F=0;F<5;F++){var E=m[B+5*F];S^=E.high,D^=E.low}var R=g[B];R.high=S,R.low=D}for(var B=0;B<5;B++)for(var $=g[(B+4)%5],K=g[(B+1)%5],W=K.high,Y=K.low,S=$.high^(W<<1|Y>>>31),D=$.low^(Y<<1|W>>>31),F=0;F<5;F++){var E=m[B+5*F];E.high^=S,E.low^=D}for(var L=1;L<25;L++){var S,D,E=m[L],V=E.high,z=E.low,T=h[L];T<32?(S=V<<T|z>>>32-T,D=z<<T|V>>>32-T):(S=z<<T-32|V>>>64-T,D=V<<T-32|z>>>64-T);var O=g[f[L]];O.high=S,O.low=D}var A=g[0],j=m[0];A.high=j.high,A.low=j.low;for(var B=0;B<5;B++)for(var F=0;F<5;F++){var L=B+5*F,E=m[L],M=g[L],P=g[(B+1)%5+5*F],H=g[(B+2)%5+5*F];E.high=M.high^~P.high&H.high,E.low=M.low^~P.low&H.low}var E=m[0],U=p[_];E.high^=U.high,E.low^=U.low}},_doFinalize:function(){var v=this._data,w=v.words;this._nDataBytes*8;var m=v.sigBytes*8,x=this.blockSize*32;w[m>>>5]|=1<<24-m%32,w[(n.ceil((m+1)/x)*x>>>5)-1]|=128,v.sigBytes=w.length*4,this._process();for(var b=this._state,C=this.cfg.outputLength/8,k=C/8,E=[],_=0;_<k;_++){var B=b[_],S=B.high,D=B.low;S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,E.push(D),E.push(S)}return new o.init(E,C)},clone:function(){for(var v=a.clone.call(this),w=v._state=this._state.slice(0),m=0;m<25;m++)w[m]=w[m].clone();return v}});s.SHA3=a._createHelper(y),s.HmacSHA3=a._createHmacHelper(y)}(Math),r.SHA3})}(Rl)),Rl.exports}var Ol={exports:{}},bf;function M_(){return bf||(bf=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var s=r,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),y=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,E){for(var _=0;_<16;_++){var B=E+_,S=k[B];k[B]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var D=this._hash.words,F=p.words,R=g.words,$=c.words,K=u.words,W=h.words,Y=f.words,L,V,z,T,O,A,j,M,P,H;A=L=D[0],j=V=D[1],M=z=D[2],P=T=D[3],H=O=D[4];for(var U,_=0;_<80;_+=1)U=L+k[E+$[_]]|0,_<16?U+=v(V,z,T)+F[0]:_<32?U+=w(V,z,T)+F[1]:_<48?U+=m(V,z,T)+F[2]:_<64?U+=x(V,z,T)+F[3]:U+=b(V,z,T)+F[4],U=U|0,U=C(U,W[_]),U=U+O|0,L=O,O=T,T=C(z,10),z=V,V=U,U=A+k[E+K[_]]|0,_<16?U+=b(j,M,P)+R[0]:_<32?U+=x(j,M,P)+R[1]:_<48?U+=m(j,M,P)+R[2]:_<64?U+=w(j,M,P)+R[3]:U+=v(j,M,P)+R[4],U=U|0,U=C(U,Y[_]),U=U+H|0,A=H,H=P,P=C(M,10),M=j,j=U;U=D[1]+z+P|0,D[1]=D[2]+T+H|0,D[2]=D[3]+O+A|0,D[3]=D[4]+L+j|0,D[4]=D[0]+V+M|0,D[0]=U},_doFinalize:function(){var k=this._data,E=k.words,_=this._nDataBytes*8,B=k.sigBytes*8;E[B>>>5]|=128<<24-B%32,E[(B+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k.sigBytes=(E.length+1)*4,this._process();for(var S=this._hash,D=S.words,F=0;F<5;F++){var R=D[F];D[F]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return S},clone:function(){var k=a.clone.call(this);return k._hash=this._hash.clone(),k}});function v(k,E,_){return k^E^_}function w(k,E,_){return k&E|~k&_}function m(k,E,_){return(k|~E)^_}function x(k,E,_){return k&_|E&~_}function b(k,E,_){return k^(E|~_)}function C(k,E){return k<<E|k>>>32-E}s.RIPEMD160=a._createHelper(y),s.HmacRIPEMD160=a._createHmacHelper(y)}(),r.RIPEMD160})}(Ol)),Ol.exports}var Ll={exports:{}},_f;function z0(){return _f||(_f=1,function(e,t){(function(r,n){e.exports=n(re())})(G,function(r){(function(){var n=r,s=n.lib,i=s.Base,o=n.enc,a=o.Utf8,l=n.algo;l.HMAC=i.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var h=c.blockSize,f=h*4;u.sigBytes>f&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),g=this._iKey=u.clone(),y=p.words,v=g.words,w=0;w<h;w++)y[w]^=1549556828,v[w]^=909522486;p.sigBytes=g.sigBytes=f,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,h=u.finalize(c);u.reset();var f=u.finalize(this._oKey.clone().concat(h));return f}})})()})}(Ll)),Ll.exports}var Il={exports:{}},Cf;function U_(){return Cf||(Cf=1,function(e,t){(function(r,n,s){e.exports=n(re(),V0(),z0())})(G,function(r){return function(){var n=r,s=n.lib,i=s.Base,o=s.WordArray,a=n.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var p=this.cfg,g=c.create(p.hasher,h),y=o.create(),v=o.create([1]),w=y.words,m=v.words,x=p.keySize,b=p.iterations;w.length<x;){var C=g.update(f).finalize(v);g.reset();for(var k=C.words,E=k.length,_=C,B=1;B<b;B++){_=g.finalize(_),g.reset();for(var S=_.words,D=0;D<E;D++)k[D]^=S[D]}y.concat(C),m[0]++}return y.sigBytes=x*4,y}});n.PBKDF2=function(h,f,p){return u.create(p).compute(h,f)}}(),r.PBKDF2})}(Il)),Il.exports}var Ml={exports:{}},kf;function Tr(){return kf||(kf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Yg(),z0())})(G,function(r){return function(){var n=r,s=n.lib,i=s.Base,o=s.WordArray,a=n.algo,l=a.MD5,c=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,h){for(var f,p=this.cfg,g=p.hasher.create(),y=o.create(),v=y.words,w=p.keySize,m=p.iterations;v.length<w;){f&&g.update(f),f=g.update(u).finalize(h),g.reset();for(var x=1;x<m;x++)f=g.finalize(f),g.reset();y.concat(f)}return y.sigBytes=w*4,y}});n.EvpKDF=function(u,h,f){return c.create(f).compute(u,h)}}(),r.EvpKDF})}(Ml)),Ml.exports}var Ul={exports:{}},Ef;function Ne(){return Ef||(Ef=1,function(e,t){(function(r,n,s){e.exports=n(re(),Tr())})(G,function(r){r.lib.Cipher||function(n){var s=r,i=s.lib,o=i.Base,a=i.WordArray,l=i.BufferedBlockAlgorithm,c=s.enc;c.Utf8;var u=c.Base64,h=s.algo,f=h.EvpKDF,p=i.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(S,D){return this.create(this._ENC_XFORM_MODE,S,D)},createDecryptor:function(S,D){return this.create(this._DEC_XFORM_MODE,S,D)},init:function(S,D,F){this.cfg=this.cfg.extend(F),this._xformMode=S,this._key=D,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var D=this._doFinalize();return D},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function S(D){return typeof D=="string"?B:k}return function(D){return{encrypt:function(F,R,$){return S(R).encrypt(D,F,R,$)},decrypt:function(F,R,$){return S(R).decrypt(D,F,R,$)}}}}()});i.StreamCipher=p.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1});var g=s.mode={},y=i.BlockCipherMode=o.extend({createEncryptor:function(S,D){return this.Encryptor.create(S,D)},createDecryptor:function(S,D){return this.Decryptor.create(S,D)},init:function(S,D){this._cipher=S,this._iv=D}}),v=g.CBC=function(){var S=y.extend();S.Encryptor=S.extend({processBlock:function(F,R){var $=this._cipher,K=$.blockSize;D.call(this,F,R,K),$.encryptBlock(F,R),this._prevBlock=F.slice(R,R+K)}}),S.Decryptor=S.extend({processBlock:function(F,R){var $=this._cipher,K=$.blockSize,W=F.slice(R,R+K);$.decryptBlock(F,R),D.call(this,F,R,K),this._prevBlock=W}});function D(F,R,$){var K,W=this._iv;W?(K=W,this._iv=n):K=this._prevBlock;for(var Y=0;Y<$;Y++)F[R+Y]^=K[Y]}return S}(),w=s.pad={},m=w.Pkcs7={pad:function(S,D){for(var F=D*4,R=F-S.sigBytes%F,$=R<<24|R<<16|R<<8|R,K=[],W=0;W<R;W+=4)K.push($);var Y=a.create(K,R);S.concat(Y)},unpad:function(S){var D=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=D}};i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:v,padding:m}),reset:function(){var S;p.reset.call(this);var D=this.cfg,F=D.iv,R=D.mode;this._xformMode==this._ENC_XFORM_MODE?S=R.createEncryptor:(S=R.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,F&&F.words):(this._mode=S.call(R,this,F&&F.words),this._mode.__creator=S)},_doProcessBlock:function(S,D){this._mode.processBlock(S,D)},_doFinalize:function(){var S,D=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(D.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),D.unpad(S)),S},blockSize:128/32});var x=i.CipherParams=o.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),b=s.format={},C=b.OpenSSL={stringify:function(S){var D,F=S.ciphertext,R=S.salt;return R?D=a.create([1398893684,1701076831]).concat(R).concat(F):D=F,D.toString(u)},parse:function(S){var D,F=u.parse(S),R=F.words;return R[0]==1398893684&&R[1]==1701076831&&(D=a.create(R.slice(2,4)),R.splice(0,4),F.sigBytes-=16),x.create({ciphertext:F,salt:D})}},k=i.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(S,D,F,R){R=this.cfg.extend(R);var $=S.createEncryptor(F,R),K=$.finalize(D),W=$.cfg;return x.create({ciphertext:K,key:F,iv:W.iv,algorithm:S,mode:W.mode,padding:W.padding,blockSize:S.blockSize,formatter:R.format})},decrypt:function(S,D,F,R){R=this.cfg.extend(R),D=this._parse(D,R.format);var $=S.createDecryptor(F,R).finalize(D.ciphertext);return $},_parse:function(S,D){return typeof S=="string"?D.parse(S,this):S}}),E=s.kdf={},_=E.OpenSSL={execute:function(S,D,F,R,$){if(R||(R=a.random(64/8)),$)var K=f.create({keySize:D+F,hasher:$}).compute(S,R);else var K=f.create({keySize:D+F}).compute(S,R);var W=a.create(K.words.slice(D),F*4);return K.sigBytes=D*4,x.create({key:K,iv:W,salt:R})}},B=i.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:_}),encrypt:function(S,D,F,R){R=this.cfg.extend(R);var $=R.kdf.execute(F,S.keySize,S.ivSize,R.salt,R.hasher);R.iv=$.iv;var K=k.encrypt.call(this,S,D,$.key,R);return K.mixIn($),K},decrypt:function(S,D,F,R){R=this.cfg.extend(R),D=this._parse(D,R.format);var $=R.kdf.execute(F,S.keySize,S.ivSize,D.salt,R.hasher);R.iv=$.iv;var K=k.decrypt.call(this,S,D,$.key,R);return K}})}()})}(Ul)),Ul.exports}var $l={exports:{}},jf;function $_(){return jf||(jf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize;s.call(this,i,o,l,a),this._prevBlock=i.slice(o,o+l)}}),n.Decryptor=n.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,c=i.slice(o,o+l);s.call(this,i,o,l,a),this._prevBlock=c}});function s(i,o,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var h=0;h<a;h++)i[o+h]^=c[h]}return n}(),r.mode.CFB})}($l)),$l.exports}var Vl={exports:{}},Sf;function V_(){return Sf||(Sf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var h=u.slice(0);a.encryptBlock(h,0),u[l-1]=u[l-1]+1|0;for(var f=0;f<l;f++)i[o+f]^=h[f]}});return n.Decryptor=s,n}(),r.mode.CTR})}(Vl)),Vl.exports}var zl={exports:{}},Af;function z_(){return Af||(Af=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=n.Encryptor=n.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),i(f);var p=f.slice(0);c.encryptBlock(p,0);for(var g=0;g<u;g++)a[l+g]^=p[g]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(zl)),zl.exports}var Hl={exports:{}},Nf;function H_(){return Nf||(Nf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var h=0;h<l;h++)i[o+h]^=u[h]}});return n.Decryptor=s,n}(),r.mode.OFB})}(Hl)),Hl.exports}var Wl={exports:{}},Df;function W_(){return Df||(Df=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),n.Decryptor=n.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),n}(),r.mode.ECB})}(Wl)),Wl.exports}var ql={exports:{}},Pf;function q_(){return Pf||(Pf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.pad.AnsiX923={pad:function(n,s){var i=n.sigBytes,o=s*4,a=o-i%o,l=i+a-1;n.clamp(),n.words[l>>>2]|=a<<24-l%4*8,n.sigBytes+=a},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Ansix923})}(ql)),ql.exports}var Kl={exports:{}},Bf;function K_(){return Bf||(Bf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.pad.Iso10126={pad:function(n,s){var i=s*4,o=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Iso10126})}(Kl)),Kl.exports}var Gl={exports:{}},Tf;function G_(){return Tf||(Tf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.pad.Iso97971={pad:function(n,s){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,s)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Gl)),Gl.exports}var Ql={exports:{}},Ff;function Q_(){return Ff||(Ff=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.pad.ZeroPadding={pad:function(n,s){var i=s*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var s=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})}(Ql)),Ql.exports}var Xl={exports:{}},Rf;function X_(){return Rf||(Rf=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Xl)),Xl.exports}var Yl={exports:{}},Of;function Y_(){return Of||(Of=1,function(e,t){(function(r,n,s){e.exports=n(re(),Ne())})(G,function(r){return function(n){var s=r,i=s.lib,o=i.CipherParams,a=s.enc,l=a.Hex,c=s.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var h=l.parse(u);return o.create({ciphertext:h})}}}(),r.format.Hex})}(Yl)),Yl.exports}var Zl={exports:{}},Lf;function Z_(){return Lf||(Lf=1,function(e,t){(function(r,n,s){e.exports=n(re(),dn(),hn(),Tr(),Ne())})(G,function(r){return function(){var n=r,s=n.lib,i=s.BlockCipher,o=n.algo,a=[],l=[],c=[],u=[],h=[],f=[],p=[],g=[],y=[],v=[];(function(){for(var x=[],b=0;b<256;b++)b<128?x[b]=b<<1:x[b]=b<<1^283;for(var C=0,k=0,b=0;b<256;b++){var E=k^k<<1^k<<2^k<<3^k<<4;E=E>>>8^E&255^99,a[C]=E,l[E]=C;var _=x[C],B=x[_],S=x[B],D=x[E]*257^E*16843008;c[C]=D<<24|D>>>8,u[C]=D<<16|D>>>16,h[C]=D<<8|D>>>24,f[C]=D;var D=S*16843009^B*65537^_*257^C*16843008;p[E]=D<<24|D>>>8,g[E]=D<<16|D>>>16,y[E]=D<<8|D>>>24,v[E]=D,C?(C=_^x[x[x[S^_]]],k^=x[x[k]]):C=k=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],m=o.AES=i.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,C=b.words,k=b.sigBytes/4,E=this._nRounds=k+6,_=(E+1)*4,B=this._keySchedule=[],S=0;S<_;S++)S<k?B[S]=C[S]:(x=B[S-1],S%k?k>6&&S%k==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=w[S/k|0]<<24),B[S]=B[S-k]^x);for(var D=this._invKeySchedule=[],F=0;F<_;F++){var S=_-F;if(F%4)var x=B[S];else var x=B[S-4];F<4||S<=4?D[F]=x:D[F]=p[a[x>>>24]]^g[a[x>>>16&255]]^y[a[x>>>8&255]]^v[a[x&255]]}}},encryptBlock:function(x,b){this._doCryptBlock(x,b,this._keySchedule,c,u,h,f,a)},decryptBlock:function(x,b){var C=x[b+1];x[b+1]=x[b+3],x[b+3]=C,this._doCryptBlock(x,b,this._invKeySchedule,p,g,y,v,l);var C=x[b+1];x[b+1]=x[b+3],x[b+3]=C},_doCryptBlock:function(x,b,C,k,E,_,B,S){for(var D=this._nRounds,F=x[b]^C[0],R=x[b+1]^C[1],$=x[b+2]^C[2],K=x[b+3]^C[3],W=4,Y=1;Y<D;Y++){var L=k[F>>>24]^E[R>>>16&255]^_[$>>>8&255]^B[K&255]^C[W++],V=k[R>>>24]^E[$>>>16&255]^_[K>>>8&255]^B[F&255]^C[W++],z=k[$>>>24]^E[K>>>16&255]^_[F>>>8&255]^B[R&255]^C[W++],T=k[K>>>24]^E[F>>>16&255]^_[R>>>8&255]^B[$&255]^C[W++];F=L,R=V,$=z,K=T}var L=(S[F>>>24]<<24|S[R>>>16&255]<<16|S[$>>>8&255]<<8|S[K&255])^C[W++],V=(S[R>>>24]<<24|S[$>>>16&255]<<16|S[K>>>8&255]<<8|S[F&255])^C[W++],z=(S[$>>>24]<<24|S[K>>>16&255]<<16|S[F>>>8&255]<<8|S[R&255])^C[W++],T=(S[K>>>24]<<24|S[F>>>16&255]<<16|S[R>>>8&255]<<8|S[$&255])^C[W++];x[b]=L,x[b+1]=V,x[b+2]=z,x[b+3]=T},keySize:256/32});n.AES=i._createHelper(m)}(),r.AES})}(Zl)),Zl.exports}var Jl={exports:{}},If;function J_(){return If||(If=1,function(e,t){(function(r,n,s){e.exports=n(re(),dn(),hn(),Tr(),Ne())})(G,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=s.BlockCipher,a=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=o.extend({_doReset:function(){for(var w=this._key,m=w.words,x=[],b=0;b<56;b++){var C=l[b]-1;x[b]=m[C>>>5]>>>31-C%32&1}for(var k=this._subKeys=[],E=0;E<16;E++){for(var _=k[E]=[],B=u[E],b=0;b<24;b++)_[b/6|0]|=x[(c[b]-1+B)%28]<<31-b%6,_[4+(b/6|0)]|=x[28+(c[b+24]-1+B)%28]<<31-b%6;_[0]=_[0]<<1|_[0]>>>31;for(var b=1;b<7;b++)_[b]=_[b]>>>(b-1)*4+3;_[7]=_[7]<<5|_[7]>>>27}for(var S=this._invSubKeys=[],b=0;b<16;b++)S[b]=k[15-b]},encryptBlock:function(w,m){this._doCryptBlock(w,m,this._subKeys)},decryptBlock:function(w,m){this._doCryptBlock(w,m,this._invSubKeys)},_doCryptBlock:function(w,m,x){this._lBlock=w[m],this._rBlock=w[m+1],g.call(this,4,252645135),g.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),g.call(this,1,1431655765);for(var b=0;b<16;b++){for(var C=x[b],k=this._lBlock,E=this._rBlock,_=0,B=0;B<8;B++)_|=h[B][((E^C[B])&f[B])>>>0];this._lBlock=E,this._rBlock=k^_}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,g.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),w[m]=this._lBlock,w[m+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(w,m){var x=(this._lBlock>>>w^this._rBlock)&m;this._rBlock^=x,this._lBlock^=x<<w}function y(w,m){var x=(this._rBlock>>>w^this._lBlock)&m;this._lBlock^=x,this._rBlock^=x<<w}n.DES=o._createHelper(p);var v=a.TripleDES=o.extend({_doReset:function(){var w=this._key,m=w.words;if(m.length!==2&&m.length!==4&&m.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=m.slice(0,2),b=m.length<4?m.slice(0,2):m.slice(2,4),C=m.length<6?m.slice(0,2):m.slice(4,6);this._des1=p.createEncryptor(i.create(x)),this._des2=p.createEncryptor(i.create(b)),this._des3=p.createEncryptor(i.create(C))},encryptBlock:function(w,m){this._des1.encryptBlock(w,m),this._des2.decryptBlock(w,m),this._des3.encryptBlock(w,m)},decryptBlock:function(w,m){this._des3.decryptBlock(w,m),this._des2.encryptBlock(w,m),this._des1.decryptBlock(w,m)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(v)}(),r.TripleDES})}(Jl)),Jl.exports}var ec={exports:{}},Mf;function eC(){return Mf||(Mf=1,function(e,t){(function(r,n,s){e.exports=n(re(),dn(),hn(),Tr(),Ne())})(G,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=o.RC4=i.extend({_doReset:function(){for(var u=this._key,h=u.words,f=u.sigBytes,p=this._S=[],g=0;g<256;g++)p[g]=g;for(var g=0,y=0;g<256;g++){var v=g%f,w=h[v>>>2]>>>24-v%4*8&255;y=(y+p[g]+w)%256;var m=p[g];p[g]=p[y],p[y]=m}this._i=this._j=0},_doProcessBlock:function(u,h){u[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,h=this._i,f=this._j,p=0,g=0;g<4;g++){h=(h+1)%256,f=(f+u[h])%256;var y=u[h];u[h]=u[f],u[f]=y,p|=u[(u[h]+u[f])%256]<<24-g*8}return this._i=h,this._j=f,p}n.RC4=i._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});n.RC4Drop=i._createHelper(c)}(),r.RC4})}(ec)),ec.exports}var tc={exports:{}},Uf;function tC(){return Uf||(Uf=1,function(e,t){(function(r,n,s){e.exports=n(re(),dn(),hn(),Tr(),Ne())})(G,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=[],l=[],c=[],u=o.Rabbit=i.extend({_doReset:function(){for(var f=this._key.words,p=this.cfg.iv,g=0;g<4;g++)f[g]=(f[g]<<8|f[g]>>>24)&16711935|(f[g]<<24|f[g]>>>8)&4278255360;var y=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)h.call(this);for(var g=0;g<8;g++)v[g]^=y[g+4&7];if(p){var w=p.words,m=w[0],x=w[1],b=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,k=b>>>16|C&4294901760,E=C<<16|b&65535;v[0]^=b,v[1]^=k,v[2]^=C,v[3]^=E,v[4]^=b,v[5]^=k,v[6]^=C,v[7]^=E;for(var g=0;g<4;g++)h.call(this)}},_doProcessBlock:function(f,p){var g=this._X;h.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,f[p+y]^=a[y]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,p=this._C,g=0;g<8;g++)l[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var y=f[g]+p[g],v=y&65535,w=y>>>16,m=((v*v>>>17)+v*w>>>15)+w*w,x=((y&4294901760)*y|0)+((y&65535)*y|0);c[g]=m^x}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.Rabbit=i._createHelper(u)}(),r.Rabbit})}(tc)),tc.exports}var rc={exports:{}},$f;function rC(){return $f||($f=1,function(e,t){(function(r,n,s){e.exports=n(re(),dn(),hn(),Tr(),Ne())})(G,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,a=[],l=[],c=[],u=o.RabbitLegacy=i.extend({_doReset:function(){var f=this._key.words,p=this.cfg.iv,g=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],y=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var v=0;v<4;v++)h.call(this);for(var v=0;v<8;v++)y[v]^=g[v+4&7];if(p){var w=p.words,m=w[0],x=w[1],b=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,k=b>>>16|C&4294901760,E=C<<16|b&65535;y[0]^=b,y[1]^=k,y[2]^=C,y[3]^=E,y[4]^=b,y[5]^=k,y[6]^=C,y[7]^=E;for(var v=0;v<4;v++)h.call(this)}},_doProcessBlock:function(f,p){var g=this._X;h.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,f[p+y]^=a[y]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,p=this._C,g=0;g<8;g++)l[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var y=f[g]+p[g],v=y&65535,w=y>>>16,m=((v*v>>>17)+v*w>>>15)+w*w,x=((y&4294901760)*y|0)+((y&65535)*y|0);c[g]=m^x}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.RabbitLegacy=i._createHelper(u)}(),r.RabbitLegacy})}(rc)),rc.exports}var nc={exports:{}},Vf;function nC(){return Vf||(Vf=1,function(e,t){(function(r,n,s){e.exports=n(re(),dn(),hn(),Tr(),Ne())})(G,function(r){return function(){var n=r,s=n.lib,i=s.BlockCipher,o=n.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function h(v,w){let m=w>>24&255,x=w>>16&255,b=w>>8&255,C=w&255,k=v.sbox[0][m]+v.sbox[1][x];return k=k^v.sbox[2][b],k=k+v.sbox[3][C],k}function f(v,w,m){let x=w,b=m,C;for(let k=0;k<a;++k)x=x^v.pbox[k],b=h(v,x)^b,C=x,x=b,b=C;return C=x,x=b,b=C,b=b^v.pbox[a],x=x^v.pbox[a+1],{left:x,right:b}}function p(v,w,m){let x=w,b=m,C;for(let k=a+1;k>1;--k)x=x^v.pbox[k],b=h(v,x)^b,C=x,x=b,b=C;return C=x,x=b,b=C,b=b^v.pbox[1],x=x^v.pbox[0],{left:x,right:b}}function g(v,w,m){for(let E=0;E<4;E++){v.sbox[E]=[];for(let _=0;_<256;_++)v.sbox[E][_]=c[E][_]}let x=0;for(let E=0;E<a+2;E++)v.pbox[E]=l[E]^w[x],x++,x>=m&&(x=0);let b=0,C=0,k=0;for(let E=0;E<a+2;E+=2)k=f(v,b,C),b=k.left,C=k.right,v.pbox[E]=b,v.pbox[E+1]=C;for(let E=0;E<4;E++)for(let _=0;_<256;_+=2)k=f(v,b,C),b=k.left,C=k.right,v.sbox[E][_]=b,v.sbox[E][_+1]=C;return!0}var y=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,w=v.words,m=v.sigBytes/4;g(u,w,m)}},encryptBlock:function(v,w){var m=f(u,v[w],v[w+1]);v[w]=m.left,v[w+1]=m.right},decryptBlock:function(v,w){var m=p(u,v[w],v[w+1]);v[w]=m.left,v[w+1]=m.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(y)}(),r.Blowfish})}(nc)),nc.exports}(function(e,t){(function(r,n,s){e.exports=n(re(),Pa(),T_(),F_(),dn(),R_(),hn(),Yg(),V0(),O_(),Zg(),L_(),I_(),M_(),z0(),U_(),Tr(),Ne(),$_(),V_(),z_(),H_(),W_(),q_(),K_(),G_(),Q_(),X_(),Y_(),Z_(),J_(),eC(),tC(),rC(),nC())})(G,function(r){return r})})(Xg);var sC=Xg.exports;const Cu=Zp(sC),iC="https://cggsodnyilnhlrtuzdkr.supabase.co",sc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ3NvZG55aWxuaGxydHV6ZGtyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0NTQ1MzksImV4cCI6MjA2NjAzMDUzOX0.I3j8Wyt1oeH57A3mN_MmcpMcHw9xS2zNqXWTTIYBF08",X=A_(iC,sc,{db:{schema:"public"},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{apikey:sc,Authorization:`Bearer ${sc}`}}}),Jg="your-secret-key",oC=e=>Cu.AES.encrypt(e,Jg).toString(),aC=e=>Cu.AES.decrypt(e,Jg).toString(Cu.enc.Utf8),lC=async(e,t,r)=>{try{const{data:n,error:s}=await X.storage.from(t).upload(r,e,{cacheControl:"3600",upsert:!0});if(s)throw s;const{data:{publicUrl:i}}=X.storage.from(t).getPublicUrl(n.path);return i}catch(n){return console.error("Error uploading image:",n),null}},ev=N.createContext(void 0),De=()=>{const e=N.useContext(ev);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},cC=({children:e})=>{const[t,r]=N.useState({isAuthenticated:!1,user:null,loading:!0});N.useEffect(()=>{const u=()=>{const p=localStorage.getItem("localTestUser");if(p)try{const g=JSON.parse(p);return r({isAuthenticated:!0,user:{...g,createdAt:new Date(g.createdAt)},loading:!1}),!0}catch(g){console.error("Error parsing local user:",g),localStorage.removeItem("localTestUser")}return!1};(async()=>{if(!u())try{const{data:{session:p}}=await X.auth.getSession();p!=null&&p.user&&await n(p.user.id)}catch(p){console.error("Session check error:",p)}finally{r(p=>({...p,loading:!1}))}})();const{data:{subscription:f}}=X.auth.onAuthStateChange(async(p,g)=>{p==="SIGNED_IN"&&(g!=null&&g.user)?await n(g.user.id):p==="SIGNED_OUT"&&(localStorage.removeItem("localTestUser"),r({isAuthenticated:!1,user:null,loading:!1}))});return()=>f.unsubscribe()},[]);const n=async u=>{var h,f;try{const{data:p,error:g}=await X.from("profiles").select(`
          *,
          characters(id),
          privacy_settings(*)
        `).eq("id",u).single();if(g)throw g;const y={id:p.id,username:p.username,displayName:p.display_name,email:p.email,avatar:p.avatar_url||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",headerImage:p.header_image_url||"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=800&h=300",bio:p.bio,writersTag:p.writers_tag,twoFactorEnabled:p.two_factor_enabled,characters:((h=p.characters)==null?void 0:h.map(v=>v.id))||[],followers:p.followers||[],following:p.following||[],createdAt:new Date(p.created_at),privacySettings:(f=p.privacy_settings)!=null&&f[0]?{profileVisibility:p.privacy_settings[0].profile_visibility,messagePermissions:p.privacy_settings[0].message_permissions,tagNotifications:p.privacy_settings[0].tag_notifications,directMessageNotifications:p.privacy_settings[0].direct_message_notifications}:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}};r({isAuthenticated:!0,user:y,loading:!1})}catch(p){console.error("Error loading user profile:",p),r(g=>({...g,loading:!1}))}},s=async(u,h)=>{try{const f=u.includes("@");let p=u;if(!f)try{const{data:v,error:w}=await X.from("profiles").select("email").eq("username",u).maybeSingle();if(w)throw console.error("Profile lookup error:",w),new Error("Database error occurred");if(!v||!v.email)throw new Error("User not found or no email associated with username");p=v.email}catch(v){throw console.error("Database query failed:",v),new Error("Unable to find user. Please check your username or try using your email address.")}const{data:g,error:y}=await X.auth.signInWithPassword({email:p,password:h});if(y)throw console.error("Auth error:",y),new Error(y.message||"Login failed");return!0}catch(f){throw console.error("Login error:",f),f}},i=async(u,h,f,p,g)=>{try{const{data:y,error:v}=await X.auth.signUp({email:g,password:h});if(v)throw console.error("Auth signup error:",v),new Error(v.message||"Registration failed");if(y.user){const{error:w}=await X.from("profiles").insert({id:y.user.id,username:u,display_name:f,email:g,writers_tag:p,bio:"New to CharacterVerse!"});if(w)throw console.error("Profile creation error:",w),w.code==="23505"?w.message.includes("username")?new Error("Username already exists. Please choose a different username."):new Error("This account already exists. Please try logging in instead."):new Error(w.message||"Failed to create user profile");const{error:m}=await X.from("privacy_settings").insert({user_id:y.user.id,profile_visibility:"public",message_permissions:"everyone",tag_notifications:!0,direct_message_notifications:!0});m&&console.warn("Privacy settings creation failed:",m)}return!0}catch(y){throw console.error("Registration error:",y),y}},o=async()=>{localStorage.removeItem("localTestUser"),await X.auth.signOut()},a=async u=>{if(t.user){if(t.user.id==="local-test-user"){const h={...t.user,...u};localStorage.setItem("localTestUser",JSON.stringify(h)),r(f=>({...f,user:h}));return}try{const{error:h}=await X.from("profiles").update({display_name:u.displayName,bio:u.bio,writers_tag:u.writersTag,email:u.email,avatar_url:u.avatar,header_image_url:u.headerImage,updated_at:new Date().toISOString()}).eq("id",t.user.id);if(h)throw h;if(u.privacySettings){const{error:f}=await X.from("privacy_settings").update({profile_visibility:u.privacySettings.profileVisibility,message_permissions:u.privacySettings.messagePermissions,tag_notifications:u.privacySettings.tagNotifications,direct_message_notifications:u.privacySettings.directMessageNotifications,updated_at:new Date().toISOString()}).eq("user_id",t.user.id);f&&console.warn("Privacy settings update failed:",f)}r(f=>({...f,user:f.user?{...f.user,...u}:null}))}catch(h){console.error("Error updating user:",h)}}},l=async u=>u==="123456",c=async u=>(t.user&&await a({email:u,twoFactorEnabled:!0}),!0);return d.jsx(ev.Provider,{value:{...t,login:s,register:i,logout:o,updateUser:a,verifyOTP:l,enableTwoFactor:c},children:e})},tv=N.createContext(void 0),rt=()=>{const e=N.useContext(tv);if(!e)throw new Error("useApp must be used within an AppProvider");return e},uC=({children:e})=>{const{user:t}=De(),[r,n]=N.useState([]),[s,i]=N.useState([]),[o,a]=N.useState([]),[l,c]=N.useState([]),[u,h]=N.useState(null),f=o.filter(A=>!A.read).length;N.useEffect(()=>{if(!t)return;const A=X.channel("posts").on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{g()}).subscribe(),j=X.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},()=>{y()}).subscribe(),M=X.channel("post_interactions").on("postgres_changes",{event:"*",schema:"public",table:"post_interactions"},()=>{g()}).subscribe();return()=>{A.unsubscribe(),j.unsubscribe(),M.unsubscribe()}},[t]),N.useEffect(()=>{if(!t)return;const A=setInterval(()=>{g()},1e3);return()=>clearInterval(A)},[t]),N.useEffect(()=>{t&&(p(),g(),y(),v())},[t]);const p=async()=>{try{const{data:A,error:j}=await X.from("characters").select("*").order("created_at",{ascending:!1});if(j)throw j;const M=A.map(P=>({id:P.id,username:P.username,name:P.name,title:P.title,avatar:P.avatar_url,headerImage:P.header_url,bio:P.bio,universe:P.universe,verseTag:P.verse_tag,traits:P.traits||[],userId:P.user_id,customColor:P.custom_color,customFont:P.custom_font,followers:P.followers||[],following:P.following||[],createdAt:new Date(P.created_at)}));n(M)}catch(A){console.error("Error loading characters:",A)}},g=async()=>{try{const{data:A,error:j}=await X.from("posts").select(`
          *,
          character:characters(*),
          profile:profiles(*),
          interactions:post_interactions(interaction_type, user_id),
          comments:comments(count)
        `).order("created_at",{ascending:!1});if(j)throw j;const M=A.map(P=>{var le,dt,Fe,Re,Rr;const H=((le=P.interactions)==null?void 0:le.filter($e=>$e.interaction_type==="like").length)||0,U=((dt=P.interactions)==null?void 0:dt.filter($e=>$e.interaction_type==="repost").length)||0,he=((Fe=P.interactions)==null?void 0:Fe.some($e=>$e.interaction_type==="like"&&$e.user_id===(t==null?void 0:t.id)))||!1,ve=((Re=P.interactions)==null?void 0:Re.some($e=>$e.interaction_type==="repost"&&$e.user_id===(t==null?void 0:t.id)))||!1;return{id:P.id,content:P.content,characterId:P.character_id,character:P.character?{id:P.character.id,username:P.character.username,name:P.character.name,title:P.character.title,avatar:P.character.avatar_url,headerImage:P.character.header_url,bio:P.character.bio,universe:P.character.universe,verseTag:P.character.verse_tag,traits:P.character.traits||[],userId:P.character.user_id,customColor:P.character.custom_color,customFont:P.character.custom_font,followers:P.character.followers||[],following:P.character.following||[],createdAt:new Date(P.character.created_at)}:void 0,userId:P.user_id,user:P.profile?{id:P.profile.id,username:P.profile.username,displayName:P.profile.display_name,avatar:P.profile.avatar_url,headerImage:P.profile.header_image_url,bio:P.profile.bio,writersTag:P.profile.writers_tag,email:P.profile.email,twoFactorEnabled:P.profile.two_factor_enabled,characters:[],followers:P.profile.followers||[],following:P.profile.following||[],createdAt:new Date(P.profile.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}:void 0,timestamp:new Date(P.created_at),likes:H,reposts:U,comments:((Rr=P.comments)==null?void 0:Rr.length)||0,isLiked:he,isReposted:ve,isThread:P.is_thread,threadId:P.thread_id,parentPostId:P.parent_post_id,visibility:P.visibility,tags:P.tags||[]}});i(M)}catch(A){console.error("Error loading posts:",A)}},y=async()=>{if(t)try{const{data:A,error:j}=await X.from("notifications").select(`
          *,
          from_profile:profiles!notifications_from_user_id_fkey(*)
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(j)throw j;const M=A.map(P=>({id:P.id,type:P.type,userId:P.user_id,fromUserId:P.from_user_id,fromUser:P.from_profile?{id:P.from_profile.id,username:P.from_profile.username,displayName:P.from_profile.display_name,avatar:P.from_profile.avatar_url,headerImage:P.from_profile.header_image_url,bio:P.from_profile.bio,writersTag:P.from_profile.writers_tag,email:P.from_profile.email,twoFactorEnabled:P.from_profile.two_factor_enabled,characters:[],followers:P.from_profile.followers||[],following:P.from_profile.following||[],createdAt:new Date(P.from_profile.created_at),privacySettings:{profileVisibility:"public",messagePermissions:"everyone",tagNotifications:!0,directMessageNotifications:!0}}:void 0,postId:P.post_id,message:P.message,timestamp:new Date(P.created_at),read:P.read}));a(M)}catch(A){console.error("Error loading notifications:",A)}},v=async()=>{if(t)try{const{data:A,error:j}=await X.from("chats").select(`
          *,
          participants:chat_participants(
            user_id,
            profile:profiles(*)
          ),
          last_message:messages(*)
        `).order("updated_at",{ascending:!1});if(j)throw j;const P=A.filter(H=>H.participants.some(U=>U.user_id===t.id)).map(H=>{var U;return{id:H.id,participants:H.participants.map(he=>he.user_id),isGroup:H.is_group,name:H.name,createdAt:new Date(H.created_at),isEncrypted:H.is_encrypted,lastMessage:(U=H.last_message)!=null&&U[0]?{id:H.last_message[0].id,content:aC(H.last_message[0].content),senderId:H.last_message[0].sender_id,chatId:H.last_message[0].chat_id,timestamp:new Date(H.last_message[0].created_at),isEncrypted:H.last_message[0].is_encrypted,readBy:[]}:void 0}});c(P)}catch(A){console.error("Error loading chats:",A)}},w=async A=>{if(t)try{const{data:j,error:M}=await X.from("characters").insert({user_id:t.id,username:A.username,name:A.name,title:A.title,bio:A.bio,universe:A.universe,verse_tag:A.verseTag,traits:A.traits,custom_color:A.customColor,custom_font:A.customFont,avatar_url:A.avatar,header_url:A.headerImage,followers:[],following:[]}).select().single();if(M)throw M;const P={id:j.id,username:j.username,name:j.name,title:j.title,avatar:j.avatar_url,headerImage:j.header_url,bio:j.bio,universe:j.universe,verseTag:j.verse_tag,traits:j.traits||[],userId:j.user_id,customColor:j.custom_color,customFont:j.custom_font,followers:j.followers||[],following:j.following||[],createdAt:new Date(j.created_at)};n(H=>[P,...H])}catch(j){console.error("Error adding character:",j)}},m=async(A,j)=>{try{const{error:M}=await X.from("characters").update({username:j.username,name:j.name,title:j.title,bio:j.bio,universe:j.universe,verse_tag:j.verseTag,traits:j.traits,custom_color:j.customColor,custom_font:j.customFont,avatar_url:j.avatar,header_url:j.headerImage,followers:j.followers,following:j.following,updated_at:new Date().toISOString()}).eq("id",A);if(M)throw M;n(P=>P.map(H=>H.id===A?{...H,...j}:H))}catch(M){console.error("Error updating character:",M)}},x=async A=>{try{const{error:j}=await X.from("characters").delete().eq("id",A);if(j)throw j;n(M=>M.filter(P=>P.id!==A))}catch(j){console.error("Error deleting character:",j)}},b=async A=>{if(t)try{const{data:j,error:M}=await X.from("posts").insert({user_id:t.id,character_id:A.characterId,content:A.content,visibility:A.visibility,is_thread:A.isThread,thread_id:A.threadId,parent_post_id:A.parentPostId,tags:A.tags}).select().single();if(M)throw M;if(A.parentPostId){const P=s.find(H=>H.id===A.parentPostId);P&&P.userId!==t.id&&await D({type:"comment",userId:P.userId,fromUserId:t.id,postId:A.parentPostId,message:`${t.displayName} replied to your post`,read:!1})}g()}catch(j){console.error("Error adding post:",j)}},C=async(A,j)=>{try{const{error:M}=await X.from("posts").update({content:j.content,visibility:j.visibility,tags:j.tags,updated_at:new Date().toISOString()}).eq("id",A);if(M)throw M;g()}catch(M){console.error("Error updating post:",M)}},k=async A=>{try{const{error:j}=await X.from("posts").delete().eq("id",A);if(j)throw j;i(M=>M.filter(P=>P.id!==A))}catch(j){console.error("Error deleting post:",j)}},E=async A=>{if(t)try{const j=await X.from("post_interactions").select("id").eq("user_id",t.id).eq("post_id",A).eq("interaction_type","like").single();if(j.data)await X.from("post_interactions").delete().eq("id",j.data.id);else{await X.from("post_interactions").insert({user_id:t.id,post_id:A,interaction_type:"like"});const M=s.find(P=>P.id===A);M&&M.userId!==t.id&&await D({type:"like",userId:M.userId,fromUserId:t.id,postId:A,message:`${t.displayName} liked your post`,read:!1})}g()}catch(j){console.error("Error liking post:",j)}},_=async A=>{if(t)try{const j=await X.from("post_interactions").select("id").eq("user_id",t.id).eq("post_id",A).eq("interaction_type","repost").single();if(j.data)await X.from("post_interactions").delete().eq("id",j.data.id);else{await X.from("post_interactions").insert({user_id:t.id,post_id:A,interaction_type:"repost"});const M=s.find(P=>P.id===A);M&&M.userId!==t.id&&await D({type:"repost",userId:M.userId,fromUserId:t.id,postId:A,message:`${t.displayName} reposted your post`,read:!1})}g()}catch(j){console.error("Error reposting post:",j)}},B=async(A,j,M)=>{if(t)try{const{error:P}=await X.from("comments").insert({user_id:t.id,post_id:A,character_id:M,content:j});if(P)throw P;const H=s.find(U=>U.id===A);H&&H.userId!==t.id&&await D({type:"comment",userId:H.userId,fromUserId:t.id,postId:A,message:`${t.displayName} commented on your post`,read:!1}),g()}catch(P){console.error("Error adding comment:",P)}},S=async A=>{try{const{data:j,error:M}=await X.from("comments").select(`
          *,
          profile:profiles(*),
          character:characters(*)
        `).eq("post_id",A).order("created_at",{ascending:!0});if(M)throw M;return j.map(P=>({id:P.id,content:P.content,userId:P.user_id,postId:P.post_id,characterId:P.character_id,character:P.character,user:P.profile,timestamp:new Date(P.created_at)}))}catch(j){return console.error("Error loading comments:",j),[]}},D=async A=>{try{await X.from("notifications").insert({user_id:A.userId,from_user_id:A.fromUserId,type:A.type,post_id:A.postId,message:A.message,read:A.read})}catch(j){console.error("Error adding notification:",j)}},F=async A=>{try{const{error:j}=await X.from("notifications").update({read:!0}).eq("id",A);if(j)throw j;a(M=>M.map(P=>P.id===A?{...P,read:!0}:P))}catch(j){console.error("Error marking notification as read:",j)}},R=async()=>{if(t)try{const{error:A}=await X.from("notifications").delete().eq("user_id",t.id);if(A)throw A;a([])}catch(A){console.error("Error clearing notifications:",A)}},$=async A=>{if(t)try{await X.from("follows").insert({follower_id:t.id,following_id:A}),await D({type:"follow",userId:A,fromUserId:t.id,message:`${t.displayName} started following you`,read:!1}),y()}catch(j){console.error("Error following user:",j)}},K=async A=>{if(t)try{await X.from("follows").delete().eq("follower_id",t.id).eq("following_id",A)}catch(j){console.error("Error unfollowing user:",j)}},W=async(A,j)=>{if(!t)return;const M=r.find(P=>P.id===A);if(M)try{const P=[...M.followers,j||t.id];await X.from("characters").update({followers:P}).eq("id",A),n(H=>H.map(U=>U.id===A?{...U,followers:P}:U))}catch(P){console.error("Error following character:",P)}},Y=async(A,j)=>{if(!t)return;const M=r.find(P=>P.id===A);if(M)try{const P=M.followers.filter(H=>H!==(j||t.id));await X.from("characters").update({followers:P}).eq("id",A),n(H=>H.map(U=>U.id===A?{...U,followers:P}:U))}catch(P){console.error("Error unfollowing character:",P)}},L=async(A,j,M)=>{try{const P=oC(j),{data:H,error:U}=await X.from("messages").insert({chat_id:A,sender_id:M,content:P,is_encrypted:!0}).select().single();if(U)throw U;await X.from("chats").update({updated_at:new Date().toISOString()}).eq("id",A);const he={id:H.id,content:j,senderId:H.sender_id,chatId:H.chat_id,timestamp:new Date(H.created_at),isEncrypted:H.is_encrypted,readBy:[M]};c(ve=>ve.map(le=>le.id===A?{...le,lastMessage:he}:le))}catch(P){console.error("Error sending message:",P)}},V=async(A,j=!1,M)=>{if(!t)throw new Error("User not authenticated");try{const{data:P,error:H}=await X.from("chats").insert({name:M,is_group:j,is_encrypted:!0,created_by:t.id}).select().single();if(H)throw H;const U=[t.id,...A].map(le=>({chat_id:P.id,user_id:le})),{error:he}=await X.from("chat_participants").insert(U);if(he)throw he;const ve={id:P.id,participants:[t.id,...A],isGroup:j,name:M,createdAt:new Date(P.created_at),isEncrypted:P.is_encrypted};return c(le=>[ve,...le]),ve}catch(P){throw console.error("Error creating chat:",P),P}},z=A=>{const j=A.toLowerCase(),M=s.filter(U=>{var he,ve,le,dt;return U.content.toLowerCase().includes(j)||U.tags.some(Fe=>Fe.toLowerCase().includes(j))||((he=U.character)==null?void 0:he.name.toLowerCase().includes(j))||((ve=U.character)==null?void 0:ve.verseTag.toLowerCase().includes(j))||((le=U.user)==null?void 0:le.displayName.toLowerCase().includes(j))||((dt=U.user)==null?void 0:dt.username.toLowerCase().includes(j))}),P=r.filter(U=>U.name.toLowerCase().includes(j)||U.username.toLowerCase().includes(j)||U.verseTag.toLowerCase().includes(j)||U.universe.toLowerCase().includes(j)||U.traits.some(he=>he.toLowerCase().includes(j))),H=Array.from(new Map(s.filter(U=>U.user).map(U=>U.user).filter(U=>U.username.toLowerCase().includes(j)||U.displayName.toLowerCase().includes(j)||U.writersTag.toLowerCase().includes(j)).map(U=>[U.id,U])).values());return{posts:M,characters:P,users:H}},T=()=>{if(!t)return{writers:[],characters:[]};const A=r.filter(P=>P.userId===t.id).map(P=>P.verseTag),j=r.filter(P=>P.userId!==t.id&&A.some(H=>P.verseTag.toLowerCase().includes(H.toLowerCase()))).slice(0,5);return{writers:[],characters:j}},O=A=>t?A==="user"?s.filter(j=>j.userId===t.id?!0:t.following.includes(j.userId)):A?s.filter(j=>j.userId===t.id||j.characterId&&A.following.includes(j.characterId)?!0:A.following.includes(j.userId)):s.filter(j=>j.userId===t.id?!0:t.following.includes(j.userId)):[];return d.jsx(tv.Provider,{value:{characters:r,posts:s,notifications:o,chats:l,selectedCharacter:u,unreadNotifications:f,setCharacters:n,setPosts:i,setNotifications:a,setChats:c,setSelectedCharacter:h,addCharacter:w,updateCharacter:m,deleteCharacter:x,addPost:b,updatePost:C,deletePost:k,likePost:E,repostPost:_,addComment:B,addNotification:D,markNotificationAsRead:F,clearAllNotifications:R,sendMessage:L,createChat:V,searchContent:z,getRecommendations:T,followUser:$,unfollowUser:K,followCharacter:W,unfollowCharacter:Y,getPostComments:S,getFilteredPosts:O},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>N.createElement("svg",{ref:u,...dC,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${hC(e)}`,a].join(" "),...c},[...t.map(([h,f])=>N.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=J("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=J("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=J("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=J("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=J("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=J("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=J("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=J("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=J("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=J("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=J("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=J("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=J("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=J("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=J("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=J("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=J("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=J("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uv=()=>d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:d.jsx(K0,{className:"w-8 h-8 text-white animate-bounce"})}),d.jsx("p",{className:"text-gray-400",children:"Loading CharacterVerse..."})]})}),NC=()=>{const[e,t]=N.useState(!0),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[o,a]=N.useState(!1),[l,c]=N.useState(""),[u,h]=N.useState({identifier:"",password:"",displayName:"",writersTag:"",email:"",otp:""}),{login:f,register:p,verifyOTP:g,enableTwoFactor:y}=De(),v=async m=>{m.preventDefault(),i(!0),c("");try{if(o)await g(u.otp)?a(!1):c("Invalid verification code");else if(e)await f(u.identifier,u.password);else{const x=u.identifier.includes("@")?u.identifier.split("@")[0]:u.identifier;await p(x,u.password,u.displayName,u.writersTag,u.email)}}catch(x){console.error("Authentication error:",x),c(x.message||"An error occurred. Please try again.")}finally{i(!1)}},w=async()=>{if(u.email){i(!0);try{await y(u.email),a(!0)}catch(m){console.error("2FA setup error:",m),c("Failed to setup 2FA")}finally{i(!1)}}};return s?d.jsx(uv,{}):d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:d.jsx("div",{className:"w-full max-w-md",children:d.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-md rounded-2xl border border-gray-700/50 p-8 shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(K0,{className:"w-8 h-8 text-white"})}),d.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"CharacterVerse"}),d.jsx("p",{className:"text-gray-400",children:o?"Enter verification code":e?"Welcome back":"Join the community"})]}),l&&d.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/30 rounded-lg",children:d.jsx("p",{className:"text-red-400 text-sm",children:l})}),d.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o?d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Verification Code"}),d.jsx("input",{type:"text",value:u.otp,onChange:m=>h(x=>({...x,otp:m.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"Enter 6-digit code",maxLength:6})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e?"Username or Email":"Username"}),d.jsx("input",{type:"text",value:u.identifier,onChange:m=>h(x=>({...x,identifier:m.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:e?"Enter username or email":"Choose a username",required:!0})]}),!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),d.jsx("input",{type:"text",value:u.displayName,onChange:m=>h(x=>({...x,displayName:m.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"Your display name",required:!0})]}),!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),d.jsx("input",{type:"text",value:u.writersTag,onChange:m=>h(x=>({...x,writersTag:m.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., fantasy, scifi, modern",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:r?"text":"password",value:u.password,onChange:m=>h(x=>({...x,password:m.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 pr-12 text-white focus:border-purple-500 focus:outline-none",placeholder:"Enter your password",required:!0}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:r?d.jsx(mC,{className:"w-5 h-5"}):d.jsx(q0,{className:"w-5 h-5"})})]})]}),!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"email",value:u.email,onChange:m=>h(x=>({...x,email:m.target.value})),className:"flex-1 bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"your@email.com",required:!0}),u.email&&d.jsxs("button",{type:"button",onClick:w,className:"px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[d.jsx(lv,{className:"w-4 h-4"}),d.jsx("span",{children:"2FA"})]})]})]})]}),d.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-3 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:o?"Verify Code":e?"Sign In":"Create Account"})]}),!o&&d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{onClick:()=>{t(!e),c(""),h({identifier:"",password:"",displayName:"",writersTag:"",email:"",otp:""})},className:"text-purple-400 hover:text-purple-300 transition-colors",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})})};function ju(e){const r=new Date().getTime()-e.getTime(),n=Math.floor(r/(1e3*60)),s=Math.floor(r/(1e3*60*60)),i=Math.floor(r/(1e3*60*60*24));return n<1?"now":n<60?`${n}m`:s<24?`${s}h`:i<7?`${i}d`:e.toLocaleDateString()}const DC=({post:e,onClose:t})=>{var w,m,x,b,C,k;const{user:r}=De(),{characters:n,getPostComments:s,addPost:i}=rt(),[o,a]=N.useState([]),[l,c]=N.useState(""),[u,h]=N.useState(null),[f,p]=N.useState(!0),g=n.filter(E=>E.userId===(r==null?void 0:r.id));N.useEffect(()=>{y()},[e.id]);const y=async()=>{p(!0);const E=await s(e.id);a(E),p(!1)},v=async E=>{E.preventDefault(),!(!l.trim()||!r)&&(await i({content:l.trim(),characterId:u==null?void 0:u.id,character:u,userId:r.id,user:r,parentPostId:e.id,isThread:!1,visibility:"public",tags:l.match(/#\w+/g)||[]}),c(""),y())};return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-bold text-white",children:"Replies"}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:d.jsx(jr,{className:"w-6 h-6 text-gray-400"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"mb-6 p-4 bg-gray-800/30 rounded-lg border border-gray-700/50",children:d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("img",{src:((w=e.character)==null?void 0:w.avatar)||((m=e.user)==null?void 0:m.avatar),alt:((x=e.character)==null?void 0:x.name)||((b=e.user)==null?void 0:b.displayName),className:"w-10 h-10 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("span",{className:"font-bold text-white",children:((C=e.character)==null?void 0:C.name)||((k=e.user)==null?void 0:k.displayName)}),d.jsx("span",{className:"text-gray-500 text-sm",children:ju(e.timestamp)})]}),d.jsx("p",{className:"text-gray-100",children:e.content})]})]})}),d.jsxs("form",{onSubmit:v,className:"mb-6",children:[d.jsxs("div",{className:"flex space-x-3 mb-4",children:[d.jsx("img",{src:(u==null?void 0:u.avatar)||(r==null?void 0:r.avatar),alt:(u==null?void 0:u.name)||(r==null?void 0:r.displayName),className:"w-10 h-10 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("select",{value:(u==null?void 0:u.id)||"user",onChange:E=>{if(E.target.value==="user")h(null);else{const _=g.find(B=>B.id===E.target.value);h(_||null)}},className:"mb-3 bg-gray-800 text-white border border-gray-600 rounded-lg px-3 py-1 text-sm focus:border-purple-500 focus:outline-none",children:[d.jsx("option",{value:"user",children:"Reply as yourself"}),g.map(E=>d.jsxs("option",{value:E.id,children:[E.name," - ",E.title]},E.id))]}),d.jsx("textarea",{value:l,onChange:E=>c(E.target.value),placeholder:"Write your reply...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",rows:3})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{type:"submit",disabled:!l.trim(),className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg transition-colors",children:[d.jsx(av,{className:"w-4 h-4"}),d.jsx("span",{children:"Reply"})]})})]}),d.jsx("div",{className:"space-y-4",children:f?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-purple-500 border-t-transparent rounded-full mx-auto"}),d.jsx("p",{className:"text-gray-400 mt-2",children:"Loading replies..."})]}):o.length===0?d.jsx("div",{className:"text-center py-8",children:d.jsx("p",{className:"text-gray-400",children:"No replies yet. Be the first to reply!"})}):o.map(E=>{var _,B,S,D,F,R;return d.jsxs("div",{className:"flex space-x-3 p-4 bg-gray-800/20 rounded-lg",children:[d.jsx("img",{src:((_=E.character)==null?void 0:_.avatar_url)||((B=E.user)==null?void 0:B.avatar_url),alt:((S=E.character)==null?void 0:S.name)||((D=E.user)==null?void 0:D.display_name),className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx("span",{className:"font-medium text-white",children:((F=E.character)==null?void 0:F.name)||((R=E.user)==null?void 0:R.display_name)}),d.jsx("span",{className:"text-gray-500 text-sm",children:ju(E.timestamp)})]}),d.jsx("p",{className:"text-gray-100",children:E.content})]})]},E.id)})})]})]})})},Fa=({post:e,onLike:t,onRepost:r,showReplies:n=!1})=>{var B,S,D,F,R,$,K,W,Y;const{user:s}=De(),{updatePost:i,deletePost:o}=rt(),[a,l]=N.useState(!1),[c,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(e.content),y=((B=e.character)==null?void 0:B.avatar)||((S=e.user)==null?void 0:S.avatar)||"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",v=((D=e.character)==null?void 0:D.name)||((F=e.user)==null?void 0:F.displayName)||((R=e.user)==null?void 0:R.username)||"Unknown User",w=(($=e.character)==null?void 0:$.title)||"",m=(K=e.character)==null?void 0:K.universe,x=((W=e.character)==null?void 0:W.username)||((Y=e.user)==null?void 0:Y.username)||"",b=e.userId===(s==null?void 0:s.id),C=()=>{f(!0),l(!1)},k=()=>{i(e.id,{content:p}),f(!1)},E=()=>{window.confirm("Are you sure you want to delete this post?")&&o(e.id),l(!1)},_=()=>{u(!0)};return d.jsxs(d.Fragment,{children:[d.jsx("article",{className:"p-6 hover:bg-gray-800/20 transition-colors border-b border-gray-700/30",children:d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:y,alt:v,className:"w-12 h-12 rounded-full object-cover ring-2 ring-purple-500/30"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:"font-bold text-white",children:v}),w&&d.jsx("span",{className:"text-purple-400 text-sm font-medium",children:w}),d.jsxs("span",{className:"text-gray-500",children:["@",x]})]}),d.jsx("span",{className:"text-gray-500",children:""}),d.jsx("time",{className:"text-gray-500 text-sm",children:ju(e.timestamp)}),d.jsxs("div",{className:"ml-auto relative",children:[d.jsx("button",{onClick:()=>l(!a),className:"text-gray-500 hover:text-gray-300 transition-colors",children:d.jsx(iv,{className:"w-5 h-5"})}),a&&d.jsxs("div",{className:"absolute right-0 top-8 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-10 min-w-[120px]",children:[b&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:C,className:"w-full text-left px-4 py-2 text-white hover:bg-gray-700 flex items-center space-x-2",children:[d.jsx(G0,{className:"w-4 h-4"}),d.jsx("span",{children:"Edit"})]}),d.jsxs("button",{onClick:E,className:"w-full text-left px-4 py-2 text-red-400 hover:bg-gray-700 flex items-center space-x-2",children:[d.jsx(Ta,{className:"w-4 h-4"}),d.jsx("span",{children:"Delete"})]})]}),d.jsx("button",{onClick:()=>l(!1),className:"w-full text-left px-4 py-2 text-gray-400 hover:bg-gray-700",children:"Cancel"})]})]})]}),m&&d.jsx("div",{className:"mb-3",children:d.jsxs("div",{className:"inline-flex items-center space-x-2 text-xs text-purple-300 bg-purple-900/30 px-2 py-1 rounded-full mb-2",children:[d.jsx("span",{children:""}),d.jsx("span",{children:m})]})}),d.jsx("div",{className:"mb-4",children:h?d.jsxs("div",{className:"space-y-3",children:[d.jsx("textarea",{value:p,onChange:L=>g(L.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",rows:3}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:k,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save"}),d.jsx("button",{onClick:()=>{f(!1),g(e.content)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):d.jsx("p",{className:"text-gray-100 leading-relaxed whitespace-pre-wrap",children:e.content})}),d.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[d.jsxs("button",{onClick:_,className:"flex items-center space-x-2 text-gray-500 hover:text-blue-400 transition-colors group",children:[d.jsx("div",{className:"p-2 rounded-full group-hover:bg-blue-400/10 transition-colors",children:d.jsx(Eu,{className:"w-5 h-5"})}),d.jsx("span",{className:"text-sm",children:e.comments})]}),d.jsxs("button",{onClick:r,className:`flex items-center space-x-2 transition-colors group ${e.isReposted?"text-green-400":"text-gray-500 hover:text-green-400"}`,children:[d.jsx("div",{className:"p-2 rounded-full group-hover:bg-green-400/10 transition-colors",children:d.jsx(ov,{className:"w-5 h-5"})}),d.jsx("span",{className:"text-sm",children:e.reposts})]}),d.jsxs("button",{onClick:t,className:`flex items-center space-x-2 transition-colors group ${e.isLiked?"text-red-500":"text-gray-500 hover:text-red-400"}`,children:[d.jsx("div",{className:"p-2 rounded-full group-hover:bg-red-400/10 transition-colors",children:d.jsx(nv,{className:`w-5 h-5 ${e.isLiked?"fill-current":""}`})}),d.jsx("span",{className:"text-sm",children:e.likes})]}),d.jsx("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-blue-400 transition-colors group",children:d.jsx("div",{className:"p-2 rounded-full group-hover:bg-blue-400/10 transition-colors",children:d.jsx(kC,{className:"w-5 h-5"})})})]})]})]})}),c&&d.jsx(DC,{post:e,onClose:()=>u(!1)})]})},PC=({posts:e,onLike:t,onRepost:r,onCreatePost:n})=>{const{user:s}=De(),{characters:i,getFilteredPosts:o}=rt(),[a,l]=N.useState("user"),[c,u]=N.useState(!1),h=i.filter(v=>v.userId===(s==null?void 0:s.id)),f=o(a||"user"),p=v=>{l(v),u(!1)},g=()=>a==="user"?"Main Account":a&&typeof a=="object"?a.name:"Main Account",y=()=>a==="user"?s==null?void 0:s.avatar:a&&typeof a=="object"?a.avatar:s==null?void 0:s.avatar;return d.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[d.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"Home"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Character stories and adventures"})]}),d.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:[d.jsx(Ba,{className:"w-4 h-4"}),d.jsx("span",{children:"Post"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-3 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg px-4 py-3 transition-colors w-full",children:[d.jsx("img",{src:y(),alt:g(),className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("p",{className:"text-white font-medium",children:"Viewing as"}),d.jsx("p",{className:"text-gray-400 text-sm",children:g()})]}),d.jsx(xC,{className:`w-5 h-5 text-gray-400 transition-transform ${c?"rotate-180":""}`})]}),c&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-20",children:[d.jsxs("button",{onClick:()=>p("user"),className:`w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-700 transition-colors ${a==="user"?"bg-gray-700":""}`,children:[d.jsx("img",{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.displayName,className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-white font-medium",children:"Main Account"}),d.jsxs("p",{className:"text-gray-400 text-sm",children:["@",s==null?void 0:s.username]})]})]}),h.map(v=>d.jsxs("button",{onClick:()=>p(v),className:`w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-700 transition-colors ${a&&typeof a=="object"&&a.id===v.id?"bg-gray-700":""}`,children:[d.jsx("img",{src:v.avatar,alt:v.name,className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-white font-medium",children:v.name}),d.jsxs("p",{className:"text-gray-400 text-sm",children:["@",v.username]})]})]},v.id))]})]})]}),d.jsx("div",{className:"divide-y divide-gray-700/30",children:f.length===0?d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"Welcome to CharacterVerse!"}),d.jsx("p",{className:"text-gray-500 mb-6",children:a==="user"?"Follow other writers to see their posts here, or create your first post!":`Follow accounts or characters as ${g()} to see their posts here.`}),d.jsx("button",{onClick:n,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-full transition-colors",children:"Create Your First Post"})]}):f.map(v=>d.jsx(Fa,{post:v,onLike:()=>t(v.id),onRepost:()=>r(v.id)},v.id))})]})},BC=({characters:e,selectedCharacter:t,onCreatePost:r,onClose:n,replyToPost:s})=>{var x,b,C,k,E,_,B,S;const{user:i}=De(),[o,a]=N.useState(""),[l,c]=N.useState(t),[u,h]=N.useState("public"),[f,p]=N.useState(!1),g=e.filter(D=>D.userId===(i==null?void 0:i.id)),y=D=>{D.preventDefault(),o.trim()&&(r(o.trim(),l||void 0),a(""))},v=o.length,w=280,m=[{value:"public",label:"Public",icon:vC,desc:"Anyone can see this post"},{value:"followers",label:"Followers",icon:Qr,desc:"Only your followers can see this"},{value:"private",label:"Private",icon:Go,desc:"Only you can see this"}];return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:d.jsx(jr,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h2",{className:"text-lg font-bold text-white",children:s?"Reply to Post":"Create Post"}),d.jsx("div",{className:"w-10"})]}),s&&d.jsx("div",{className:"p-4 bg-gray-800/30 border-b border-gray-700/50",children:d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("img",{src:((x=s.character)==null?void 0:x.avatar)||((b=s.user)==null?void 0:b.avatar),alt:((C=s.character)==null?void 0:C.name)||((k=s.user)==null?void 0:k.displayName),className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx("span",{className:"font-medium text-white",children:((E=s.character)==null?void 0:E.name)||((_=s.user)==null?void 0:_.displayName)}),d.jsxs("span",{className:"text-gray-500 text-sm",children:["@",((B=s.character)==null?void 0:B.username)||((S=s.user)==null?void 0:S.username)]})]}),d.jsx("p",{className:"text-gray-300 text-sm",children:s.content})]})]})}),d.jsxs("form",{onSubmit:y,className:"p-6",children:[d.jsxs("div",{className:"flex space-x-4 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:l?d.jsx("img",{src:l.avatar,alt:l.name,className:"w-12 h-12 rounded-full object-cover"}):d.jsx("img",{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.displayName,className:"w-12 h-12 rounded-full object-cover"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"flex items-center space-x-2 mb-2",children:d.jsxs("select",{value:(l==null?void 0:l.id)||"user",onChange:D=>{if(D.target.value==="user")c(null);else{const F=g.find(R=>R.id===D.target.value);c(F||null)}},className:"bg-gray-800 text-white border border-gray-600 rounded-lg px-3 py-1 text-sm focus:border-purple-500 focus:outline-none",children:[d.jsx("option",{value:"user",children:"Post as yourself"}),g.map(D=>d.jsxs("option",{value:D.id,children:[D.name," - ",D.title]},D.id))]})}),l&&d.jsxs("div",{className:"inline-flex items-center space-x-2 text-xs text-purple-300 bg-purple-900/30 px-2 py-1 rounded-full mb-3",children:[d.jsx("span",{children:""}),d.jsx("span",{children:l.universe})]})]})]}),d.jsx("textarea",{value:o,onChange:D=>a(D.target.value),placeholder:s?"Write your reply...":l?`What's happening in ${l.name}'s world?`:"What's on your mind?",className:"w-full bg-transparent text-white text-xl placeholder-gray-500 resize-none border-none outline-none min-h-[120px]",maxLength:w}),d.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-700/50",children:[!s&&d.jsx("div",{className:"flex items-center space-x-4",children:d.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f,onChange:D=>p(D.target.checked),className:"text-purple-600 focus:ring-purple-500 rounded"}),d.jsx("span",{className:"text-gray-300 text-sm",children:"Create as thread"})]})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Who can see this?"}),d.jsx("div",{className:"flex space-x-2",children:m.map(D=>d.jsxs("button",{type:"button",onClick:()=>h(D.value),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-colors ${u===D.value?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[d.jsx(D.icon,{className:"w-4 h-4"}),d.jsx("span",{children:D.label})]},D.value))})]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:d.jsx(wC,{className:"w-5 h-5"})}),d.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:d.jsx(jC,{className:"w-5 h-5"})}),d.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:d.jsx(W0,{className:"w-5 h-5"})}),d.jsx("button",{type:"button",className:"p-2 text-purple-400 hover:bg-purple-400/10 rounded-full transition-colors",children:d.jsx(sv,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${v>w*.8?v>=w?"border-red-500":"border-yellow-500":"border-gray-600"}`,children:d.jsx("svg",{className:"w-full h-full transform -rotate-90",children:d.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"none",strokeWidth:"2",className:v>w*.8?v>=w?"stroke-red-500":"stroke-yellow-500":"stroke-purple-500",strokeDasharray:`${v/w*88} 88`})})}),d.jsx("span",{className:`text-sm ${v>=w?"text-red-400":"text-gray-500"}`,children:w-v})]}),d.jsx("button",{type:"submit",disabled:!o.trim()||v>w,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-full hover:from-purple-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Reply":f?"Start Thread":"Post"})]})]})]})]})})},TC=()=>{const{posts:e,characters:t,selectedCharacter:r,addPost:n,likePost:s,repostPost:i}=rt(),{user:o}=De(),[a,l]=N.useState(!1),c=(f,p)=>{o&&(n({content:f,characterId:p==null?void 0:p.id,character:p,userId:o.id,user:o,isThread:!1,visibility:"public",tags:f.match(/#\w+/g)||[]}),l(!1))},u=f=>{s(f)},h=f=>{i(f)};return d.jsxs(d.Fragment,{children:[d.jsx(PC,{posts:e,onLike:u,onRepost:h,onCreatePost:()=>l(!0)}),a&&d.jsx(BC,{characters:t,selectedCharacter:r,onCreatePost:c,onClose:()=>l(!1)})]})},Xo=({currentImage:e,onImageChange:t,type:r,className:n=""})=>{const{user:s}=De(),i=N.useRef(null),[o,a]=N.useState(!1),[l,c]=N.useState(!1),u=async y=>{if(!(!s||!y)){if(!y.type.startsWith("image/")){alert("Please select an image file");return}if(y.size>5*1024*1024){alert("File size must be less than 5MB");return}a(!0);try{const v=r==="avatar"?"avatars":"headers",w=`${s.id}/${r}_${Date.now()}.${y.name.split(".").pop()}`,m=await lC(y,v,w);m?t(m):alert("Failed to upload image")}catch(v){console.error("Upload error:",v),alert("Failed to upload image")}finally{a(!1)}}},h=()=>{var y;(y=i.current)==null||y.click()},f=y=>{y.preventDefault(),c(!1);const v=Array.from(y.dataTransfer.files);v.length>0&&u(v[0])},p=y=>{y.preventDefault(),c(!0)},g=y=>{y.preventDefault(),c(!1)};return d.jsxs("div",{className:`relative group ${n}`,children:[d.jsxs("div",{onClick:h,onDrop:f,onDragOver:p,onDragLeave:g,className:`relative cursor-pointer transition-all duration-200 ${l?"scale-105 opacity-80":""} ${r==="avatar"?"w-32 h-32 rounded-full":"w-full h-48 rounded-lg"} overflow-hidden bg-gray-800 border-2 border-dashed border-gray-600 hover:border-purple-500`,children:[e?d.jsx("img",{src:e,alt:r,className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ku,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),d.jsx("p",{className:"text-gray-400 text-sm",children:r==="avatar"?"Upload Avatar":"Upload Header"})]})}),d.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:o?d.jsxs("div",{className:"text-white text-center",children:[d.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full mx-auto mb-2"}),d.jsx("p",{className:"text-sm",children:"Uploading..."})]}):d.jsxs("div",{className:"text-white text-center",children:[d.jsx(AC,{className:"w-6 h-6 mx-auto mb-2"}),d.jsxs("p",{className:"text-sm",children:[e?"Change":"Upload"," ",r]})]})})]}),d.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:y=>{var w;const v=(w=y.target.files)==null?void 0:w[0];v&&u(v)},className:"hidden"}),l&&d.jsx("div",{className:"absolute inset-0 bg-purple-500/20 border-2 border-purple-500 rounded-lg flex items-center justify-center",children:d.jsx("p",{className:"text-purple-300 font-medium",children:"Drop image here"})})]})},FC=({character:e,onClose:t})=>{const{updateCharacter:r}=rt(),[n,s]=N.useState({username:e.username,name:e.name,title:e.title,bio:e.bio,universe:e.universe,verseTag:e.verseTag,traits:e.traits.join(", "),customColor:e.customColor,customFont:e.customFont,avatar:e.avatar,headerImage:e.headerImage}),i=a=>{a.preventDefault();const l={username:n.username,name:n.name,title:n.title,bio:n.bio,universe:n.universe,verseTag:n.verseTag,traits:n.traits.split(",").map(c=>c.trim()).filter(c=>c),customColor:n.customColor,customFont:n.customFont,avatar:n.avatar,headerImage:n.headerImage};r(e.id,l),t()},o=["Inter","Roboto","Open Sans","Lato","Montserrat","Playfair Display","Crimson Text","Merriweather","Courier New","Georgia"];return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-bold text-white",children:"Edit Character"}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:d.jsx(jr,{className:"w-6 h-6 text-gray-400"})})]}),d.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Header Image"}),d.jsx(Xo,{currentImage:n.headerImage,onImageChange:a=>s(l=>({...l,headerImage:a})),type:"header"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Avatar"}),d.jsx(Xo,{currentImage:n.avatar,onImageChange:a=>s(l=>({...l,avatar:a})),type:"avatar",className:"w-32"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Username *"}),d.jsx("input",{type:"text",value:n.username,onChange:a=>s(l=>({...l,username:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Name *"}),d.jsx("input",{type:"text",value:n.name,onChange:a=>s(l=>({...l,name:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title/Role *"}),d.jsx("input",{type:"text",value:n.title,onChange:a=>s(l=>({...l,title:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Universe *"}),d.jsx("input",{type:"text",value:n.universe,onChange:a=>s(l=>({...l,universe:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Verse Tag *"}),d.jsx("input",{type:"text",value:n.verseTag,onChange:a=>s(l=>({...l,verseTag:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Color"}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"color",value:n.customColor,onChange:a=>s(l=>({...l,customColor:a.target.value})),className:"w-12 h-12 rounded-lg border border-gray-600 bg-gray-800"}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",value:n.customColor,onChange:a=>s(l=>({...l,customColor:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio *"}),d.jsx("textarea",{value:n.bio,onChange:a=>s(l=>({...l,bio:a.target.value})),rows:4,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Traits (comma-separated)"}),d.jsx("input",{type:"text",value:n.traits,onChange:a=>s(l=>({...l,traits:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Font"}),d.jsx("select",{value:n.customFont,onChange:a=>s(l=>({...l,customFont:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",children:o.map(a=>d.jsx("option",{value:a,style:{fontFamily:a},children:a},a))})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[d.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Save Changes"})]})]})]})})},RC=({character:e,onClose:t})=>{const{user:r}=De(),{posts:n,followCharacter:s,unfollowCharacter:i,likePost:o,repostPost:a}=rt(),[l,c]=N.useState("posts"),u=e.userId===(r==null?void 0:r.id),h=e.followers.includes((r==null?void 0:r.id)||""),f=n.filter(v=>v.characterId===e.id),p=()=>{h?i(e.id):s(e.id)},g=v=>{o(v)},y=v=>{a(v)};return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-bold text-white",children:"Character Profile"}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:d.jsx(jr,{className:"w-6 h-6 text-gray-400"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"h-48 relative",style:{backgroundColor:`${e.customColor}30`},children:d.jsx("img",{src:e.headerImage,alt:"Character header",className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"relative px-6 pb-6",children:[d.jsxs("div",{className:"flex items-end justify-between -mt-16 mb-4",children:[d.jsx("img",{src:e.avatar,alt:e.name,className:"w-32 h-32 rounded-full object-cover ring-4 ring-gray-900 bg-gray-900 relative z-10"}),!u&&d.jsx("button",{onClick:p,className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors ${h?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:h?d.jsxs(d.Fragment,{children:[d.jsx(Qo,{className:"w-4 h-4"}),d.jsx("span",{children:"Unfollow"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Gr,{className:"w-4 h-4"}),d.jsx("span",{children:"Follow"})]})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-white",children:e.name}),d.jsx("p",{className:"text-purple-300 text-lg",children:e.title}),d.jsxs("p",{className:"text-gray-400",children:["@",e.username]})]}),d.jsx("p",{className:"text-gray-300",children:e.bio}),d.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(sv,{className:"w-4 h-4"}),d.jsx("span",{children:e.universe})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(W0,{className:"w-4 h-4"}),d.jsxs("span",{children:["Created ",e.createdAt.toLocaleDateString()]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.customColor}}),d.jsxs("span",{children:["#",e.verseTag]})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.traits.map(v=>d.jsx("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-300 text-xs rounded-full",children:v},v))}),d.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[d.jsxs("button",{onClick:()=>c("following"),className:"hover:text-white transition-colors",children:[d.jsx("span",{className:"font-bold text-white",children:e.following.length}),d.jsx("span",{className:"text-gray-400 ml-1",children:"Following"})]}),d.jsxs("button",{onClick:()=>c("followers"),className:"hover:text-white transition-colors",children:[d.jsx("span",{className:"font-bold text-white",children:e.followers.length}),d.jsx("span",{className:"text-gray-400 ml-1",children:"Followers"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-bold text-white",children:f.length}),d.jsx("span",{className:"text-gray-400 ml-1",children:"Posts"})]})]})]})]})]}),d.jsx("div",{className:"border-b border-gray-700/50 bg-black/20 sticky top-16 z-10",children:d.jsx("div",{className:"flex",children:[{key:"posts",label:"Posts",count:f.length},{key:"followers",label:"Followers",count:e.followers.length},{key:"following",label:"Following",count:e.following.length}].map(v=>d.jsxs("button",{onClick:()=>c(v.key),className:`flex-1 px-4 py-4 text-center transition-colors relative ${l===v.key?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,children:[d.jsx("span",{className:"font-medium",children:v.label}),v.count>0&&d.jsx("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-1 rounded-full",children:v.count})]},v.key))})}),d.jsxs("div",{className:"p-6",children:[l==="posts"&&d.jsx("div",{className:"space-y-4",children:f.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No posts yet"})}):f.map(v=>d.jsx(Fa,{post:v,onLike:()=>g(v.id),onRepost:()=>y(v.id)},v.id))}),l==="followers"&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"Followers list coming soon"})}),l==="following"&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"Following list coming soon"})})]})]})})},go=({character:e,onEdit:t,onDelete:r,showActions:n=!0,showFollowButton:s=!1})=>{const{user:i}=De(),{deleteCharacter:o,followCharacter:a,unfollowCharacter:l}=rt(),[c,u]=N.useState(!1),[h,f]=N.useState(!1),p=e.userId===(i==null?void 0:i.id),g=e.followers.includes((i==null?void 0:i.id)||""),y=()=>{t?t():u(!0)},v=()=>{window.confirm("Are you sure you want to delete this character?")&&(r?r():o(e.id))},w=()=>{g?l(e.id):a(e.id)},m=()=>{f(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"rounded-2xl border border-gray-700/50 overflow-hidden hover:bg-gray-700/30 transition-colors cursor-pointer",style:{backgroundColor:`${e.customColor}20`},onClick:m,children:[d.jsxs("div",{className:"relative h-32",children:[d.jsx("img",{src:e.headerImage,alt:`${e.name} header`,className:"w-full h-full object-cover"}),n&&p&&d.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[d.jsx("button",{onClick:x=>{x.stopPropagation(),y()},className:"p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:d.jsx(G0,{className:"w-4 h-4 text-white"})}),d.jsx("button",{onClick:x=>{x.stopPropagation(),v()},className:"p-2 bg-black/50 hover:bg-red-600/70 rounded-full transition-colors",children:d.jsx(Ta,{className:"w-4 h-4 text-white"})})]})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center space-x-4 -mt-12 mb-4",children:[d.jsx("img",{src:e.avatar,alt:e.name,className:"w-16 h-16 rounded-full object-cover ring-4 ring-gray-800 bg-gray-800 relative z-10"}),d.jsx("div",{className:"flex items-center space-x-2 mt-8",children:d.jsxs("span",{className:"text-purple-300 text-sm",children:["#",e.verseTag]})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-white font-bold text-lg",children:e.name}),d.jsx("p",{className:"text-purple-300",children:e.title}),d.jsxs("p",{className:"text-gray-400 text-sm",children:["@",e.username]})]}),d.jsx("p",{className:"text-gray-300 text-sm line-clamp-3",children:e.bio}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.traits.slice(0,3).map(x=>d.jsx("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-300 text-xs rounded-full",children:x},x)),e.traits.length>3&&d.jsxs("span",{className:"px-2 py-1 bg-gray-700/50 text-gray-400 text-xs rounded-full",children:["+",e.traits.length-3," more"]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-700/50",children:[d.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[d.jsxs("span",{children:[e.followers.length," followers"]}),d.jsxs("span",{children:[e.following.length," following"]})]}),s&&!p&&d.jsx("button",{onClick:x=>{x.stopPropagation(),w()},className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${g?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:g?d.jsxs(d.Fragment,{children:[d.jsx(Qo,{className:"w-3 h-3"}),d.jsx("span",{children:"Unfollow"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Gr,{className:"w-3 h-3"}),d.jsx("span",{children:"Follow"})]})}),d.jsxs("button",{onClick:x=>{x.stopPropagation(),m()},className:"flex items-center space-x-1 px-3 py-1 bg-gray-700 text-white rounded-full text-sm hover:bg-gray-600 transition-colors",children:[d.jsx(q0,{className:"w-3 h-3"}),d.jsx("span",{children:"View"})]})]})]})]})]}),c&&d.jsx(FC,{character:e,onClose:()=>u(!1)}),h&&d.jsx(RC,{character:e,onClose:()=>f(!1)})]})},OC=()=>{const{user:e}=De(),{posts:t,characters:r,searchContent:n,getRecommendations:s,likePost:i,repostPost:o,followUser:a,unfollowUser:l}=rt(),[c,u]=N.useState(""),[h,f]=N.useState("trending"),[p,g]=N.useState({posts:[],characters:[],users:[]}),[y,v]=N.useState({writers:[],characters:[]});N.useEffect(()=>{const _=s();v(_)},[s]),N.useEffect(()=>{if(c.trim()){const _=n(c);g(_),f("search")}},[c,n]);const w=t.flatMap(_=>_.tags).reduce((_,B)=>(_[B]=(_[B]||0)+1,_),{}),m=Object.entries(w).sort(([,_],[,B])=>B-_).slice(0,10),x=r.map(_=>_.verseTag).filter((_,B,S)=>S.indexOf(_)===B).slice(0,8),b=Array.from(new Map(t.filter(_=>_.user&&_.userId!==(e==null?void 0:e.id)).map(_=>_.user).map(_=>[_.id,_])).values()).slice(0,10),C=_=>{i(_)},k=_=>{o(_)},E=_=>{e!=null&&e.following.includes(_)?l(_):a(_)};return d.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[d.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Explore"}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",value:c,onChange:_=>u(_.target.value),placeholder:"Search posts, characters, tags, or writers...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-10 pr-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),d.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:[{key:"trending",label:"Trending",icon:zf},{key:"tags",label:"Tags",icon:ic},{key:"characters",label:"Characters",icon:Qr},{key:"writers",label:"Writers",icon:Gr},...c?[{key:"search",label:"Search Results",icon:Kn}]:[]].map(_=>d.jsxs("button",{onClick:()=>f(_.key),className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors whitespace-nowrap ${h===_.key?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[d.jsx(_.icon,{className:"w-4 h-4"}),d.jsx("span",{children:_.label})]},_.key))})]}),d.jsxs("div",{className:"p-6",children:[h==="trending"&&d.jsxs("div",{className:"space-y-6",children:[y.characters.length>0&&d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[d.jsx(SC,{className:"w-5 h-5 text-purple-400"}),d.jsx("span",{children:"Recommended for You"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.characters.slice(0,4).map(_=>d.jsx(go,{character:_,showActions:!1,showFollowButton:!0},_.id))})]}),d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[d.jsx(zf,{className:"w-5 h-5 text-purple-400"}),d.jsx("span",{children:"Trending Now"})]}),d.jsx("div",{className:"space-y-3",children:m.length>0?m.map(([_,B])=>d.jsx("div",{className:"flex items-center justify-between p-3 hover:bg-gray-700/30 rounded-lg cursor-pointer transition-colors",children:d.jsxs("div",{children:[d.jsxs("p",{className:"text-purple-400 font-medium",children:["#",_]}),d.jsxs("p",{className:"text-gray-500 text-sm",children:[B," posts"]})]})},_)):d.jsx("p",{className:"text-gray-400 text-center py-4",children:"No trending tags yet"})})]}),d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Popular Verses"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:x.map(_=>d.jsxs("div",{className:"bg-purple-900/30 rounded-lg p-3 hover:bg-purple-900/50 cursor-pointer transition-colors",children:[d.jsxs("p",{className:"text-purple-300 font-medium",children:["#",_]}),d.jsxs("p",{className:"text-gray-400 text-sm",children:[r.filter(B=>B.verseTag===_).length," characters"]})]},_))})]})]}),h==="tags"&&d.jsx("div",{className:"space-y-4",children:m.length>0?m.map(([_,B])=>d.jsx("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50 hover:bg-gray-700/30 cursor-pointer transition-colors",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"text-purple-400 font-bold text-lg",children:["#",_]}),d.jsxs("p",{className:"text-gray-400",children:[B," posts"]})]}),d.jsx(ic,{className:"w-6 h-6 text-purple-400"})]})},_)):d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ic,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-400",children:"No tags found"})]})}),h==="characters"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.length>0?r.map(_=>d.jsx(go,{character:_,showActions:!1,showFollowButton:_.userId!==(e==null?void 0:e.id)},_.id)):d.jsxs("div",{className:"col-span-full text-center py-12",children:[d.jsx(Qr,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-400",children:"No characters found"})]})}),h==="writers"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.length>0?b.map(_=>d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50 hover:bg-gray-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-16 h-16 rounded-full object-cover ring-2 ring-purple-500/30"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-white font-bold text-lg",children:_.displayName}),d.jsxs("p",{className:"text-gray-400",children:["@",_.username]}),d.jsxs("p",{className:"text-purple-300 text-sm",children:["#",_.writersTag]})]}),d.jsx("button",{onClick:()=>E(_.id),className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${e!=null&&e.following.includes(_.id)?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:e!=null&&e.following.includes(_.id)?d.jsxs(d.Fragment,{children:[d.jsx(Qo,{className:"w-3 h-3"}),d.jsx("span",{children:"Unfollow"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Gr,{className:"w-3 h-3"}),d.jsx("span",{children:"Follow"})]})})]}),d.jsx("p",{className:"text-gray-300 text-sm",children:_.bio})]},_.id)):d.jsxs("div",{className:"col-span-full text-center py-12",children:[d.jsx(Gr,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-400",children:"No writers found"})]})}),h==="search"&&c&&d.jsxs("div",{className:"space-y-6",children:[p.posts.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Posts"}),d.jsx("div",{className:"space-y-4",children:p.posts.map(_=>d.jsx(Fa,{post:_,onLike:()=>C(_.id),onRepost:()=>k(_.id)},_.id))})]}),p.characters.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Characters"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.characters.map(_=>d.jsx(go,{character:_,showActions:!1,showFollowButton:_.userId!==(e==null?void 0:e.id)},_.id))})]}),p.users.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Writers"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.users.map(_=>d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50 hover:bg-gray-700/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-16 h-16 rounded-full object-cover ring-2 ring-purple-500/30"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-white font-bold text-lg",children:_.displayName}),d.jsxs("p",{className:"text-gray-400",children:["@",_.username]}),d.jsxs("p",{className:"text-purple-300 text-sm",children:["#",_.writersTag]})]}),d.jsx("button",{onClick:()=>E(_.id),className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${e!=null&&e.following.includes(_.id)?"bg-gray-600 text-white hover:bg-gray-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:e!=null&&e.following.includes(_.id)?d.jsxs(d.Fragment,{children:[d.jsx(Qo,{className:"w-3 h-3"}),d.jsx("span",{children:"Unfollow"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Gr,{className:"w-3 h-3"}),d.jsx("span",{children:"Follow"})]})})]}),d.jsx("p",{className:"text-gray-300 text-sm",children:_.bio})]},_.id))})]}),p.posts.length===0&&p.characters.length===0&&p.users.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Kn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No results found"}),d.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms"})]})]})]})]})},LC="Left",IC="Right",MC="Up",UC="Down",Rn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Su={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Hf="mousemove",Wf="mouseup",$C="touchend",VC="touchmove",zC="touchstart";function HC(e,t,r,n){return e>t?r>0?IC:LC:n>0?UC:MC}function qf(e,t){if(t===0)return e;const r=Math.PI/180*t,n=e[0]*Math.cos(r)+e[1]*Math.sin(r),s=e[1]*Math.cos(r)-e[0]*Math.sin(r);return[n,s]}function WC(e,t){const r=u=>{const h="touches"in u;h&&u.touches.length>1||e((f,p)=>{p.trackMouse&&!h&&(document.addEventListener(Hf,n),document.addEventListener(Wf,o));const{clientX:g,clientY:y}=h?u.touches[0]:u,v=qf([g,y],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:u}),Object.assign(Object.assign(Object.assign({},f),Su),{initial:v.slice(),xy:v,start:u.timeStamp||0})})},n=u=>{e((h,f)=>{const p="touches"in u;if(p&&u.touches.length>1)return h;if(u.timeStamp-h.start>f.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:g,clientY:y}=p?u.touches[0]:u,[v,w]=qf([g,y],f.rotationAngle),m=v-h.xy[0],x=w-h.xy[1],b=Math.abs(m),C=Math.abs(x),k=(u.timeStamp||0)-h.start,E=Math.sqrt(b*b+C*C)/(k||1),_=[m/(k||1),x/(k||1)],B=HC(b,C,m,x),S=typeof f.delta=="number"?f.delta:f.delta[B.toLowerCase()]||Rn.delta;if(b<S&&C<S&&!h.swiping)return h;const D={absX:b,absY:C,deltaX:m,deltaY:x,dir:B,event:u,first:h.first,initial:h.initial,velocity:E,vxvy:_};D.first&&f.onSwipeStart&&f.onSwipeStart(D),f.onSwiping&&f.onSwiping(D);let F=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${B}`])&&(F=!0),F&&f.preventScrollOnSwipe&&f.trackTouch&&u.cancelable&&u.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:D,swiping:!0})})},s=u=>{e((h,f)=>{let p;if(h.swiping&&h.eventData){if(u.timeStamp-h.start<f.swipeDuration){p=Object.assign(Object.assign({},h.eventData),{event:u}),f.onSwiped&&f.onSwiped(p);const g=f[`onSwiped${p.dir}`];g&&g(p)}}else f.onTap&&f.onTap({event:u});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:u}),Object.assign(Object.assign(Object.assign({},h),Su),{eventData:p})})},i=()=>{document.removeEventListener(Hf,n),document.removeEventListener(Wf,o)},o=u=>{i(),s(u)},a=(u,h)=>{let f=()=>{};if(u&&u.addEventListener){const p=Object.assign(Object.assign({},Rn.touchEventOptions),h.touchEventOptions),g=[[zC,r,p],[VC,n,Object.assign(Object.assign({},p),h.preventScrollOnSwipe?{passive:!1}:{})],[$C,s,p]];g.forEach(([y,v,w])=>u.addEventListener(y,v,w)),f=()=>g.forEach(([y,v])=>u.removeEventListener(y,v))}return f},c={ref:u=>{u!==null&&e((h,f)=>{if(h.el===u)return h;const p={};return h.el&&h.el!==u&&h.cleanUpTouch&&(h.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&u&&(p.cleanUpTouch=a(u,f)),Object.assign(Object.assign(Object.assign({},h),{el:u}),p)})}};return t.trackMouse&&(c.onMouseDown=r),[c,a]}function qC(e,t,r,n){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==r.preventScrollOnSwipe||t.touchEventOptions.passive!==r.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})}function KC(e){const{trackMouse:t}=e,r=N.useRef(Object.assign({},Su)),n=N.useRef(Object.assign({},Rn)),s=N.useRef(Object.assign({},n.current));s.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},Rn),e);let i;for(i in Rn)n.current[i]===void 0&&(n.current[i]=Rn[i]);const[o,a]=N.useMemo(()=>WC(l=>r.current=l(r.current,n.current),{trackMouse:t}),[t]);return r.current=qC(r.current,n.current,s.current,a),o}const dv=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ra=N.createContext({}),Oa=N.createContext(null),La=typeof document<"u",Q0=La?N.useLayoutEffect:N.useEffect,hv=N.createContext({strict:!1}),X0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),GC="framerAppearId",fv="data-"+X0(GC);function QC(e,t,r,n){const{visualElement:s}=N.useContext(Ra),i=N.useContext(hv),o=N.useContext(Oa),a=N.useContext(dv).reducedMotion,l=N.useRef();n=n||i.renderer,!l.current&&n&&(l.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;N.useInsertionEffect(()=>{c&&c.update(r,o)});const u=N.useRef(!!(r[fv]&&!window.HandoffComplete));return Q0(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),N.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function On(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XC(e,t,r){return N.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):On(r)&&(r.current=n))},[t])}function fi(e){return typeof e=="string"||Array.isArray(e)}function Ia(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Y0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Z0=["initial",...Y0];function Ma(e){return Ia(e.animate)||Z0.some(t=>fi(e[t]))}function pv(e){return!!(Ma(e)||e.variants)}function YC(e,t){if(Ma(e)){const{initial:r,animate:n}=e;return{initial:r===!1||fi(r)?r:void 0,animate:fi(n)?n:void 0}}return e.inherit!==!1?t:{}}function ZC(e){const{initial:t,animate:r}=YC(e,N.useContext(Ra));return N.useMemo(()=>({initial:t,animate:r}),[Kf(t),Kf(r)])}function Kf(e){return Array.isArray(e)?e.join(" "):e}const Gf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pi={};for(const e in Gf)pi[e]={isEnabled:t=>Gf[e].some(r=>!!t[r])};function JC(e){for(const t in e)pi[t]={...pi[t],...e[t]}}const J0=N.createContext({}),xv=N.createContext({}),e8=Symbol.for("motionComponentSymbol");function t8({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&JC(e);function i(a,l){let c;const u={...N.useContext(dv),...a,layoutId:r8(a)},{isStatic:h}=u,f=ZC(a),p=n(a,h);if(!h&&La){f.visualElement=QC(s,p,u,t);const g=N.useContext(xv),y=N.useContext(hv).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,y,e,g))}return N.createElement(Ra.Provider,{value:f},c&&f.visualElement?N.createElement(c,{visualElement:f.visualElement,...u}):null,r(s,a,XC(p,f.visualElement,l),p,h,f.visualElement))}const o=N.forwardRef(i);return o[e8]=s,o}function r8({layoutId:e}){const t=N.useContext(J0).id;return t&&e!==void 0?t+"-"+e:e}function n8(e){function t(n,s={}){return t8(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const s8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ed(e){return typeof e!="string"||e.includes("-")?!1:!!(s8.indexOf(e)>-1||/[A-Z]/.test(e))}const Yo={};function i8(e){Object.assign(Yo,e)}const ji=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fn=new Set(ji);function mv(e,{layout:t,layoutId:r}){return fn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Yo[e]||e==="opacity")}const tt=e=>!!(e&&e.getVelocity),o8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a8=ji.length;function l8(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<a8;o++){const a=ji[o];if(e[a]!==void 0){const l=o8[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const gv=e=>t=>typeof t=="string"&&t.startsWith(e),vv=gv("--"),Au=gv("var(--"),c8=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,u8=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Sr=(e,t,r)=>Math.min(Math.max(r,e),t),pn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zs={...pn,transform:e=>Sr(0,1,e)},eo={...pn,default:1},Hs=e=>Math.round(e*1e5)/1e5,Ua=/(-)?([\d]*\.?[\d])+/g,yv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,d8=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Si(e){return typeof e=="string"}const Ai=e=>({test:t=>Si(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),sr=Ai("deg"),Ot=Ai("%"),Q=Ai("px"),h8=Ai("vh"),f8=Ai("vw"),Qf={...Ot,parse:e=>Ot.parse(e)/100,transform:e=>Ot.transform(e*100)},Xf={...pn,transform:Math.round},wv={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:sr,rotateX:sr,rotateY:sr,rotateZ:sr,scale:eo,scaleX:eo,scaleY:eo,scaleZ:eo,skew:sr,skewX:sr,skewY:sr,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:zs,originX:Qf,originY:Qf,originZ:Q,zIndex:Xf,fillOpacity:zs,strokeOpacity:zs,numOctaves:Xf};function td(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const h in t){const f=t[h];if(vv(h)){i[h]=f;continue}const p=wv[h],g=u8(f,p);if(fn.has(h)){if(l=!0,o[h]=g,!u)continue;f!==(p.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=g):s[h]=g}if(t.transform||(l||n?s.transform=l8(e.transform,r,u,n):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;s.transformOrigin=`${h} ${f} ${p}`}}const rd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bv(e,t,r){for(const n in t)!tt(t[n])&&!mv(n,r)&&(e[n]=t[n])}function p8({transformTemplate:e},t,r){return N.useMemo(()=>{const n=rd();return td(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function x8(e,t,r){const n=e.style||{},s={};return bv(s,n,e),Object.assign(s,p8(e,t,r)),e.transformValues?e.transformValues(s):s}function m8(e,t,r){const n={},s=x8(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const g8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||g8.has(e)}let _v=e=>!Zo(e);function v8(e){e&&(_v=t=>t.startsWith("on")?!Zo(t):e(t))}try{v8(require("@emotion/is-prop-valid").default)}catch{}function y8(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(_v(s)||r===!0&&Zo(s)||!t&&!Zo(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function Yf(e,t,r){return typeof e=="string"?e:Q.transform(t+r*e)}function w8(e,t,r){const n=Yf(t,e.x,e.width),s=Yf(r,e.y,e.height);return`${n} ${s}`}const b8={offset:"stroke-dashoffset",array:"stroke-dasharray"},_8={offset:"strokeDashoffset",array:"strokeDasharray"};function C8(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?b8:_8;e[i.offset]=Q.transform(-n);const o=Q.transform(t),a=Q.transform(r);e[i.array]=`${o} ${a}`}function nd(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h,f){if(td(e,c,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:y}=e;p.transform&&(y&&(g.transform=p.transform),delete p.transform),y&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=w8(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&C8(p,o,a,l,!1)}const Cv=()=>({...rd(),attrs:{}}),sd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function k8(e,t,r,n){const s=N.useMemo(()=>{const i=Cv();return nd(i,t,{enableHardwareAcceleration:!1},sd(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};bv(i,e.style,e),s.style={...i,...s.style}}return s}function E8(e=!1){return(r,n,s,{latestValues:i},o)=>{const l=(ed(r)?k8:m8)(n,i,o,r),u={...y8(n,typeof r=="string",e),...l,ref:s},{children:h}=n,f=N.useMemo(()=>tt(h)?h.get():h,[h]);return N.createElement(r,{...u,children:f})}}function kv(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const Ev=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jv(e,t,r,n){kv(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Ev.has(s)?s:X0(s),t.attrs[s])}function id(e,t){const{style:r}=e,n={};for(const s in r)(tt(r[s])||t.style&&tt(t.style[s])||mv(s,e))&&(n[s]=r[s]);return n}function Sv(e,t){const r=id(e,t);for(const n in e)if(tt(e[n])||tt(t[n])){const s=ji.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function od(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function Av(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jo=e=>Array.isArray(e),j8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),S8=e=>Jo(e)?e[e.length-1]||0:e;function vo(e){const t=tt(e)?e.get():e;return j8(t)?t.toValue():t}function A8({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:N8(n,s,i,e),renderState:t()};return r&&(o.mount=a=>r(n,a,o)),o}const Nv=e=>(t,r)=>{const n=N.useContext(Ra),s=N.useContext(Oa),i=()=>A8(e,t,n,s);return r?i():Av(i)};function N8(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=vo(i[f]);let{initial:o,animate:a}=e;const l=Ma(e),c=pv(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!Ia(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const g=od(e,p);if(!g)return;const{transitionEnd:y,transition:v,...w}=g;for(const m in w){let x=w[m];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(s[m]=x)}for(const m in y)s[m]=y[m]}),s}const we=e=>e;class Zf{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function D8(e){let t=new Zf,r=new Zf,n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&s,f=h?t:r;return c&&o.add(l),f.add(l)&&h&&s&&(n=t.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let c=0;c<n;c++){const u=t.order[c];u(l),o.has(u)&&(a.schedule(u),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const to=["prepare","read","update","preRender","render","postRender"],P8=40;function B8(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=to.reduce((h,f)=>(h[f]=D8(()=>r=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,P8),1),s.timestamp=h,s.isProcessing=!0,to.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(a))},l=()=>{r=!0,n=!0,s.isProcessing||e(a)};return{schedule:to.reduce((h,f)=>{const p=i[f];return h[f]=(g,y=!1,v=!1)=>(r||l(),p.schedule(g,y,v)),h},{}),cancel:h=>to.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:ae,cancel:Zt,state:Ie,steps:oc}=B8(typeof requestAnimationFrame<"u"?requestAnimationFrame:we,!0),T8={useVisualState:Nv({scrapeMotionValuesFromProps:Sv,createRenderState:Cv,onMount:(e,t,{renderState:r,latestValues:n})=>{ae.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ae.render(()=>{nd(r,n,{enableHardwareAcceleration:!1},sd(t.tagName),e.transformTemplate),jv(t,r)})}})},F8={useVisualState:Nv({scrapeMotionValuesFromProps:id,createRenderState:rd})};function R8(e,{forwardMotionProps:t=!1},r,n){return{...ed(e)?T8:F8,preloadedFeatures:r,useRender:E8(t),createVisualElement:n,Component:e}}function Ht(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Dv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function $a(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const O8=e=>t=>Dv(t)&&e(t,$a(t));function qt(e,t,r,n){return Ht(e,t,O8(r),n)}const L8=(e,t)=>r=>t(e(r)),Cr=(...e)=>e.reduce(L8);function Pv(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Jf=Pv("dragHorizontal"),ep=Pv("dragVertical");function Bv(e){let t=!1;if(e==="y")t=ep();else if(e==="x")t=Jf();else{const r=Jf(),n=ep();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Tv(){const e=Bv(!0);return e?(e(),!1):!0}class Fr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function tp(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Tv())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[n]&&ae.update(()=>a[n](i,o))};return qt(e.current,r,s,{passive:!e.getProps()[n]})}class I8 extends Fr{mount(){this.unmount=Cr(tp(this.node,!0),tp(this.node,!1))}unmount(){}}class M8 extends Fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cr(Ht(this.node.current,"focus",()=>this.onFocus()),Ht(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Fv=(e,t)=>t?e===t?!0:Fv(e,t.parentElement):!1;function ac(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,$a(r))}class U8 extends Fr{constructor(){super(...arguments),this.removeStartListeners=we,this.removeEndListeners=we,this.removeAccessibleListeners=we,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=qt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps();ae.update(()=>{!h&&!Fv(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=qt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Cr(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ac("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ae.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ht(this.node.current,"keyup",o),ac("down",(a,l)=>{this.startPress(a,l)})},r=Ht(this.node.current,"keydown",t),n=()=>{this.isPressing&&ac("cancel",(i,o)=>this.cancelPress(i,o))},s=Ht(this.node.current,"blur",n);this.removeAccessibleListeners=Cr(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ae.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Tv()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ae.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=qt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ht(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Cr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Nu=new WeakMap,lc=new WeakMap,$8=e=>{const t=Nu.get(e.target);t&&t(e)},V8=e=>{e.forEach($8)};function z8({root:e,...t}){const r=e||document;lc.has(r)||lc.set(r,{});const n=lc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(V8,{root:e,...t})),n[s]}function H8(e,t,r){const n=z8(t);return Nu.set(e,r),n.observe(e),()=>{Nu.delete(e),n.unobserve(e)}}const W8={some:0,all:1};class q8 extends Fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:W8[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return H8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(K8(t,r))&&this.startObserver()}unmount(){}}function K8({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const G8={inView:{Feature:q8},tap:{Feature:U8},focus:{Feature:M8},hover:{Feature:I8}};function Rv(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Q8(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function X8(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Va(e,t,r){const n=e.getProps();return od(n,t,r!==void 0?r:n.custom,Q8(e),X8(e))}let ea=we;const en=e=>e*1e3,Kt=e=>e/1e3,Y8={current:!1},Ov=e=>Array.isArray(e)&&typeof e[0]=="number";function Lv(e){return!!(!e||typeof e=="string"&&Iv[e]||Ov(e)||Array.isArray(e)&&e.every(Lv))}const Ds=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Iv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ds([0,.65,.55,1]),circOut:Ds([.55,0,1,.45]),backIn:Ds([.31,.01,.66,-.59]),backOut:Ds([.33,1.53,.69,.99])};function Mv(e){if(e)return Ov(e)?Ds(e):Array.isArray(e)?e.map(Mv):Iv[e]}function Z8(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[t]:r};l&&(c.offset=l);const u=Mv(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function J8(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const Uv=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,ek=1e-7,tk=12;function rk(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=Uv(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>ek&&++a<tk);return o}function Ni(e,t,r,n){if(e===t&&r===n)return we;const s=i=>rk(i,0,1,e,r);return i=>i===0||i===1?i:Uv(s(i),t,n)}const nk=Ni(.42,0,1,1),sk=Ni(0,0,.58,1),$v=Ni(.42,0,.58,1),ik=e=>Array.isArray(e)&&typeof e[0]!="number",Vv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zv=e=>t=>1-e(1-t),ad=e=>1-Math.sin(Math.acos(e)),Hv=zv(ad),ok=Vv(ad),Wv=Ni(.33,1.53,.69,.99),ld=zv(Wv),ak=Vv(ld),lk=e=>(e*=2)<1?.5*ld(e):.5*(2-Math.pow(2,-10*(e-1))),rp={linear:we,easeIn:nk,easeInOut:$v,easeOut:sk,circIn:ad,circInOut:ok,circOut:Hv,backIn:ld,backInOut:ak,backOut:Wv,anticipate:lk},np=e=>{if(Array.isArray(e)){ea(e.length===4);const[t,r,n,s]=e;return Ni(t,r,n,s)}else if(typeof e=="string")return ea(rp[e]!==void 0),rp[e];return e},cd=(e,t)=>r=>!!(Si(r)&&d8.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),qv=(e,t,r)=>n=>{if(!Si(n))return n;const[s,i,o,a]=n.match(Ua);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ck=e=>Sr(0,255,e),cc={...pn,transform:e=>Math.round(ck(e))},Xr={test:cd("rgb","red"),parse:qv("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+cc.transform(e)+", "+cc.transform(t)+", "+cc.transform(r)+", "+Hs(zs.transform(n))+")"};function uk(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Du={test:cd("#"),parse:uk,transform:Xr.transform},Ln={test:cd("hsl","hue"),parse:qv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ot.transform(Hs(t))+", "+Ot.transform(Hs(r))+", "+Hs(zs.transform(n))+")"},ze={test:e=>Xr.test(e)||Du.test(e)||Ln.test(e),parse:e=>Xr.test(e)?Xr.parse(e):Ln.test(e)?Ln.parse(e):Du.parse(e),transform:e=>Si(e)?e:e.hasOwnProperty("red")?Xr.transform(e):Ln.transform(e)},pe=(e,t,r)=>-r*e+r*t+e;function uc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function dk({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=uc(l,a,e+1/3),i=uc(l,a,e),o=uc(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const dc=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},hk=[Du,Xr,Ln],fk=e=>hk.find(t=>t.test(e));function sp(e){const t=fk(e);let r=t.parse(e);return t===Ln&&(r=dk(r)),r}const Kv=(e,t)=>{const r=sp(e),n=sp(t),s={...r};return i=>(s.red=dc(r.red,n.red,i),s.green=dc(r.green,n.green,i),s.blue=dc(r.blue,n.blue,i),s.alpha=pe(r.alpha,n.alpha,i),Xr.transform(s))};function pk(e){var t,r;return isNaN(e)&&Si(e)&&(((t=e.match(Ua))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(yv))===null||r===void 0?void 0:r.length)||0)>0}const Gv={regex:c8,countKey:"Vars",token:"${v}",parse:we},Qv={regex:yv,countKey:"Colors",token:"${c}",parse:ze.parse},Xv={regex:Ua,countKey:"Numbers",token:"${n}",parse:pn.parse};function hc(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function ta(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&hc(r,Gv),hc(r,Qv),hc(r,Xv),r}function Yv(e){return ta(e).values}function Zv(e){const{values:t,numColors:r,numVars:n,tokenised:s}=ta(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<n?a=a.replace(Gv.token,o[l]):l<n+r?a=a.replace(Qv.token,ze.transform(o[l])):a=a.replace(Xv.token,Hs(o[l]));return a}}const xk=e=>typeof e=="number"?0:e;function mk(e){const t=Yv(e);return Zv(e)(t.map(xk))}const Ar={test:pk,parse:Yv,createTransformer:Zv,getAnimatableNone:mk},Jv=(e,t)=>r=>`${r>0?t:e}`;function ey(e,t){return typeof e=="number"?r=>pe(e,t,r):ze.test(e)?Kv(e,t):e.startsWith("var(")?Jv(e,t):ry(e,t)}const ty=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>ey(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},gk=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=ey(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},ry=(e,t)=>{const r=Ar.createTransformer(t),n=ta(e),s=ta(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Cr(ty(n.values,s.values),r):Jv(e,t)},xi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},ip=(e,t)=>r=>pe(e,t,r);function vk(e){return typeof e=="number"?ip:typeof e=="string"?ze.test(e)?Kv:ry:Array.isArray(e)?ty:typeof e=="object"?gk:ip}function yk(e,t,r){const n=[],s=r||vk(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||we:t;a=Cr(l,a)}n.push(a)}return n}function ny(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(ea(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=yk(t,n,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const h=xi(e[u],e[u+1],c);return o[u](h)};return r?c=>l(Sr(e[0],e[i-1],c)):l}function wk(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=xi(0,t,n);e.push(pe(r,1,s))}}function bk(e){const t=[0];return wk(t,e.length-1),t}function _k(e,t){return e.map(r=>r*t)}function Ck(e,t){return e.map(()=>t||$v).splice(0,e.length-1)}function ra({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=ik(n)?n.map(np):np(n),i={done:!1,value:t[0]},o=_k(r&&r.length===t.length?r:bk(t),e),a=ny(o,t,{ease:Array.isArray(s)?s:Ck(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function sy(e,t){return t?e*(1e3/t):0}const kk=5;function iy(e,t,r){const n=Math.max(t-kk,0);return sy(r-e(n),t-n)}const fc=.001,Ek=.01,jk=10,Sk=.05,Ak=1;function Nk({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,o=1-t;o=Sr(Sk,Ak,o),e=Sr(Ek,jk,Kt(e)),o<1?(s=c=>{const u=c*o,h=u*e,f=u-r,p=Pu(c,o),g=Math.exp(-h);return fc-f/p*g},i=c=>{const h=c*o*e,f=h*r+r,p=Math.pow(o,2)*Math.pow(c,2)*e,g=Math.exp(-h),y=Pu(Math.pow(c,2),o);return(-s(c)+fc>0?-1:1)*((f-p)*g)/y}):(s=c=>{const u=Math.exp(-c*e),h=(c-r)*e+1;return-fc+u*h},i=c=>{const u=Math.exp(-c*e),h=(r-c)*(e*e);return u*h});const a=5/e,l=Pk(s,i,a);if(e=en(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const Dk=12;function Pk(e,t,r){let n=r;for(let s=1;s<Dk;s++)n=n-e(n)/t(n);return n}function Pu(e,t){return e*Math.sqrt(1-t*t)}const Bk=["duration","bounce"],Tk=["stiffness","damping","mass"];function op(e,t){return t.some(r=>e[r]!==void 0)}function Fk(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!op(e,Tk)&&op(e,Bk)){const r=Nk(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function oy({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:f}=Fk({...n,velocity:-Kt(n.velocity||0)}),p=h||0,g=l/(2*Math.sqrt(a*c)),y=i-s,v=Kt(Math.sqrt(a/c)),w=Math.abs(y)<5;r||(r=w?.01:2),t||(t=w?.005:.5);let m;if(g<1){const x=Pu(v,g);m=b=>{const C=Math.exp(-g*v*b);return i-C*((p+g*v*y)/x*Math.sin(x*b)+y*Math.cos(x*b))}}else if(g===1)m=x=>i-Math.exp(-v*x)*(y+(p+v*y)*x);else{const x=v*Math.sqrt(g*g-1);m=b=>{const C=Math.exp(-g*v*b),k=Math.min(x*b,300);return i-C*((p+g*v*y)*Math.sinh(k)+x*y*Math.cosh(k))/x}}return{calculatedDuration:f&&u||null,next:x=>{const b=m(x);if(f)o.done=x>=u;else{let C=p;x!==0&&(g<1?C=iy(m,x,b):C=0);const k=Math.abs(C)<=r,E=Math.abs(i-b)<=t;o.done=k&&E}return o.value=o.done?i:b,o}}}function ap({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},p=_=>a!==void 0&&_<a||l!==void 0&&_>l,g=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let y=r*t;const v=h+y,w=o===void 0?v:o(v);w!==v&&(y=w-h);const m=_=>-y*Math.exp(-_/n),x=_=>w+m(_),b=_=>{const B=m(_),S=x(_);f.done=Math.abs(B)<=c,f.value=f.done?w:S};let C,k;const E=_=>{p(f.value)&&(C=_,k=oy({keyframes:[f.value,g(f.value)],velocity:iy(x,_,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:_=>{let B=!1;return!k&&C===void 0&&(B=!0,b(_),E(_)),C!==void 0&&_>C?k.next(_-C):(!B&&b(_),f)}}}const Rk=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ae.update(t,!0),stop:()=>Zt(t),now:()=>Ie.isProcessing?Ie.timestamp:performance.now()}},lp=2e4;function cp(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<lp;)t+=r,n=e.next(t);return t>=lp?1/0:t}const Ok={decay:ap,inertia:ap,tween:ra,keyframes:ra,spring:oy};function na({autoplay:e=!0,delay:t=0,driver:r=Rk,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:h,...f}){let p=1,g=!1,y,v;const w=()=>{v=new Promise(T=>{y=T})};w();let m;const x=Ok[s]||ra;let b;x!==ra&&typeof n[0]!="number"&&(b=ny([0,100],n,{clamp:!1}),n=[0,100]);const C=x({...f,keyframes:n});let k;a==="mirror"&&(k=x({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let E="idle",_=null,B=null,S=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=cp(C));const{calculatedDuration:D}=C;let F=1/0,R=1/0;D!==null&&(F=D+o,R=F*(i+1)-o);let $=0;const K=T=>{if(B===null)return;p>0&&(B=Math.min(B,T)),p<0&&(B=Math.min(T-R/p,B)),_!==null?$=_:$=Math.round(T-B)*p;const O=$-t*(p>=0?1:-1),A=p>=0?O<0:O>R;$=Math.max(O,0),E==="finished"&&_===null&&($=R);let j=$,M=C;if(i){const he=Math.min($,R)/F;let ve=Math.floor(he),le=he%1;!le&&he>=1&&(le=1),le===1&&ve--,ve=Math.min(ve,i+1),!!(ve%2)&&(a==="reverse"?(le=1-le,o&&(le-=o/F)):a==="mirror"&&(M=k)),j=Sr(0,1,le)*F}const P=A?{done:!1,value:n[0]}:M.next(j);b&&(P.value=b(P.value));let{done:H}=P;!A&&D!==null&&(H=p>=0?$>=R:$<=0);const U=_===null&&(E==="finished"||E==="running"&&H);return h&&h(P.value),U&&L(),P},W=()=>{m&&m.stop(),m=void 0},Y=()=>{E="idle",W(),y(),w(),B=S=null},L=()=>{E="finished",u&&u(),W(),y()},V=()=>{if(g)return;m||(m=r(K));const T=m.now();l&&l(),_!==null?B=T-_:(!B||E==="finished")&&(B=T),E==="finished"&&w(),S=B,_=null,E="running",m.start()};e&&V();const z={then(T,O){return v.then(T,O)},get time(){return Kt($)},set time(T){T=en(T),$=T,_!==null||!m||p===0?_=T:B=m.now()-T/p},get duration(){const T=C.calculatedDuration===null?cp(C):C.calculatedDuration;return Kt(T)},get speed(){return p},set speed(T){T===p||!m||(p=T,z.time=Kt($))},get state(){return E},play:V,pause:()=>{E="paused",_=$},stop:()=>{g=!0,E!=="idle"&&(E="idle",c&&c(),Y())},cancel:()=>{S!==null&&K(S),Y()},complete:()=>{E="finished"},sample:T=>(B=0,K(T))};return z}function Lk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ik=Lk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Mk=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ro=10,Uk=2e4,$k=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Lv(t.ease);function Vk(e,t,{onUpdate:r,onComplete:n,...s}){if(!(Ik()&&Mk.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(x=>{a=x})};u();let{keyframes:h,duration:f=300,ease:p,times:g}=s;if($k(t,s)){const x=na({...s,repeat:0,delay:0});let b={done:!1,value:h[0]};const C=[];let k=0;for(;!b.done&&k<Uk;)b=x.sample(k),C.push(b.value),k+=ro;g=void 0,h=C,f=k-ro,p="linear"}const y=Z8(e.owner.current,t,h,{...s,duration:f,ease:p,times:g}),v=()=>{c=!1,y.cancel()},w=()=>{c=!0,ae.update(v),a(),u()};return y.onfinish=()=>{c||(e.set(J8(h,s)),n&&n(),w())},{then(x,b){return l.then(x,b)},attachTimeline(x){return y.timeline=x,y.onfinish=null,we},get time(){return Kt(y.currentTime||0)},set time(x){y.currentTime=en(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return Kt(f)},play:()=>{o||(y.play(),Zt(v))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const b=na({...s,autoplay:!1});e.setWithVelocity(b.sample(x-ro).value,b.sample(x).value,ro)}w()},complete:()=>{c||y.finish()},cancel:w}}function zk({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:we,pause:we,stop:we,then:i=>(i(),Promise.resolve()),cancel:we,complete:we});return t?na({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const Hk={type:"spring",stiffness:500,damping:25,restSpeed:10},Wk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),qk={type:"keyframes",duration:.8},Kk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gk=(e,{keyframes:t})=>t.length>2?qk:fn.has(e)?e.startsWith("scale")?Wk(t[1]):Hk:Kk,Bu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ar.test(t)||t==="0")&&!t.startsWith("url(")),Qk=new Set(["brightness","contrast","saturate","opacity"]);function Xk(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Ua)||[];if(!n)return e;const s=r.replace(n,"");let i=Qk.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const Yk=/([a-z-]*)\(.*?\)/g,Tu={...Ar,getAnimatableNone:e=>{const t=e.match(Yk);return t?t.map(Xk).join(" "):e}},Zk={...wv,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:Tu,WebkitFilter:Tu},ud=e=>Zk[e];function ay(e,t){let r=ud(e);return r!==Tu&&(r=Ar),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const ly=e=>/^0[^.\s]+$/.test(e);function Jk(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||ly(e)}function e3(e,t,r,n){const s=Bu(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Jk(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=ay(t,a)}return i}function t3({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function dd(e,t){return e[t]||e.default||e}const r3={skipAnimations:!1},hd=(e,t,r,n={})=>s=>{const i=dd(n,e)||{},o=i.delay||n.delay||0;let{elapsed:a=0}=n;a=a-en(o);const l=e3(t,e,r,i),c=l[0],u=l[l.length-1],h=Bu(e,c),f=Bu(e,u);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(t3(i)||(p={...p,...Gk(e,p)}),p.duration&&(p.duration=en(p.duration)),p.repeatDelay&&(p.repeatDelay=en(p.repeatDelay)),!h||!f||Y8.current||i.type===!1||r3.skipAnimations)return zk(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=Vk(t,e,p);if(g)return g}return na(p)};function sa(e){return!!(tt(e)&&e.add)}const cy=e=>/^\-?\d*\.?\d+$/.test(e);function fd(e,t){e.indexOf(t)===-1&&e.push(t)}function pd(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class xd{constructor(){this.subscriptions=[]}add(t){return fd(this.subscriptions,t),()=>pd(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const n3=e=>!isNaN(parseFloat(e));class s3{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Ie;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=n3(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new xd);const n=this.events[t].add(r);return t==="change"?()=>{n(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?sy(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rs(e,t){return new s3(e,t)}const uy=e=>t=>t.test(e),i3={test:e=>e==="auto",parse:e=>e},dy=[pn,Q,Ot,sr,f8,h8,i3],Cs=e=>dy.find(uy(e)),o3=[...dy,ze,Ar],a3=e=>o3.find(uy(e));function l3(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,rs(r))}function c3(e,t){const r=Va(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const a=S8(i[o]);l3(e,o,a)}}function u3(e,t,r){var n,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=t[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(s=(n=r[l])!==null&&n!==void 0?n:e.readValue(l))!==null&&s!==void 0?s:t[l]),u!=null&&(typeof u=="string"&&(cy(u)||ly(u))?u=parseFloat(u):!a3(u)&&Ar.test(c)&&(u=ay(l,c)),e.addValue(l,rs(u,{owner:e})),r[l]===void 0&&(r[l]=u),u!==null&&e.setBaseTarget(l,u))}}function d3(e,t){return t?(t[e]||t.default||t).from:void 0}function h3(e,t,r){const n={};for(const s in e){const i=d3(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function f3({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function p3(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function hy(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");n&&(i=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const f=e.getValue(h),p=a[h];if(!f||p===void 0||u&&f3(u,h))continue;const g={delay:r,elapsed:0,...dd(i||{},h)};if(window.HandoffAppearAnimations){const w=e.getProps()[fv];if(w){const m=window.HandoffAppearAnimations(w,h,f,ae);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let y=!g.isHandoff&&!p3(f,p);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(hd(h,f,p,e.shouldReduceMotion&&fn.has(h)?{type:!1}:g));const v=f.animation;sa(l)&&(l.add(h),v.then(()=>l.remove(h))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&c3(e,o)}),c}function Fu(e,t,r={}){const n=Va(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(hy(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=s;return x3(e,t,c+l,u,h,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(r.delay)])}function x3(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,l=s===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(e.variantChildren).sort(m3).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Fu(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function m3(e,t){return e.sortNodePosition(t)}function g3(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Fu(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Fu(e,t,r);else{const s=typeof t=="function"?Va(e,t,r.custom):t;n=Promise.all(hy(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const v3=[...Y0].reverse(),y3=Y0.length;function w3(e){return t=>Promise.all(t.map(({animation:r,options:n})=>g3(e,r,n)))}function b3(e){let t=w3(e);const r=C3();let n=!0;const s=(l,c)=>{const u=Va(e,c);if(u){const{transition:h,transitionEnd:f,...p}=u;l={...l,...p,...f}}return l};function i(l){t=l(e)}function o(l,c){const u=e.getProps(),h=e.getVariantContext(!0)||{},f=[],p=new Set;let g={},y=1/0;for(let w=0;w<y3;w++){const m=v3[w],x=r[m],b=u[m]!==void 0?u[m]:h[m],C=fi(b),k=m===c?x.isActive:null;k===!1&&(y=w);let E=b===h[m]&&b!==u[m]&&C;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...g},!x.isActive&&k===null||!b&&!x.prevProp||Ia(b)||typeof b=="boolean")continue;let B=_3(x.prevProp,b)||m===c&&x.isActive&&!E&&C||w>y&&C,S=!1;const D=Array.isArray(b)?b:[b];let F=D.reduce(s,{});k===!1&&(F={});const{prevResolvedValues:R={}}=x,$={...R,...F},K=W=>{B=!0,p.has(W)&&(S=!0,p.delete(W)),x.needsAnimating[W]=!0};for(const W in $){const Y=F[W],L=R[W];if(g.hasOwnProperty(W))continue;let V=!1;Jo(Y)&&Jo(L)?V=!Rv(Y,L):V=Y!==L,V?Y!==void 0?K(W):p.add(W):Y!==void 0&&p.has(W)?K(W):x.protectedKeys[W]=!0}x.prevProp=b,x.prevResolvedValues=F,x.isActive&&(g={...g,...F}),n&&e.blockInitialAnimation&&(B=!1),B&&(!E||S)&&f.push(...D.map(W=>({animation:W,options:{type:m,...l}})))}if(p.size){const w={};p.forEach(m=>{const x=e.getBaseTarget(m);x!==void 0&&(w[m]=x)}),f.push({animation:w})}let v=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function a(l,c,u){var h;if(r[l].isActive===c)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),r[l].isActive=c;const f=o(u,l);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r}}function _3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Rv(t,e):!1}function Lr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C3(){return{animate:Lr(!0),whileInView:Lr(),whileHover:Lr(),whileTap:Lr(),whileDrag:Lr(),whileFocus:Lr(),exit:Lr()}}class k3 extends Fr{constructor(t){super(t),t.animationState||(t.animationState=b3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ia(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let E3=0;class j3 extends Fr{constructor(){super(...arguments),this.id=E3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const S3={animation:{Feature:k3},exit:{Feature:j3}},up=(e,t)=>Math.abs(e-t);function A3(e,t){const r=up(e.x,t.x),n=up(e.y,t.y);return Math.sqrt(r**2+n**2)}class fy{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=xc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=A3(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:y}=Ie;this.history.push({...g,timestamp:y});const{onStart:v,onMove:w}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=pc(f,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=xc(h.type==="pointercancel"?this.lastMoveEventInfo:pc(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),g&&g(h,v)},!Dv(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=$a(t),a=pc(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ie;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,xc(a,this.history)),this.removeListeners=Cr(qt(this.contextWindow,"pointermove",this.handlePointerMove),qt(this.contextWindow,"pointerup",this.handlePointerUp),qt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zt(this.updatePoint)}}function pc(e,t){return t?{point:t(e.point)}:e}function dp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xc({point:e},t){return{point:e,delta:dp(e,py(t)),offset:dp(e,N3(t)),velocity:D3(t,.1)}}function N3(e){return e[0]}function py(e){return e[e.length-1]}function D3(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=py(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>en(t)));)r--;if(!n)return{x:0,y:0};const i=Kt(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lt(e){return e.max-e.min}function Ru(e,t=0,r=.01){return Math.abs(e-t)<=r}function hp(e,t,r,n=.5){e.origin=n,e.originPoint=pe(t.min,t.max,e.origin),e.scale=lt(r)/lt(t),(Ru(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pe(r.min,r.max,e.origin)-e.originPoint,(Ru(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ws(e,t,r,n){hp(e.x,t.x,r.x,n?n.originX:void 0),hp(e.y,t.y,r.y,n?n.originY:void 0)}function fp(e,t,r){e.min=r.min+t.min,e.max=e.min+lt(t)}function P3(e,t,r){fp(e.x,t.x,r.x),fp(e.y,t.y,r.y)}function pp(e,t,r){e.min=t.min-r.min,e.max=e.min+lt(t)}function qs(e,t,r){pp(e.x,t.x,r.x),pp(e.y,t.y,r.y)}function B3(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?pe(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?pe(r,e,n.max):Math.min(e,r)),e}function xp(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function T3(e,{top:t,left:r,bottom:n,right:s}){return{x:xp(e.x,r,s),y:xp(e.y,t,n)}}function mp(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function F3(e,t){return{x:mp(e.x,t.x),y:mp(e.y,t.y)}}function R3(e,t){let r=.5;const n=lt(e),s=lt(t);return s>n?r=xi(t.min,t.max-n,e.min):n>s&&(r=xi(e.min,e.max-s,t.min)),Sr(0,1,r)}function O3(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ou=.35;function L3(e=Ou){return e===!1?e=0:e===!0&&(e=Ou),{x:gp(e,"left","right"),y:gp(e,"top","bottom")}}function gp(e,t,r){return{min:vp(e,t),max:vp(e,r)}}function vp(e,t){return typeof e=="number"?e:e[t]||0}const yp=()=>({translate:0,scale:1,origin:0,originPoint:0}),In=()=>({x:yp(),y:yp()}),wp=()=>({min:0,max:0}),be=()=>({x:wp(),y:wp()});function pt(e){return[e("x"),e("y")]}function xy({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function I3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M3(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function mc(e){return e===void 0||e===1}function Lu({scale:e,scaleX:t,scaleY:r}){return!mc(e)||!mc(t)||!mc(r)}function $r(e){return Lu(e)||my(e)||e.z||e.rotate||e.rotateX||e.rotateY}function my(e){return bp(e.x)||bp(e.y)}function bp(e){return e&&e!=="0%"}function ia(e,t,r){const n=e-r,s=t*n;return r+s}function _p(e,t,r,n,s){return s!==void 0&&(e=ia(e,s,n)),ia(e,r,n)+t}function Iu(e,t=0,r=1,n,s){e.min=_p(e.min,t,r,n,s),e.max=_p(e.max,t,r,n,s)}function gy(e,{x:t,y:r}){Iu(e.x,t.translate,t.scale,t.originPoint),Iu(e.y,r.translate,r.scale,r.originPoint)}function U3(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,gy(e,o)),n&&$r(i.latestValues)&&Mn(e,i.latestValues))}t.x=Cp(t.x),t.y=Cp(t.y)}function Cp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function lr(e,t){e.min=e.min+t,e.max=e.max+t}function kp(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=pe(e.min,e.max,i);Iu(e,t[r],t[n],o,t.scale)}const $3=["x","scaleX","originX"],V3=["y","scaleY","originY"];function Mn(e,t){kp(e.x,t,$3),kp(e.y,t,V3)}function vy(e,t){return xy(M3(e.getBoundingClientRect(),t))}function z3(e,t,r){const n=vy(e,r),{scroll:s}=t;return s&&(lr(n.x,s.offset.x),lr(n.y,s.offset.y)),n}const yy=({current:e})=>e?e.ownerDocument.defaultView:null,H3=new WeakMap;class W3{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor($a(u,"page").point)},i=(u,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Bv(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pt(v=>{let w=this.getAxisMotionValue(v).get()||0;if(Ot.test(w)){const{projection:m}=this.visualElement;if(m&&m.layout){const x=m.layout.layoutBox[v];x&&(w=lt(x)*(parseFloat(w)/100))}}this.originPoint[v]=w}),g&&ae.update(()=>g(u,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=q3(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),l=()=>pt(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:yy(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ae.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!no(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=B3(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&On(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=T3(s.layoutBox,r):this.constraints=!1,this.elastic=L3(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=O3(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!On(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=z3(n,s.root,this.visualElement.getTransformPagePoint());let o=F3(s.layout.layoutBox,i);if(r){const a=r(I3(o));this.hasMutatedConstraints=!!a,a&&(o=xy(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=pt(u=>{if(!no(u,r,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(hd(t,n,0,r))}stopAnimation(){pt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){pt(r=>{const{drag:n}=this.getProps();if(!no(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!On(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};pt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=R3({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),pt(o=>{if(!no(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(pe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;H3.set(this.visualElement,this);const t=this.visualElement.current,r=qt(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();On(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Ht(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(pt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ou,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function no(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function q3(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class K3 extends Fr{constructor(t){super(t),this.removeGroupControls=we,this.removeListeners=we,this.controls=new W3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||we}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ep=e=>(t,r)=>{e&&ae.update(()=>e(t,r))};class G3 extends Fr{constructor(){super(...arguments),this.removePointerDownListener=we}onPointerDown(t){this.session=new fy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ep(t),onStart:Ep(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&ae.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=qt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Q3(){const e=N.useContext(Oa);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=N.useId();return N.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const yo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ks={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const r=jp(e,t.target.x),n=jp(e,t.target.y);return`${r}% ${n}%`}},X3={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Ar.parse(e);if(s.length>5)return n;const i=Ar.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=pe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class Y3 extends Wu.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;i8(Z3),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ae.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wy(e){const[t,r]=Q3(),n=N.useContext(J0);return Wu.createElement(Y3,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(xv),isPresent:t,safeToRemove:r})}const Z3={borderRadius:{...ks,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ks,borderTopRightRadius:ks,borderBottomLeftRadius:ks,borderBottomRightRadius:ks,boxShadow:X3},by=["TopLeft","TopRight","BottomLeft","BottomRight"],J3=by.length,Sp=e=>typeof e=="string"?parseFloat(e):e,Ap=e=>typeof e=="number"||Q.test(e);function eE(e,t,r,n,s,i){s?(e.opacity=pe(0,r.opacity!==void 0?r.opacity:1,tE(n)),e.opacityExit=pe(t.opacity!==void 0?t.opacity:1,0,rE(n))):i&&(e.opacity=pe(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<J3;o++){const a=`border${by[o]}Radius`;let l=Np(t,a),c=Np(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Ap(l)===Ap(c)?(e[a]=Math.max(pe(Sp(l),Sp(c),n),0),(Ot.test(c)||Ot.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||r.rotate)&&(e.rotate=pe(t.rotate||0,r.rotate||0,n))}function Np(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tE=_y(0,.5,Hv),rE=_y(.5,.95,we);function _y(e,t,r){return n=>n<e?0:n>t?1:r(xi(e,t,n))}function Dp(e,t){e.min=t.min,e.max=t.max}function ft(e,t){Dp(e.x,t.x),Dp(e.y,t.y)}function Pp(e,t,r,n,s){return e-=t,e=ia(e,1/r,n),s!==void 0&&(e=ia(e,1/s,n)),e}function nE(e,t=0,r=1,n=.5,s,i=e,o=e){if(Ot.test(t)&&(t=parseFloat(t),t=pe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=pe(i.min,i.max,n);e===i&&(a-=t),e.min=Pp(e.min,t,r,a,s),e.max=Pp(e.max,t,r,a,s)}function Bp(e,t,[r,n,s],i,o){nE(e,t[r],t[n],t[s],t.scale,i,o)}const sE=["x","scaleX","originX"],iE=["y","scaleY","originY"];function Tp(e,t,r,n){Bp(e.x,t,sE,r?r.x:void 0,n?n.x:void 0),Bp(e.y,t,iE,r?r.y:void 0,n?n.y:void 0)}function Fp(e){return e.translate===0&&e.scale===1}function Cy(e){return Fp(e.x)&&Fp(e.y)}function oE(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function ky(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Rp(e){return lt(e.x)/lt(e.y)}class aE{constructor(){this.members=[]}add(t){fd(this.members,t),t.scheduleRender()}remove(t){if(pd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Op(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:l,rotateX:c,rotateY:u}=r;l&&(n+=`rotate(${l}deg) `),c&&(n+=`rotateX(${c}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const lE=(e,t)=>e.depth-t.depth;class cE{constructor(){this.children=[],this.isDirty=!1}add(t){fd(this.children,t),this.isDirty=!0}remove(t){pd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lE),this.isDirty=!1,this.children.forEach(t)}}function uE(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Zt(n),e(i-t))};return ae.read(n,!0),()=>Zt(n)}function dE(e){window.MotionDebug&&window.MotionDebug.record(e)}function hE(e){return e instanceof SVGElement&&e.tagName!=="svg"}function fE(e,t,r){const n=tt(e)?e:rs(e);return n.start(hd("",n,t,r)),n.animation}const Lp=["","X","Y","Z"],pE={visibility:"hidden"},Ip=1e3;let xE=0;const Vr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ey({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=xE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vr.totalNodes=Vr.resolvedTargetDeltas=Vr.recalculatedProjection=0,this.nodes.forEach(vE),this.nodes.forEach(CE),this.nodes.forEach(kE),this.nodes.forEach(yE),dE(Vr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new cE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hE(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=uE(f,250),yo.hasAnimatedSinceResize&&(yo.hasAnimatedSinceResize=!1,this.nodes.forEach(Up))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||NE,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=u.getProps(),m=!this.targetLayout||!ky(this.targetLayout,g)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const b={...dd(y,"layout"),onPlay:v,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Up(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mp);return}this.isUpdating||this.nodes.forEach(bE),this.isUpdating=!1,this.nodes.forEach(_E),this.nodes.forEach(mE),this.nodes.forEach(gE),this.clearAllSnapshots();const a=performance.now();Ie.delta=Sr(0,1e3/60,a-Ie.timestamp),Ie.timestamp=a,Ie.isProcessing=!0,oc.update.process(Ie),oc.preRender.process(Ie),oc.render.process(Ie),Ie.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(wE),this.sharedNodes.forEach(jE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Cy(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||$r(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),DE(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return be();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(lr(a.x,l.offset.x),lr(a.y,l.offset.y)),a}removeElementScroll(o){const a=be();ft(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){ft(a,o);const{scroll:f}=this.root;f&&(lr(a.x,-f.offset.x),lr(a.y,-f.offset.y))}lr(a.x,u.offset.x),lr(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=be();ft(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Mn(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),$r(u.latestValues)&&Mn(l,u.latestValues)}return $r(this.latestValues)&&Mn(l,this.latestValues),l}removeTransform(o){const a=be();ft(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$r(c.latestValues))continue;Lu(c.latestValues)&&c.updateSnapshot();const u=be(),h=c.measurePageBox();ft(u,h),Tp(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return $r(this.latestValues)&&Tp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ie.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ie.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),qs(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),gy(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),qs(this.relativeTargetOrigin,this.target,p.target),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lu(this.parent.latestValues)||my(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ie.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;ft(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;U3(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=In(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=In(),this.projectionDeltaWithTransform=In());const y=this.projectionTransform;Ws(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=Op(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Vr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=In();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=be(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,v=this.getStack(),w=!v||v.members.length<=1,m=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(AE));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const C=b/1e3;$p(h.x,o.x,C),$p(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SE(this.relativeTarget,this.relativeTargetOrigin,f,C),x&&oE(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=be()),ft(x,this.relativeTarget)),y&&(this.animationValues=u,eE(u,c,this.latestValues,C,m,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{yo.hasAnimatedSinceResize=!0,this.currentAnimation=fE(0,Ip,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ip),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&jy(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||be();const h=lt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=lt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ft(a,l),Mn(a,u),Ws(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new aE),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Lp.length;u++){const h="rotate"+Lp[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pE;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vo(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=vo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$r(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Op(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Yo){if(f[y]===void 0)continue;const{correct:v,applyTo:w}=Yo[y],m=c.transform==="none"?f[y]:v(f[y],h);if(w){const x=w.length;for(let b=0;b<x;b++)c[w[b]]=m}else c[y]=m}return this.options.layoutId&&(c.pointerEvents=h===this?vo(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Mp),this.root.sharedNodes.clear()}}}function mE(e){e.updateLayout()}function gE(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?pt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=lt(f);f.min=n[h].min,f.max=f.min+p}):jy(i,r.layoutBox,n)&&pt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=lt(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=In();Ws(a,n,r.layoutBox);const l=In();o?Ws(l,e.applyTransform(s,!0),r.measuredBox):Ws(l,n,r.layoutBox);const c=!Cy(a);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=be();qs(g,r.layoutBox,f.layoutBox);const y=be();qs(y,n,p.layoutBox),ky(g,y)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function vE(e){Vr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wE(e){e.clearSnapshot()}function Mp(e){e.clearMeasurements()}function bE(e){e.isLayoutDirty=!1}function _E(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Up(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function CE(e){e.resolveTargetDelta()}function kE(e){e.calcProjection()}function EE(e){e.resetRotation()}function jE(e){e.removeLeadSnapshot()}function $p(e,t,r){e.translate=pe(t.translate,0,r),e.scale=pe(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Vp(e,t,r,n){e.min=pe(t.min,r.min,n),e.max=pe(t.max,r.max,n)}function SE(e,t,r,n){Vp(e.x,t.x,r.x,n),Vp(e.y,t.y,r.y,n)}function AE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NE={duration:.45,ease:[.4,0,.1,1]},zp=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Hp=zp("applewebkit/")&&!zp("chrome/")?Math.round:we;function Wp(e){e.min=Hp(e.min),e.max=Hp(e.max)}function DE(e){Wp(e.x),Wp(e.y)}function jy(e,t,r){return e==="position"||e==="preserve-aspect"&&!Ru(Rp(t),Rp(r),.2)}const PE=Ey({attachResizeListener:(e,t)=>Ht(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gc={current:void 0},Sy=Ey({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gc.current){const e=new PE({});e.mount(window),e.setOptions({layoutScroll:!0}),gc.current=e}return gc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),BE={pan:{Feature:G3},drag:{Feature:K3,ProjectionNode:Sy,MeasureLayout:wy}},TE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function FE(e){const t=TE.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Mu(e,t,r=1){const[n,s]=FE(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return cy(o)?parseFloat(o):o}else return Au(s)?Mu(s,t,r+1):s}function RE(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!Au(i))return;const o=Mu(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!Au(i))continue;const o=Mu(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const OE=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ay=e=>OE.has(e),LE=e=>Object.keys(e).some(Ay),qp=e=>e===pn||e===Q,Kp=(e,t)=>parseFloat(e.split(", ")[t]),Gp=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return Kp(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?Kp(i[1],e):0}},IE=new Set(["x","y","z"]),ME=ji.filter(e=>!IE.has(e));function UE(e){const t=[];return ME.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ns={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Gp(4,13),y:Gp(5,14)};ns.translateX=ns.x;ns.translateY=ns.y;const $E=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(c=>{a[c]=ns[c](n,i)}),t.render();const l=t.measureViewportBox();return r.forEach(c=>{const u=t.getValue(c);u&&u.jump(a[c]),e[c]=ns[c](l,i)}),e},VE=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(Ay);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let u=r[l],h=Cs(u);const f=t[l];let p;if(Jo(f)){const g=f.length,y=f[0]===null?1:0;u=f[y],h=Cs(u);for(let v=y;v<g&&f[v]!==null;v++)p?ea(Cs(f[v])===p):p=Cs(f[v])}else p=Cs(f);if(h!==p)if(qp(h)&&qp(p)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&p===Q&&(t[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?c.set(p.transform(u)):t[l]=h.transform(f):(o||(i=UE(e),o=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:t[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=$E(t,e,a);return i.length&&i.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),La&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:n}}else return{target:t,transitionEnd:n}};function zE(e,t,r,n){return LE(t)?VE(e,t,r,n):{target:t,transitionEnd:n}}const HE=(e,t,r,n)=>{const s=RE(e,t,n);return t=s.target,n=s.transitionEnd,zE(e,t,r,n)},Uu={current:null},Ny={current:!1};function WE(){if(Ny.current=!0,!!La)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Uu.current=e.matches;e.addListener(t),t()}else Uu.current=!1}function qE(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(tt(i))e.addValue(s,i),sa(n)&&n.add(s);else if(tt(o))e.addValue(s,rs(i,{owner:e})),sa(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,rs(a!==void 0?a:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const Qp=new WeakMap,Dy=Object.keys(pi),KE=Dy.length,Xp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GE=Z0.length;class QE{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ae.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Ma(r),this.isVariantNode=pv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(r,{});for(const h in u){const f=u[h];a[h]!==void 0&&tt(f)&&(f.set(a[h],!1),sa(c)&&c.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,Qp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Ny.current||WE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Uu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Qp.delete(this.current),this.projection&&this.projection.unmount(),Zt(this.notifyUpdate),Zt(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=fn.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ae.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,a;for(let l=0;l<KE;l++){const c=Dy[l],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:p}=pi[c];f&&(o=f),u(r)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&On(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Xp.length;n++){const s=Xp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=qE(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<GE;n++){const s=Z0[n],i=this.props[s];(fi(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=rs(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=od(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!tt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new xd),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Py extends QE{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=h3(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){u3(this,n,o);const a=HE(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:t,transitionEnd:r,...n}}}function XE(e){return window.getComputedStyle(e)}class YE extends Py{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(fn.has(r)){const n=ud(r);return n&&n.default||0}else{const n=XE(t),s=(vv(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return vy(t,r)}build(t,r,n,s){td(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return id(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){kv(t,r,n,s)}}class ZE extends Py{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(fn.has(r)){const n=ud(r);return n&&n.default||0}return r=Ev.has(r)?r:X0(r),t.getAttribute(r)}measureInstanceViewportBox(){return be()}scrapeMotionValuesFromProps(t,r){return Sv(t,r)}build(t,r,n,s){nd(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){jv(t,r,n,s)}mount(t){this.isSVGTag=sd(t.tagName),super.mount(t)}}const JE=(e,t)=>ed(e)?new ZE(t,{enableHardwareAcceleration:!1}):new YE(t,{enableHardwareAcceleration:!0}),ej={layout:{ProjectionNode:Sy,MeasureLayout:wy}},tj={...S3,...G8,...BE,...ej},vc=n8((e,t)=>R8(e,t,tj,JE));function By(){const e=N.useRef(!1);return Q0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function rj(){const e=By(),[t,r]=N.useState(0),n=N.useCallback(()=>{e.current&&r(t+1)},[t]);return[N.useCallback(()=>ae.postRender(n),[n]),t]}class nj extends N.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sj({children:e,isPresent:t}){const r=N.useId(),n=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),N.createElement(nj,{isPresent:t,childRef:n,sizeRef:s},N.cloneElement(e,{ref:n}))}const yc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Av(ij),l=N.useId(),c=N.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;n&&n()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[r]);return N.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[r]),N.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=N.createElement(sj,{isPresent:r},e)),N.createElement(Oa.Provider,{value:c},e)};function ij(){return new Map}function oj(e){return N.useEffect(()=>()=>e(),[])}const zr=e=>e.key||"";function aj(e,t){e.forEach(r=>{const n=zr(r);t.set(n,r)})}function lj(e){const t=[];return N.Children.forEach(e,r=>{N.isValidElement(r)&&t.push(r)}),t}const Yp=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=N.useContext(J0).forceRender||rj()[0],l=By(),c=lj(e);let u=c;const h=N.useRef(new Map).current,f=N.useRef(u),p=N.useRef(new Map).current,g=N.useRef(!0);if(Q0(()=>{g.current=!1,aj(c,p),f.current=u}),oj(()=>{g.current=!0,p.clear(),h.clear()}),g.current)return N.createElement(N.Fragment,null,u.map(m=>N.createElement(yc,{key:zr(m),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},m)));u=[...u];const y=f.current.map(zr),v=c.map(zr),w=y.length;for(let m=0;m<w;m++){const x=y[m];v.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((m,x)=>{if(v.indexOf(x)!==-1)return;const b=p.get(x);if(!b)return;const C=y.indexOf(x);let k=m;if(!k){const E=()=>{h.delete(x);const _=Array.from(p.keys()).filter(B=>!v.includes(B));if(_.forEach(B=>p.delete(B)),f.current=c.filter(B=>{const S=zr(B);return S===x||_.includes(S)}),!h.size){if(l.current===!1)return;a(),n&&n()}};k=N.createElement(yc,{key:zr(b),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:o},b),h.set(x,k)}u.splice(C,0,k)}),u=u.map(m=>{const x=m.key;return h.has(x)?m:N.createElement(yc,{key:zr(m),isPresent:!0,presenceAffectsLayout:i,mode:o},m)}),N.createElement(N.Fragment,null,h.size?u:u.map(m=>N.cloneElement(m)))},Ty=({children:e,onSwipeLeft:t,onSwipeRight:r,leftAction:n={icon:d.jsx(H0,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:s={icon:d.jsx(Ta,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},className:i=""})=>{const[o,a]=N.useState(0),[l,c]=N.useState(!1),u=KC({onSwiping:h=>{const f=h.deltaX,p=100,g=Math.max(-p,Math.min(p,f));a(g),c(Math.abs(g)>20)},onSwipedLeft:()=>{Math.abs(o)>50&&t&&t(),a(0),c(!1)},onSwipedRight:()=>{Math.abs(o)>50&&r&&r(),a(0),c(!1)},onSwiped:()=>{a(0),c(!1)},trackMouse:!0,trackTouch:!0});return d.jsxs("div",{className:`relative overflow-hidden ${i}`,...u,children:[d.jsx(Yp,{children:o>20&&d.jsx(vc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`absolute left-0 top-0 h-full flex items-center px-4 ${s.color}`,style:{width:Math.abs(o)},children:d.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[s.icon,Math.abs(o)>60&&d.jsx("span",{className:"text-sm font-medium",children:s.label})]})})}),d.jsx(Yp,{children:o<-20&&d.jsx(vc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`absolute right-0 top-0 h-full flex items-center justify-end px-4 ${n.color}`,style:{width:Math.abs(o)},children:d.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[Math.abs(o)>60&&d.jsx("span",{className:"text-sm font-medium",children:n.label}),n.icon]})})}),d.jsx(vc.div,{animate:{x:o},transition:{type:"spring",stiffness:300,damping:30},className:`relative z-10 ${l?"shadow-lg":""}`,children:e})]})},cj=()=>{const{notifications:e,markNotificationAsRead:t,clearAllNotifications:r}=rt(),n=l=>{switch(l){case"like":return d.jsx(nv,{className:"w-5 h-5 text-red-400"});case"repost":return d.jsx(ov,{className:"w-5 h-5 text-green-400"});case"comment":return d.jsx(Eu,{className:"w-5 h-5 text-blue-400"});case"follow":return d.jsx(Gr,{className:"w-5 h-5 text-purple-400"});case"mention":return d.jsx(fC,{className:"w-5 h-5 text-yellow-400"});case"message":return d.jsx(Eu,{className:"w-5 h-5 text-pink-400"});default:return d.jsx(Ko,{className:"w-5 h-5 text-gray-400"})}},s=l=>{switch(l.type){case"like":return"liked your post";case"repost":return"reposted your post";case"comment":return"commented on your post";case"follow":return"started following you";case"mention":return"mentioned you in a post";case"message":return"sent you a message";default:return"interacted with your content"}},i=l=>{t(l)},o=l=>{console.log("Archive notification:",l)},a=l=>{console.log("Delete notification:",l)};return d.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[d.jsx("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Stay updated with your community"})]}),e.length>0&&d.jsxs("button",{onClick:r,className:"flex items-center space-x-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-gray-300 hover:text-white",children:[d.jsx(jr,{className:"w-4 h-4"}),d.jsx("span",{children:"Clear All"})]})]})}),d.jsx("div",{className:"divide-y divide-gray-700/30",children:e.length===0?d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(Ko,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No notifications yet"}),d.jsx("p",{className:"text-gray-500",children:"When someone interacts with your content, you'll see it here."})]}):e.map(l=>{var c;return d.jsx(Ty,{onSwipeLeft:()=>o(l.id),onSwipeRight:()=>a(l.id),leftAction:{icon:d.jsx(H0,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:{icon:d.jsx(jr,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},children:d.jsx("div",{onClick:()=>i(l.id),className:`p-6 hover:bg-gray-800/20 transition-colors cursor-pointer ${l.read?"":"bg-purple-900/10 border-l-4 border-purple-500"}`,children:d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("div",{className:"flex-shrink-0",children:n(l.type)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.fromUser&&d.jsx("img",{src:l.fromUser.avatar,alt:l.fromUser.displayName,className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"text-white",children:[d.jsx("span",{className:"font-semibold",children:((c=l.fromUser)==null?void 0:c.displayName)||"Someone"})," ",d.jsx("span",{className:"text-gray-300",children:s(l)})]}),d.jsx("p",{className:"text-gray-500 text-sm",children:l.timestamp.toLocaleString()})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!l.read&&d.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),d.jsx("button",{onClick:u=>{u.stopPropagation(),i(l.id)},className:"p-1 text-gray-400 hover:text-green-400 transition-colors",children:d.jsx(pC,{className:"w-4 h-4"})})]})]}),l.message&&d.jsx("p",{className:"text-gray-400 text-sm mt-2 bg-gray-800/30 rounded-lg p-3",children:l.message})]})]})})},l.id)})})]})},uj=()=>{var x;const{chats:e,sendMessage:t,createChat:r}=rt(),{user:n}=De(),[s,i]=N.useState(null),[o,a]=N.useState(""),[l,c]=N.useState(!1),[u,h]=N.useState(""),f="a1b2c3d4-e5f6-7890-1234-567890abcdef",p="b2c3d4e5-f6g7-8901-2345-678901bcdefg",g=b=>{b.preventDefault(),o.trim()&&s&&n&&(t(s.id,o.trim(),n.id),a(""))},y=(b,C=!1,k)=>{const E=r(b,C,k);i(E),c(!1)},v=b=>{console.log("Archive chat:",b)},w=b=>{console.log("Delete chat:",b)},m=e.filter(b=>{var C;return((C=b.name)==null?void 0:C.toLowerCase().includes(u.toLowerCase()))||b.participants.some(k=>k.toLowerCase().includes(u.toLowerCase()))});return d.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm flex",children:[d.jsxs("div",{className:"w-80 border-r border-gray-700/50 bg-black/20",children:[d.jsxs("div",{className:"p-4 border-b border-gray-700/50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"Messages"}),d.jsx("button",{onClick:()=>c(!0),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full transition-colors",children:d.jsx(Ba,{className:"w-5 h-5 text-white"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),d.jsx("input",{type:"text",value:u,onChange:b=>h(b.target.value),placeholder:"Search conversations...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-9 pr-4 py-2 text-white text-sm focus:border-purple-500 focus:outline-none"})]})]}),d.jsx("div",{className:"overflow-y-auto",children:m.length===0?d.jsxs("div",{className:"p-6 text-center",children:[d.jsx(Qr,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-400",children:"No conversations yet"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Start a new chat to connect with other writers"})]}):m.map(b=>{var C,k;return d.jsx(Ty,{onSwipeLeft:()=>v(b.id),onSwipeRight:()=>w(b.id),leftAction:{icon:d.jsx(H0,{className:"w-5 h-5"}),color:"bg-blue-500",label:"Archive"},rightAction:{icon:d.jsx(Ta,{className:"w-5 h-5"}),color:"bg-red-500",label:"Delete"},children:d.jsx("button",{onClick:()=>i(b),className:`w-full p-4 text-left hover:bg-gray-800/30 transition-colors border-b border-gray-700/20 ${(s==null?void 0:s.id)===b.id?"bg-purple-900/20":""}`,children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:b.isGroup?d.jsx(Qr,{className:"w-6 h-6 text-white"}):d.jsx("span",{className:"text-white font-semibold",children:((C=b.name)==null?void 0:C[0])||"U"})}),b.isEncrypted&&d.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:d.jsx(Go,{className:"w-2 h-2 text-white"})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-white font-medium truncate",children:b.name||(b.id?`Chat ${b.id.slice(0,8)}`:"Unnamed Chat")}),d.jsx("p",{className:"text-gray-400 text-sm truncate",children:((k=b.lastMessage)==null?void 0:k.content)||"No messages yet"})]})]})})},b.id)})})]}),d.jsx("div",{className:"flex-1 flex flex-col",children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"p-4 border-b border-gray-700/50 bg-black/20",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:s.isGroup?d.jsx(Qr,{className:"w-5 h-5 text-white"}):d.jsx("span",{className:"text-white font-semibold",children:((x=s.name)==null?void 0:x[0])||"U"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white font-semibold",children:s.name||(s.id?`Chat ${s.id.slice(0,8)}`:"Unnamed Chat")}),d.jsxs("div",{className:"flex items-center space-x-2",children:[s.isEncrypted&&d.jsxs("div",{className:"flex items-center space-x-1 text-green-400 text-xs",children:[d.jsx(Go,{className:"w-3 h-3"}),d.jsx("span",{children:"Encrypted"})]}),d.jsxs("span",{className:"text-gray-400 text-sm",children:[s.participants.length," participants"]})]})]})]}),d.jsx("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",children:d.jsx(iv,{className:"w-5 h-5"})})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[d.jsx("div",{className:"flex justify-start",children:d.jsxs("div",{className:"max-w-xs bg-gray-800 rounded-2xl rounded-bl-md p-3",children:[d.jsx("p",{className:"text-white text-sm",children:"Hey! How's your latest character development going?"}),d.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"2:30 PM"})]})}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("div",{className:"max-w-xs bg-purple-600 rounded-2xl rounded-br-md p-3",children:[d.jsx("p",{className:"text-white text-sm",children:"Great! Just finished writing a backstory for my new cyberpunk detective. Want to see?"}),d.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"2:32 PM"})]})}),d.jsx("div",{className:"flex justify-start",children:d.jsxs("div",{className:"max-w-xs bg-gray-800 rounded-2xl rounded-bl-md p-3",children:[d.jsx("p",{className:"text-white text-sm",children:"Absolutely! I love cyberpunk settings. What's their specialty?"}),d.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"2:35 PM"})]})})]}),d.jsx("form",{onSubmit:g,className:"p-4 border-t border-gray-700/50 bg-black/20",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"text",value:o,onChange:b=>a(b.target.value),placeholder:"Type a message...",className:"flex-1 bg-gray-800 border border-gray-600 rounded-full px-4 py-2 text-white focus:border-purple-500 focus:outline-none"}),d.jsx("button",{type:"submit",disabled:!o.trim(),className:"p-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-full transition-colors",children:d.jsx(av,{className:"w-5 h-5 text-white"})})]})})]}):d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Qr,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"Select a conversation"}),d.jsx("p",{className:"text-gray-500",children:"Choose from your existing conversations or start a new one"})]})})}),l&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-md mx-4",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Start New Conversation"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:()=>y([f],!1),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-lg transition-colors",children:"Direct Message"}),d.jsx("button",{onClick:()=>y([f,p],!0,"New Group"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition-colors",children:"Group Chat"})]})]}),d.jsx("div",{className:"flex justify-end mt-6",children:d.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"})})]})})})]})},dj=()=>{const{posts:e,updatePost:t}=rt(),[r,n]=N.useState(""),[s,i]=N.useState("all"),a=e.slice(0,3).filter(u=>{var f;const h=u.content.toLowerCase().includes(r.toLowerCase())||((f=u.character)==null?void 0:f.name.toLowerCase().includes(r.toLowerCase()));return s==="characters"?h&&u.character:s==="writers"?h&&!u.character:h}),l=u=>{const h=e.find(f=>f.id===u);h&&t(u,{isLiked:!h.isLiked,likes:h.isLiked?h.likes-1:h.likes+1})},c=u=>{const h=e.find(f=>f.id===u);h&&t(u,{isReposted:!h.isReposted,reposts:h.isReposted?h.reposts-1:h.reposts+1})};return d.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[d.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Bookmarks"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Search bookmarks...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-10 pr-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(gC,{className:"w-4 h-4 text-gray-400"}),d.jsx("div",{className:"flex space-x-1",children:[{key:"all",label:"All"},{key:"characters",label:"Characters"},{key:"writers",label:"Writers"}].map(u=>d.jsx("button",{onClick:()=>i(u.key),className:`px-3 py-1 rounded-full text-sm transition-colors ${s===u.key?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:u.label},u.key))})]})]})]}),d.jsx("div",{className:"divide-y divide-gray-700/30",children:a.length===0?d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(rv,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:r?"No matching bookmarks":"No bookmarks yet"}),d.jsx("p",{className:"text-gray-500",children:r?"Try adjusting your search or filter criteria":"Save posts you want to read later by bookmarking them"})]}):a.map(u=>d.jsx(Fa,{post:u,onLike:()=>l(u.id),onRepost:()=>c(u.id)},u.id))})]})},hj=({onClose:e})=>{const{addCharacter:t}=rt(),{user:r}=De(),[n,s]=N.useState({username:"",name:"",title:"",bio:"",universe:"",verseTag:"",traits:"",customColor:"#8b5cf6",customFont:"Inter"}),i=a=>{if(a.preventDefault(),!r)return;const l={id:Date.now().toString(),username:n.username,name:n.name,title:n.title,avatar:"https://images.pexels.com/photos/1382734/pexels-photo-1382734.jpeg?auto=compress&cs=tinysrgb&w=150&h=150",headerImage:"https://images.pexels.com/photos/1323550/pexels-photo-1323550.jpeg?auto=compress&cs=tinysrgb&w=800&h=300",bio:n.bio,universe:n.universe,verseTag:n.verseTag,traits:n.traits.split(",").map(c=>c.trim()).filter(c=>c),userId:r.id,customColor:n.customColor,customFont:n.customFont,createdAt:new Date};t(l),e()},o=["Inter","Roboto","Open Sans","Lato","Montserrat","Playfair Display","Crimson Text","Merriweather","Courier New","Georgia"];return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700/50 p-4 flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-bold text-white",children:"Create New Character"}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:d.jsx(jr,{className:"w-6 h-6 text-gray-400"})})]}),d.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Username *"}),d.jsx("input",{type:"text",value:n.username,onChange:a=>s(l=>({...l,username:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"character_username",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Name *"}),d.jsx("input",{type:"text",value:n.name,onChange:a=>s(l=>({...l,name:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"Character's full name",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title/Role *"}),d.jsx("input",{type:"text",value:n.title,onChange:a=>s(l=>({...l,title:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Elven Ranger, Detective, Wizard",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Universe *"}),d.jsx("input",{type:"text",value:n.universe,onChange:a=>s(l=>({...l,universe:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Middle Earth, Marvel Universe",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Verse Tag *"}),d.jsx("input",{type:"text",value:n.verseTag,onChange:a=>s(l=>({...l,verseTag:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Marvel, Fantasy, SciFi",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Character Color"}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"color",value:n.customColor,onChange:a=>s(l=>({...l,customColor:a.target.value})),className:"w-12 h-12 rounded-lg border border-gray-600 bg-gray-800"}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",value:n.customColor,onChange:a=>s(l=>({...l,customColor:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio *"}),d.jsx("textarea",{value:n.bio,onChange:a=>s(l=>({...l,bio:a.target.value})),rows:4,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",placeholder:"Describe your character's background, personality, and story...",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Traits (comma-separated)"}),d.jsx("input",{type:"text",value:n.traits,onChange:a=>s(l=>({...l,traits:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., Brave, Mysterious, Loyal, Cunning"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Font"}),d.jsx("select",{value:n.customFont,onChange:a=>s(l=>({...l,customFont:a.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",children:o.map(a=>d.jsx("option",{value:a,style:{fontFamily:a},children:a},a))})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[d.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Create Character"})]})]})]})})},fj=({onClose:e})=>{const{user:t,updateUser:r}=De(),[n,s]=N.useState({displayName:(t==null?void 0:t.displayName)||"",bio:(t==null?void 0:t.bio)||"",writersTag:(t==null?void 0:t.writersTag)||"",avatar:(t==null?void 0:t.avatar)||"",headerImage:(t==null?void 0:t.headerImage)||""}),i=o=>{o.preventDefault(),r(n),e()};return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700/50 w-full max-w-lg mx-4",children:[d.jsxs("div",{className:"p-4 border-b border-gray-700/50 flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-bold text-white",children:"Edit Profile"}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:d.jsx(jr,{className:"w-6 h-6 text-gray-400"})})]}),d.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Header Image"}),d.jsx(Xo,{currentImage:n.headerImage,onImageChange:o=>s(a=>({...a,headerImage:o})),type:"header"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Picture"}),d.jsx(Xo,{currentImage:n.avatar,onImageChange:o=>s(a=>({...a,avatar:o})),type:"avatar",className:"w-32"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),d.jsx("input",{type:"text",value:n.displayName,onChange:o=>s(a=>({...a,displayName:o.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),d.jsx("textarea",{value:n.bio,onChange:o=>s(a=>({...a,bio:o.target.value})),rows:3,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none",placeholder:"Tell us about yourself..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),d.jsx("input",{type:"text",value:n.writersTag,onChange:o=>s(a=>({...a,writersTag:o.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"e.g., fantasy, scifi, modern",required:!0})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700/50",children:[d.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Save Changes"})]})]})]})})},pj=()=>{const{user:e,updateUser:t}=De(),{characters:r,posts:n}=rt(),[s,i]=N.useState("posts"),[o,a]=N.useState(!1),[l,c]=N.useState(!1),u=n.filter(f=>f.userId===(e==null?void 0:e.id)),h=r.filter(f=>f.userId===(e==null?void 0:e.id));return e?d.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"h-48 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-800 relative",children:[d.jsx("img",{src:e.headerImage,alt:"Profile header",className:"w-full h-full object-cover"}),d.jsx("button",{className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:d.jsx(ku,{className:"w-5 h-5 text-white"})})]}),d.jsxs("div",{className:"relative px-6 pb-6",children:[d.jsxs("div",{className:"flex items-end justify-between -mt-16 mb-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:e.avatar,alt:e.displayName,className:"w-32 h-32 rounded-full object-cover ring-4 ring-gray-900 bg-gray-900"}),d.jsx("button",{className:"absolute bottom-2 right-2 p-2 bg-purple-600 hover:bg-purple-700 rounded-full transition-colors",children:d.jsx(ku,{className:"w-4 h-4 text-white"})})]}),d.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-full transition-colors text-white border border-gray-600",children:[d.jsx(G0,{className:"w-4 h-4"}),d.jsx("span",{children:"Edit Profile"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-white",children:e.displayName}),d.jsxs("p",{className:"text-gray-400",children:["@",e.username]})]}),d.jsx("p",{className:"text-gray-300",children:e.bio}),d.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(W0,{className:"w-4 h-4"}),d.jsxs("span",{children:["Joined ",e.createdAt.toLocaleDateString()]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),d.jsxs("span",{children:["#",e.writersTag]})]})]}),d.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-bold text-white",children:e.following.length}),d.jsx("span",{className:"text-gray-400 ml-1",children:"Following"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-bold text-white",children:e.followers.length}),d.jsx("span",{className:"text-gray-400 ml-1",children:"Followers"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-bold text-white",children:h.length}),d.jsx("span",{className:"text-gray-400 ml-1",children:"Characters"})]})]})]})]})]}),d.jsx("div",{className:"border-b border-gray-700/50 bg-black/20 sticky top-0 z-10",children:d.jsx("div",{className:"flex",children:[{key:"posts",label:"Posts",count:u.length},{key:"characters",label:"Characters",count:h.length},{key:"media",label:"Media",count:0}].map(f=>d.jsxs("button",{onClick:()=>i(f.key),className:`flex-1 px-4 py-4 text-center transition-colors relative ${s===f.key?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,children:[d.jsx("span",{className:"font-medium",children:f.label}),f.count>0&&d.jsx("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-1 rounded-full",children:f.count})]},f.key))})}),d.jsxs("div",{className:"p-6",children:[s==="posts"&&d.jsx("div",{className:"space-y-4",children:u.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-gray-400 mb-4",children:"No posts yet"}),d.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full transition-colors",children:"Create your first post"})]}):u.map(f=>d.jsxs("div",{className:"bg-gray-800/30 rounded-xl p-4 border border-gray-700/50",children:[d.jsx("p",{className:"text-white",children:f.content}),d.jsxs("div",{className:"flex items-center justify-between mt-3 text-gray-400 text-sm",children:[d.jsx("span",{children:f.timestamp.toLocaleDateString()}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("span",{children:[f.likes," likes"]}),d.jsxs("span",{children:[f.reposts," reposts"]})]})]})]},f.id))}),s==="characters"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-bold text-white",children:"Your Characters"}),d.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:[d.jsx(Ba,{className:"w-4 h-4"}),d.jsx("span",{children:"New Character"})]})]}),h.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-gray-400 mb-4",children:"No characters created yet"}),d.jsx("button",{onClick:()=>a(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full transition-colors",children:"Create your first character"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(f=>d.jsx(go,{character:f},f.id))})]}),s==="media"&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"Media gallery coming soon"})})]}),o&&d.jsx(hj,{onClose:()=>a(!1)}),l&&d.jsx(fj,{onClose:()=>c(!1)})]}):null},xj=()=>{const{user:e,updateUser:t,enableTwoFactor:r}=De(),[n,s]=N.useState("privacy"),[i,o]=N.useState({currentPassword:"",newPassword:"",confirmPassword:"",email:(e==null?void 0:e.email)||"",otpCode:""}),a=[{key:"privacy",label:"Privacy & Safety",icon:lv},{key:"account",label:"Account",icon:cv},{key:"security",label:"Security",icon:Go},{key:"notifications",label:"Notifications",icon:Ko}],l=async h=>{if(h.preventDefault(),i.newPassword!==i.confirmPassword){alert("Passwords do not match");return}console.log("Password change requested")},c=async()=>{i.email&&await r(i.email)},u=(h,f)=>{e&&t({privacySettings:{...e.privacySettings,[h]:f}})};return d.jsxs("div",{className:"min-h-screen bg-black/10 backdrop-blur-sm",children:[d.jsxs("div",{className:"sticky top-0 bg-black/80 backdrop-blur-md border-b border-gray-700/50 p-4 z-10",children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"Settings"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Manage your account and privacy preferences"})]}),d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"w-64 border-r border-gray-700/50 bg-black/20 p-4",children:d.jsx("nav",{className:"space-y-2",children:a.map(h=>d.jsxs("button",{onClick:()=>s(h.key),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors ${n===h.key?"bg-purple-600/20 text-purple-300 border border-purple-500/30":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[d.jsx(h.icon,{className:"w-5 h-5"}),d.jsx("span",{children:h.label})]},h.key))})}),d.jsxs("div",{className:"flex-1 p-6",children:[n==="privacy"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[d.jsx(q0,{className:"w-5 h-5 text-purple-400"}),d.jsx("span",{children:"Profile Visibility"})]}),d.jsx("div",{className:"space-y-4",children:[{value:"public",label:"Public",desc:"Anyone can see your profile"},{value:"followers",label:"Followers Only",desc:"Only your followers can see your profile"},{value:"private",label:"Private",desc:"Only you can see your profile"}].map(h=>d.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"profileVisibility",value:h.value,checked:(e==null?void 0:e.privacySettings.profileVisibility)===h.value,onChange:f=>u("profileVisibility",f.target.value),className:"text-purple-600 focus:ring-purple-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:h.label}),d.jsx("p",{className:"text-gray-400 text-sm",children:h.desc})]})]},h.value))})]}),d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Message Permissions"}),d.jsx("div",{className:"space-y-4",children:[{value:"everyone",label:"Everyone",desc:"Anyone can send you messages"},{value:"followers",label:"Followers Only",desc:"Only your followers can message you"},{value:"none",label:"No One",desc:"Disable direct messages"}].map(h=>d.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"messagePermissions",value:h.value,checked:(e==null?void 0:e.privacySettings.messagePermissions)===h.value,onChange:f=>u("messagePermissions",f.target.value),className:"text-purple-600 focus:ring-purple-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:h.label}),d.jsx("p",{className:"text-gray-400 text-sm",children:h.desc})]})]},h.value))})]})]}),n==="account"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Account Information"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),d.jsx("input",{type:"text",value:e==null?void 0:e.username,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",readOnly:!0}),d.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Username cannot be changed"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),d.jsx("input",{type:"text",value:e==null?void 0:e.displayName,onChange:h=>t({displayName:h.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Writer's Tag"}),d.jsx("input",{type:"text",value:e==null?void 0:e.writersTag,onChange:h=>t({writersTag:h.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),d.jsx("textarea",{value:e==null?void 0:e.bio,onChange:h=>t({bio:h.target.value}),rows:3,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none resize-none"})]})]})]})}),n==="security"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[d.jsx(bC,{className:"w-5 h-5 text-purple-400"}),d.jsx("span",{children:"Change Password"})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),d.jsx("input",{type:"password",value:i.currentPassword,onChange:h=>o(f=>({...f,currentPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),d.jsx("input",{type:"password",value:i.newPassword,onChange:h=>o(f=>({...f,newPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),d.jsx("input",{type:"password",value:i.confirmPassword,onChange:h=>o(f=>({...f,confirmPassword:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none"})]}),d.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"Update Password"})]})]}),d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center space-x-2",children:[d.jsx(EC,{className:"w-5 h-5 text-purple-400"}),d.jsx("span",{children:"Two-Factor Authentication"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:"2FA Status"}),d.jsx("p",{className:"text-gray-400 text-sm",children:e!=null&&e.twoFactorEnabled?"Enabled":"Disabled"})]}),d.jsx("div",{className:`w-4 h-4 rounded-full ${e!=null&&e.twoFactorEnabled?"bg-green-500":"bg-red-500"}`})]}),!(e!=null&&e.twoFactorEnabled)&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email for 2FA"}),d.jsx("input",{type:"email",value:i.email,onChange:h=>o(f=>({...f,email:h.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 focus:outline-none",placeholder:"your@email.com"})]}),d.jsx("button",{onClick:c,className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"Enable 2FA"})]})]})]})]}),n==="notifications"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Notification Preferences"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:"Tag Notifications"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when someone mentions you"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:e==null?void 0:e.privacySettings.tagNotifications,onChange:h=>u("tagNotifications",h.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:"Direct Message Notifications"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified about new messages"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:e==null?void 0:e.privacySettings.directMessageNotifications,onChange:h=>u("directMessageNotifications",h.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]})})]})]})]})},mj=({unreadNotifications:e})=>{const t=Cg(),r=Ca(),{user:n,logout:s}=De(),i=[{icon:yC,label:"Home",path:"/"},{icon:Kn,label:"Explore",path:"/explore"},{icon:Ko,label:"Notifications",path:"/notifications",badge:e},{icon:_C,label:"Messages",path:"/messages"},{icon:rv,label:"Bookmarks",path:"/bookmarks"},{icon:cv,label:"Profile",path:"/profile"},{icon:CC,label:"Settings",path:"/settings"}];return d.jsx("div",{className:"w-64 h-screen sticky top-0 p-6 border-r border-gray-700/50 bg-black/20 backdrop-blur-sm",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:d.jsx(K0,{className:"w-5 h-5 text-white"})}),d.jsx("h1",{className:"text-xl font-bold text-white",children:"CharacterVerse"})]}),d.jsx("nav",{className:"space-y-2",children:i.map(o=>d.jsxs("button",{onClick:()=>t(o.path),className:`w-full flex items-center space-x-4 px-4 py-3 rounded-xl transition-all duration-200 relative ${r.pathname===o.path?"bg-purple-600/20 text-purple-300 border border-purple-500/30":"text-gray-300 hover:bg-gray-800/50 hover:text-white"}`,children:[d.jsx(o.icon,{className:"w-6 h-6"}),d.jsx("span",{className:"font-medium",children:o.label}),o.badge&&o.badge>0&&d.jsx("span",{className:"absolute right-3 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:o.badge>99?"99+":o.badge})]},o.label))}),d.jsxs("button",{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-purple-500/25",children:[d.jsx(Ba,{className:"w-5 h-5"}),d.jsx("span",{children:"Create Post"})]}),d.jsx("div",{className:"pt-8 border-t border-gray-700/50",children:d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-800/50 transition-colors cursor-pointer group",children:[d.jsx("img",{src:n==null?void 0:n.avatar,alt:n==null?void 0:n.displayName,className:"w-12 h-12 rounded-full object-cover ring-2 ring-purple-500/30"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-white font-medium truncate",children:n==null?void 0:n.displayName}),d.jsxs("p",{className:"text-gray-400 text-sm truncate",children:["@",n==null?void 0:n.username]})]}),d.jsx("button",{onClick:s,className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400 transition-all duration-200 text-sm",children:"Logout"})]})})]})})},gj=({children:e})=>{const{unreadNotifications:t}=rt();return d.jsxs("div",{className:"max-w-7xl mx-auto flex min-h-screen",children:[d.jsx(mj,{unreadNotifications:t}),d.jsx("main",{className:"flex-1 max-w-2xl border-x border-gray-700/50",children:e}),d.jsx("div",{className:"w-80 h-screen sticky top-0 p-6 bg-black/20 backdrop-blur-sm"})]})},vj=()=>{const{isAuthenticated:e,loading:t}=De();return t?d.jsx(uv,{}):e?d.jsx(gj,{children:d.jsxs(cb,{children:[d.jsx(Lt,{path:"/",element:d.jsx(TC,{})}),d.jsx(Lt,{path:"/explore",element:d.jsx(OC,{})}),d.jsx(Lt,{path:"/notifications",element:d.jsx(cj,{})}),d.jsx(Lt,{path:"/messages",element:d.jsx(uj,{})}),d.jsx(Lt,{path:"/bookmarks",element:d.jsx(dj,{})}),d.jsx(Lt,{path:"/profile",element:d.jsx(pj,{})}),d.jsx(Lt,{path:"/settings",element:d.jsx(xj,{})}),d.jsx(Lt,{path:"*",element:d.jsx(ab,{to:"/",replace:!0})})]})}):d.jsx(NC,{})};function yj(){return d.jsx(cC,{children:d.jsx(uC,{children:d.jsx(hb,{children:d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:d.jsx(vj,{})})})})})}hg(document.getElementById("root")).render(d.jsx(N.StrictMode,{children:d.jsx(yj,{})}));
